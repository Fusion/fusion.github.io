[{"categories":null,"contents":"What is this? It is very easy to find blog posts and articles explaining how to make some of these components work together. They are also completely outdated.\nIt is not their fault: Kubernetes moves fast, Istio\u0026rsquo;s development seems to move even faster, and cert-manager breaks backward compatibility. Chances are, by the time you read it it will be too late!\nAnyway, in a futile attempt to remain somewhat ahead of the curve, this article was written for Istio-1.6.0-alpha.2. It is fresh!\nFeel free to hop straight to the \u0026ldquo;Tutorial\u0026rdquo; section, if that\u0026rsquo;s your thing.\nA few useful concepts before we get started \u0026ldquo;Gateways\u0026rdquo; and \u0026ldquo;Ingress\u0026rdquo; Gateways and Ingress are not a 100% match to Kubernetes\u0026rsquo; defitinions, so some expectations may be plain wrong. Keep that in mind!\nSetting up  Istio  Getting Started     It is generally recommended to start with the demo manifest:\ncd istio-1.6.0-alpha.2 export PATH=$PWD/bin:$PATH istioctl manifest apply --set profile=demo Let\u0026rsquo;s have a quick looksie:\nkubectl get svc -n istio-system At this stage, we could easily uninstall istio:\nistioctl manifest generate --set profile=demo | kubectl delete -f - # and re-install... Moving on.\nUsing a load balancer (spoiler: I will not) With no load balancer, ingress access can be\u0026hellip; challenging.\nLet\u0026rsquo;s say we are using AWS EKS, for instance. This is how we would configure it:\nkubernetes/cloud-provider-aws\nSecurity (IAM):\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;autoscaling:DescribeAutoScalingGroups\u0026#34;, \u0026#34;autoscaling:DescribeLaunchConfigurations\u0026#34;, \u0026#34;autoscaling:DescribeTags\u0026#34;, \u0026#34;ec2:DescribeInstances\u0026#34;, \u0026#34;ec2:DescribeRegions\u0026#34;, \u0026#34;ec2:DescribeRouteTables\u0026#34;, \u0026#34;ec2:DescribeSecurityGroups\u0026#34;, \u0026#34;ec2:DescribeSubnets\u0026#34;, \u0026#34;ec2:DescribeVolumes\u0026#34;, \u0026#34;ec2:CreateSecurityGroup\u0026#34;, \u0026#34;ec2:CreateTags\u0026#34;, \u0026#34;ec2:CreateVolume\u0026#34;, \u0026#34;ec2:ModifyInstanceAttribute\u0026#34;, \u0026#34;ec2:ModifyVolume\u0026#34;, \u0026#34;ec2:AttachVolume\u0026#34;, \u0026#34;ec2:AuthorizeSecurityGroupIngress\u0026#34;, \u0026#34;ec2:CreateRoute\u0026#34;, \u0026#34;ec2:DeleteRoute\u0026#34;, \u0026#34;ec2:DeleteSecurityGroup\u0026#34;, \u0026#34;ec2:DeleteVolume\u0026#34;, \u0026#34;ec2:DetachVolume\u0026#34;, \u0026#34;ec2:RevokeSecurityGroupIngress\u0026#34;, \u0026#34;ec2:DescribeVpcs\u0026#34;, \u0026#34;elasticloadbalancing:AddTags\u0026#34;, \u0026#34;elasticloadbalancing:AttachLoadBalancerToSubnets\u0026#34;, \u0026#34;elasticloadbalancing:ApplySecurityGroupsToLoadBalancer\u0026#34;, \u0026#34;elasticloadbalancing:CreateLoadBalancer\u0026#34;, \u0026#34;elasticloadbalancing:CreateLoadBalancerPolicy\u0026#34;, \u0026#34;elasticloadbalancing:CreateLoadBalancerListeners\u0026#34;, \u0026#34;elasticloadbalancing:ConfigureHealthCheck\u0026#34;, \u0026#34;elasticloadbalancing:DeleteLoadBalancer\u0026#34;, \u0026#34;elasticloadbalancing:DeleteLoadBalancerListeners\u0026#34;, \u0026#34;elasticloadbalancing:DescribeLoadBalancers\u0026#34;, \u0026#34;elasticloadbalancing:DescribeLoadBalancerAttributes\u0026#34;, \u0026#34;elasticloadbalancing:DetachLoadBalancerFromSubnets\u0026#34;, \u0026#34;elasticloadbalancing:DeregisterInstancesFromLoadBalancer\u0026#34;, \u0026#34;elasticloadbalancing:ModifyLoadBalancerAttributes\u0026#34;, \u0026#34;elasticloadbalancing:RegisterInstancesWithLoadBalancer\u0026#34;, \u0026#34;elasticloadbalancing:SetLoadBalancerPoliciesForBackendServer\u0026#34;, \u0026#34;elasticloadbalancing:AddTags\u0026#34;, \u0026#34;elasticloadbalancing:CreateListener\u0026#34;, \u0026#34;elasticloadbalancing:CreateTargetGroup\u0026#34;, \u0026#34;elasticloadbalancing:DeleteListener\u0026#34;, \u0026#34;elasticloadbalancing:DeleteTargetGroup\u0026#34;, \u0026#34;elasticloadbalancing:DescribeListeners\u0026#34;, \u0026#34;elasticloadbalancing:DescribeLoadBalancerPolicies\u0026#34;, \u0026#34;elasticloadbalancing:DescribeTargetGroups\u0026#34;, \u0026#34;elasticloadbalancing:DescribeTargetHealth\u0026#34;, \u0026#34;elasticloadbalancing:ModifyListener\u0026#34;, \u0026#34;elasticloadbalancing:ModifyTargetGroup\u0026#34;, \u0026#34;elasticloadbalancing:RegisterTargets\u0026#34;, \u0026#34;elasticloadbalancing:DeregisterTargets\u0026#34;, \u0026#34;elasticloadbalancing:SetLoadBalancerPoliciesOfListener\u0026#34;, \u0026#34;iam:CreateServiceLinkedRole\u0026#34;, \u0026#34;kms:DescribeKey\u0026#34; ], \u0026#34;Resource\u0026#34;: [ \u0026#34;*\u0026#34; ] } ] } Node policy:\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Action\u0026#34;: [ \u0026#34;ec2:DescribeInstances\u0026#34;, \u0026#34;ec2:DescribeRegions\u0026#34;, \u0026#34;ecr:GetAuthorizationToken\u0026#34;, \u0026#34;ecr:BatchCheckLayerAvailability\u0026#34;, \u0026#34;ecr:GetDownloadUrlForLayer\u0026#34;, \u0026#34;ecr:GetRepositoryPolicy\u0026#34;, \u0026#34;ecr:DescribeRepositories\u0026#34;, \u0026#34;ecr:ListImages\u0026#34;, \u0026#34;ecr:BatchGetImage\u0026#34; ], \u0026#34;Resource\u0026#34;: \u0026#34;*\u0026#34; } ] } The node name is the instance\u0026rsquo;s private DNS name.\nBeware! If you are running Kubernetes on AWS/EC2 rather than leveraging their proprietary container solution, this external load balancer will not be very helpful.\nSimilarly, installing a bare metal load balancer (metal lb) will not help as it will not have access to a pool of IP addresses.\nNode Port approach So, we installed our manifest. Looks like our gateway will be sitting there, not getting an external IP address.\nLet\u0026rsquo;s retrieve our ports and usable node IP:\nexport INGRESS_PORT=\\ $(kubectl -n istio-system get service istio-ingressgateway \\ -o jsonpath=\u0026#39;{.spec.ports[?(@.name==\u0026#34;http2\u0026#34;)].nodePort}\u0026#39;) export SECURE_INGRESS_PORT=\\ $(kubectl -n istio-system get service istio-ingressgateway \\ -o jsonpath=\u0026#39;{.spec.ports[?(@.name==\u0026#34;https\u0026#34;)].nodePort}\u0026#39;) export INGRESS_HOST=\\ $(kubectl get po -l istio=ingressgateway -n istio-system \\ -o jsonpath=\u0026#39;{.items[0].status.hostIP}\u0026#39;) Sidecar Injection By default, if the matching namespace is correctly labeled, then istio will perform the injection:\nkubectl label ns httpbin istio-injection=enabled But we may wish to perform the injection on a more fine grained level, in an unlabeled namespace. So, let\u0026rsquo;s instead have istio modify our definition file on the fly:\nkubectl apply -f \u0026lt;(istioctl kube-inject -f istio-httpbin.yaml) Test it (no public route yet):\ncurl -I -HHost:web.yoursite.com http://$INGRESS_HOST:$INGRESS_PORT/headers curl -I -HHost:web.yoursite.com http://$INGRESS_HOST:$INGRESS_PORT/status/201pro So, once the injector is there, things start being properly routed. Yeah.\nThe ingress in the ingress So\u0026hellip; OK? No. Not OK. We are still using a bogus port. Not proper 80. What\u0026rsquo;s next, then? Redirections?\nFor instance:\nsudo socat tcp-listen:80,reuseaddr,fork tcp:$INGRESS_HOST:$INGRESS_PORT \u0026amp; sudo socat tcp-listen:443,reuseaddr,fork tcp:$INGRESS_HOST:$SECURE_INGRESS_PORT \u0026amp; Do I recommend this? Not really. Am I going to use it for the purpose of this already complex tutorial? You bet!\nWhat changed in 1.5/1.6\u0026hellip;? When configuring our istio profile:\n--set values.gateways.istio-ingressgateway.sds.enabled=true doesn\u0026rsquo;t change anything\n--set values.global.k8sIngress.enabled=true enables an auto-generated k8s ingress gateway — this is a LEGACY ingress we do not want anymore. In fact, in 1.6 this option is gone.\nTutorial In this tutorial, we are going to setup the now well known bookinfo application, demonstrating Istio\u0026rsquo;s mesh management capabilities:\nNote: Namespace visibility is very important. If you do not pay attention to it, you will spend hours of hair pulling over this \u0026ldquo;almost working\u0026rdquo; situation.\ncert-manager Let\u0026rsquo;s install cert-manager.\nIt is possible that the webhook pod will not come up and describe will reveal that it could not find \u0026lsquo;cert-manager-webhook-tls\u0026rsquo; In this case, give it a few minutes, then run the command again.\nkubectl apply \\ \t-f https://github.com/jetstack/cert-manager/releases/download/v0.14.2/cert-manager.yaml kubectl get pods --namespace cert-manager # Still missing secret after several minutes? Apply again!!! Optional: test cert-manager with a self-signed certificate\ncat \u0026lt;\u0026lt;EOF \u0026gt; test-resources.yaml apiVersion: v1 kind: Namespace metadata: name: cert-manager-test --- apiVersion: cert-manager.io/v1alpha2 kind: Issuer metadata: name: test-selfsigned namespace: cert-manager-test spec: selfSigned: {} --- apiVersion: cert-manager.io/v1alpha2 kind: Certificate metadata: name: selfsigned-cert namespace: cert-manager-test spec: dnsNames: - example.com secretName: selfsigned-cert-tls issuerRef: name: test-selfsigned EOF kubectl apply -f test-resources.yaml kubectl describe certificate -n cert-manager-test kubectl delete -f test-resources.yaml We are using the DNS-01 ACME challenge.\nLetsencrypt and Cloudflare Therefore, using the Cloudflare control panel, we create a new token.\nRight now, a major limitation is that we need to first list all the zones to retrieve zone id; this requires a token with Read access to all zones; however, if we open the token to all zones it can also \u0026lsquo;Edit\u0026rsquo; all DNS entries. In future maybe we should use two tokens, one for each operation.\nAnyway, for now, bottom line is: Read all Zones, Edit all DNS entries. Sigh.\nLet\u0026rsquo;s store our token.\nWhen referencing a Secret resource in ClusterIssuer resources (eg apiTokenKeySecretRef) the Secret needs to be in the same namespace as the cert-manager controller pod!!!\ncat \u0026lt;\u0026lt;EOF \u0026gt; acme-store-token.yaml apiVersion: v1 kind: Secret metadata: name: cloudflare-api-token-secret namespace: cert-manager type: Opaque stringData: api-token: your-cloudflare-token EOF kubectl apply -f acme-store-token.yaml Now, create a cluster issuer.\ncat \u0026lt;\u0026lt;EOF \u0026gt; acme-issuer.yaml apiVersion: cert-manager.io/v1alpha2 kind: ClusterIssuer metadata: name: cloudflare-letsencrypt-prod namespace: cert-manager spec: acme: email: you@yoursite.com server: https://acme-v02.api.letsencrypt.org/directory privateKeySecretRef: name: acme-issuer-account-key solvers: - dns01: cloudflare: email: you@yoursite.com apiTokenSecretRef: name: cloudflare-api-token-secret key: api-token EOF kubectl apply -f acme-issuer.yaml Optional: test cert-manager with the ACME challenge\ncat \u0026lt;\u0026lt;EOF \u0026gt; test-resources-acme.yaml apiVersion: v1 kind: Namespace metadata: name: cert-manager-test --- apiVersion: cert-manager.io/v1alpha2 kind: Certificate metadata: name: acme-cert namespace: default spec: dnsNames: - web.yoursite.com secretName: acme-web-yoursite-secret issuerRef: name: cloudflare-letsencrypt-prod kind: ClusterIssuer EOF kubectl apply -f test-resources-acme.yaml Hello, istio We can now setup a default istio configuration\nistioctl manifest apply kubectl label namespace default istio-injection=enabled Let\u0026rsquo;s also install the bookinfo sample\nkubectl apply -f samples/bookinfo/platform/kube/bookinfo.yaml Let\u0026rsquo;s get a usable certificate for this app\ncat \u0026lt;\u0026lt;EOF \u0026gt; web-yoursite-com-cert.yaml apiVersion: cert-manager.io/v1alpha2 kind: Certificate metadata: name: istio-web-certs namespace: istio-system spec: dnsNames: - web.yoursite.com secretName: acme-web-yoursite-secret issuerRef: name: cloudflare-letsencrypt-prod kind: ClusterIssuer EOF kubectl apply -f web-yoursite-com-cert.yaml Note: it is easy to check the progress and issues of this certificate\u0026rsquo;s signing:\nkubectl get certificaterequest kubectl describe certificaterequest {cert request name} kubectl describe order {order name} kubectl describe challenge {challenge name} Ingress It\u0026rsquo;s still not reachable. We need to add a virtual service\ncat \u0026lt;\u0026lt;EOF \u0026gt; cfr-virtual-service.yaml apiVersion: networking.istio.io/v1alpha3 kind: VirtualService metadata: name: bookinfo spec: hosts: - \u0026#34;web.yoursite.com\u0026#34; gateways: - bookinfo-gateway http: - match: - uri: exact: /productpage - uri: prefix: /static - uri: exact: /login - uri: exact: /logout - uri: prefix: /api/v1/products route: - destination: host: productpage port: number: 9080 EOF kubectl apply -f cfr-virtual-service.yaml And now the most important piece: our gateway\ncat \u0026lt;\u0026lt;EOF \u0026gt; cfr-gateway.yaml apiVersion: networking.istio.io/v1alpha3 kind: Gateway metadata: name: bookinfo-gateway namespace: default spec: selector: istio: ingressgateway servers: - port: number: 443 name: httpz-bookinfo protocol: HTTPS hosts: - \u0026#34;web.yoursite.com\u0026#34; tls: credentialName: acme-web-yoursite-secret mode: SIMPLE privateKey: sds serverCertificate: sds EOF kubectl apply -f cfr-gateway.yaml Check that our gateway is alive and well\nkubectl -n istio-system describe pod/istio-ingressgateway-{etc} kubectl -n istio-system logs pod/istio-ingressgateway-{etc} Finally, since we do not have an actual load balancer available, let\u0026rsquo;s add some port forwarding:\nexport INGRESS_PORT=$(kubectl -n istio-system get service istio-ingressgateway -o jsonpath=\u0026#39;{.spec.ports[?(@.name==\u0026#34;http2\u0026#34;)].nodePort}\u0026#39;) export SECURE_INGRESS_PORT=$(kubectl -n istio-system get service istio-ingressgateway -o jsonpath=\u0026#39;{.spec.ports[?(@.name==\u0026#34;https\u0026#34;)].nodePort}\u0026#39;) export INGRESS_HOST=$(kubectl get po -l istio=ingressgateway -n istio-system -o jsonpath=\u0026#39;{.items[0].status.hostIP}\u0026#39;) sudo socat tcp-listen:443,reuseaddr,fork tcp:$INGRESS_HOST:$SECURE_INGRESS_PORT \u0026amp; sudo socat tcp-listen:80,reuseaddr,fork tcp:$INGRESS_HOST:$INGRESS_PORT \u0026amp; Footnotes Note:the clusterissuer has no selector, therefore it is used to issue certs for everyone! We could have been more subtle:\nselector: matchLabels: \u0026#34;use-cloudflare-solver\u0026#34;: \u0026#34;true\u0026#34; \u0026#34;email\u0026#34;: \u0026#34;user@example.com\u0026#34; selector: dnsNames: - \u0026#39;example.com\u0026#39; - \u0026#39;*.example.com\u0026#39; selector: dnsZones: - \u0026#39;example.com\u0026#39; Could we now update its gateway so that is supports both TLS and not TLS? Yes:\ncat \u0026lt;\u0026lt;EOF \u0026gt; cfr-gateway.yaml apiVersion: networking.istio.io/v1alpha3 kind: Gateway metadata: name: bookinfo-gateway namespace: default spec: selector: istio: ingressgateway servers: - port: number: 443 name: httpz-bookinfo protocol: HTTPS hosts: - \u0026#34;web.yoursite.com\u0026#34; tls: credentialName: acme-web-yoursite-secret mode: SIMPLE privateKey: sds serverCertificate: sds - port: number: 80 name: http-bookinfo protocol: HTTP hosts: - \u0026#34;web.yoursite.com\u0026#34; EOF But could we redirect http to https? Yes using tls/httpsRedirect\ncat \u0026lt;\u0026lt;EOF \u0026gt; cfr-gateway.yaml apiVersion: networking.istio.io/v1alpha3 kind: Gateway metadata: name: bookinfo-gateway namespace: default spec: selector: istio: ingressgateway servers: - port: number: 443 name: httpz-bookinfo protocol: HTTPS hosts: - \u0026#34;web.yoursite.com\u0026#34; tls: credentialName: acme-web-yoursite-secret mode: SIMPLE privateKey: sds serverCertificate: sds - port: number: 80 name: http-bookinfo protocol: HTTP tls: httpsRedirect: true hosts: - \u0026#34;web.yoursite.com\u0026#34; EOF The Big Undo sudo killall socat for app in productpage reviews ratings details; do kubectl delete all -l app=$app -n default done kubectl delete ns cert-manager istio-system CRDNAME=istiooperators.install.istio.io for a in $(k get crd | grep istio | awk \u0026#39;{print $1}\u0026#39;); do k delete crd $a; done kubectl patch crd/${CRDNAME} -p \u0026#39;{\u0026#34;metadata\u0026#34;:{\u0026#34;finalizers\u0026#34;:[]}}\u0026#39; --type=merge for a in $(k get crd | grep cert-manager | awk \u0026#39;{print $1}\u0026#39;); do k delete crd $a; done ","permalink":"http://zteo.com/posts/istio-and-cert-manager-and-lets-encrypt/","tags":["kubernetes","service mesh"],"title":"Istio, Cert-Manager and Let's Encrypt April '20"},{"categories":null,"contents":"Here is a solution to build and use your own Zigbee controller. It will work with most Zigbee devices out there, simply because it doesn\u0026rsquo;t come with any manufacturer-specific assumptions.\nThis is achieved by using your own hardware to sniff Zigbee packets and correctly interpreting these packets to feed relevant information to your iOT platform of choice. In my case: Home Assistant.\nThe name of this project is Zigbee 2 MQTT and you can get support directly from Koen Kanters on the Home Assistant forum topic.\nIt is a bit tricky to get working because every step needs to be performed in the correct order. So, here goes.\nHardware First, you need hardware that will work with this project. You will be using a Texas Instruments CC2531USB sniffer to read/write Zigbee RF packets. I found mine in this eBay listing: CC2531 CC2540 Sniffer Protocol Analyzer USB Dongle\u0026amp;BTool + Downloader for Zigbee. Yes, it comes with its own download cable.\nYou also need to flash a specific firmware om this dongle. The firmware can be found here and the box to flash it in this listing: CC Debugger and Programmer Downloader for RF System-on-Chips ICSH015A.\nIt should take a couple weeks for these components to arrive after you order them.\nThis page does a pretty good job of explaining how to flash the firmware. A few things that are not immediately clear, though:\n Make sure that both the programmer/debugger box and the cc2351 dongle are connected to your computer\u0026rsquo;s USB ports! On Windows, if the programmer shows in your Device Manager as an unknown device, you need to manually update its device driver. Right-click, select Properties then Update Driver. From the CC Debugger Driver archive, select cebal/win_64bit_x64/ or from the SmartRF Tools folder itself, select Drivers/Cebal/win_64bit_x64. The programmer may not be able to \u0026ldquo;see\u0026rdquo; the dongle. In this case, you may need to first upgrade the programmer itself: using the same tools recommended in this page, you can not only flash the dongle itself, but you can also update the programmer\u0026rsquo;s firmware as well: select the firmware from SmartRF Tools/Firmware/CC Debugger/cebal_fw_sf05dbg.hex and in the tool itself under \u0026ldquo;What do you want to program?\u0026rdquo; select \u0026ldquo;Program Evaluation Board\u0026rdquo;  If, despite all this, the programmer\u0026rsquo;s light remains red, triple-check your connections. If this doesn\u0026rsquo;t fix it, I am sorry to have to tell you that some of these guys may be defective (check there is no bridge in the jumper headers, these amazingly cheap components sometime suffer from some shoddy soldering)\nConnectivity Now, for what you might expect to be the \u0026ldquo;easier\u0026rdquo; part. It may not be.\nWhen you insert the dongle in a Linux box\u0026rsquo;s USB port, a new device should show up: likely /dev/ttyACM0 or /dev/ttyUSB0. In my case, because I already had a ZWave USB stick in another port, the Zigbee dongle ended up being /dev/ttyACM1.\nNothing shows up\u0026hellip; First check the output of dmesg and see if anything suspiscious is in there. If you see a message informing you that some unknown USB device was added, but nothing more, your kernel may be missing a driver for the \u0026lsquo;gadget\u0026rsquo; protocol.\nRun this command:\nlsmod | grep cdc_acm If it does not return anything, you will need to add this driver. Sorry, but this case would require its own blog post. Or\u0026hellip; you could take the easy path, if you have another Linux laptop where this driver is installed.\nIf it does return something, however, the kernel may simply have missed the insertion. Try reloading the driver:\nrmmod cdc_acm \u0026amp;\u0026amp; modprobe cdc_acm What was that about another laptop? Ah, yes. In my case, the laptop I was trying to run Zigbee2mqtt on is running an older version of RancherOS. But, since I had another laptop running a less exotic kernel, I decided to share the device between the two laptops. This is pretty easy.\nOn the device with the \u0026ldquo;good\u0026rdquo; kernel, install socat and run:\nsudo tcp-l:4001,keepalive,reuseaddr /dev/ttyACM0 On the laptop you wish to mount this device:\nsudo socat pty,link=/dev/lio0,user=rancher,group=dialout,mode=660,ignoreof,waitslave tcp:{connected host ip}:4001 By the way do not forget to add your user to the group this device will belong to. For instance:\nusermod -aG dialout {your user} Pairing  Install Zigbee2mqtt as described here. An easy way to install the pre-requisite Node is to use nodenv  nodenv install 10.14.2 echo \u0026#39;export PATH=~/.nodenv/versions/10.14.2/bin:~/.nodenv/bin:$PATH\u0026#39; \u0026gt;\u0026gt; ~/.bashrc exec bash  In the configuration file (data/configuration.yaml) make sure that you have:  homeassistant:truepermit_join:truemqtt:base_topic:zigbee2mqttserver:\u0026#39;mqtt://{IP address of your mqtt broker}\u0026#39;serial:port:/dev/ttyACM0 Insert the dongle into the USB port. The green LED turns on. Push the tiny debug button next to the USB connector. The LED should turn off. Do not skip this step! Run Zigbee2mqtt:  npm start When the server tells you it is ready, you can start pairing your device.\nIn my case, I am installing a Sengled lightbulb. To initiate pairing, I turn it on, then off-on 10 times.\nAfter a while, you should start seeing log entries about receiving messages from an unknow device. Eventually, this unknown device will become known. Score!\nIt doesn\u0026rsquo;s show up in Home Assistant In Home Assistant\u0026rsquo;s configuration.yaml check your mqtt entry.\nIf you are also using a Smartthing MQTT bridge, you will need to remove the filter. Delete:\ndiscovery_prefix:smartthingsYou also need to tell mqtt what topics to pay attention to:\nmqtt:broker:{IPaddressofyourmqttbroker}discovery:truebirth_message:topic:\u0026#39;hass/status\u0026#39;payload:\u0026#39;online\u0026#39;will_message:topic:\u0026#39;hass/status\u0026#39;payload:\u0026#39;offline\u0026#39;Restart Home Assistant!\nI need to remove the pairing This could happen because you have had unsuccessful attempts at discovering the new device. Now, when Zigbee2mqtt comes up, it reminds us how it \u0026ldquo;knows\u0026rdquo; about this device. Maybe it does. Maybe not well enough. Maybe Home Assistant does not want to hear about this device again.\nLet\u0026rsquo;s make both Zigbee2mqtt and the dongle forget about this device.\nSoftware-side, it is as simple as removing our local database:\nrm data/database.db Of course, this is the nuclear option: all your devices are now gone from the database.\nTo cleanly remove a single device, send this message (see below for more MQTT information):\nzigbee2mqtt/bridge/config/remove:{\u0026#34;friendly_name\u0026#34;: \u0026#34;{device name}\u0026#34;}Dongle-side, let\u0026rsquo;s write a quick program that will perform a hard reset:\n# cfr.js const ZShepherd = require(\u0026#39;zigbee-shepherd\u0026#39;); const zserver = new ZShepherd(\u0026#39;/dev/ttyACM0\u0026#39;); zserver.on(\u0026#39;ready\u0026#39;, function () { zserver.reset(0, function (err) { if (!err) console.log(\u0026#39;reset successfully.\u0026#39;); else console.log(\u0026#34;error: \u0026#34; + err); }); }); zserver.start(function (err) { if (err) console.log(err); }); You need to fix a minor bug in Zigbee2mqtt due to Node\u0026rsquo;s library updates:\nIn node_modules/zigbee-shepherd/lib/shepherd.js look for \u0026lsquo;baudrate\u0026rsquo; and update the line with \u0026lsquo;baudRate\u0026rsquo;\nspCfg.options = opts.hasOwnProperty(\u0026#39;sp\u0026#39;) ? opts.sp : { baudRate: 115200, rtscts: true }; Then\nnode cfr.js You can now restart Zigbee2mqtt and attempt the pairing procedure again. Make sure the dongle is in debug mode!\nDebugging MQTT The simplest way is to install this Chrome extension: MQT Lens.\nConfigure a connection to your broker\u0026rsquo;s IP address, port 1883.\nThen, subscribe to # \u0026lsquo;at least once\u0026rsquo; \u0026ndash; you will now see all MQTT messages.\nWhen Zigbee2mqtt comes up:\nzigbee2mqtt/bridge/state:onlineWhen a device is pairing:\nhomeassistant/light/0x....homeassistant/sensor/0x....-- etc--You should now find the corresponding devices in Home Assistant\u0026rsquo;s device state page.\nAlternatively, you can use the mosquitto publisher client so, for instance, to remove a device as described earlier:\nmosquito_pub -h {IP address of your mqtt broker} -t zigbee2mqtt/bridge/config/remove -m \u0026#39;{\u0026#34;friendly_name\u0026#34;: \u0026#34;{device name}\u0026#34;}\u0026#39; systemctl So, after getting all this working, you\u0026rsquo;ve been following these instructions but that is not working.\nIf, like me, you are using nodenv, then you need to adapt the startup script a smidge. In my case:\nExecStart=/home/chris/.nodenv/versions/10.14.2/bin/node index.js And, to keep debugging your server and devices\u0026rsquo; lifecycle, log output can now be found here:\njournalctl -u zigbee2mqtt.service -f ","permalink":"http://zteo.com/posts/zigbee2mqtt-step-by-step/","tags":null,"title":"Zigbee2mqtt Step by Step"},{"categories":null,"contents":"","permalink":"http://zteo.com/posts/reason-native-app-part-14/","tags":["reason","functional"],"title":"Creating a ReasonML Native App: Memoizing DNS queries"},{"categories":null,"contents":"","permalink":"http://zteo.com/posts/reason-native-app-part-13/","tags":["reason","functional"],"title":"Creating a ReasonML Native App: Native JSON Handling"},{"categories":null,"contents":"","permalink":"http://zteo.com/posts/reason-native-app-part-12/","tags":["reason","functional"],"title":"Creating a ReasonML Native App: Handling CSV Files"},{"categories":null,"contents":"","permalink":"http://zteo.com/posts/reason-native-app-part-11/","tags":["reason","functional"],"title":"Creating a ReasonML Native App: Shell Commands"},{"categories":null,"contents":"","permalink":"http://zteo.com/posts/reason-native-app-part-10/","tags":["reason","functional"],"title":"Creating a ReasonML Native App: Web Requests"},{"categories":null,"contents":"","permalink":"http://zteo.com/posts/reason-native-app-part-9/","tags":["reason","functional"],"title":"Creating a ReasonML Native App: Native Promises"},{"categories":null,"contents":"","permalink":"http://zteo.com/posts/reason-native-app-part-8/","tags":["reason","functional"],"title":"Creating a ReasonML Native App: Files I/Os"},{"categories":null,"contents":"","permalink":"http://zteo.com/posts/reason-native-app-part-7/","tags":["reason","functional"],"title":"Creating a ReasonML Native App: Python Plugins"},{"categories":null,"contents":"","permalink":"http://zteo.com/posts/reason-native-app-part-6/","tags":["reason","functional"],"title":"Creating a ReasonML Native App: Curses Terminal Interface"},{"categories":null,"contents":"This is going to be a fairly short post, as it focuses on using the config-file library. As previously mentioned, when I mention a library in RasonML\u0026rsquo;s native context, chances are pretty good that I am referring to one of OCaml\u0026rsquo;s many available libraries.\nOur configuration files are not going to be json-formatted of xml-based; instead they are a tad\u0026hellip;OCaml-ish, which of course is instantly betrayed by our use of comments:\nhost_info = { (* Server ip address or host name *) ip = \u0026#34;127.0.0.1\u0026#34; (* User name (or none if no login is required) *) user = user ... } This library\u0026rsquo;s usage is pretty straightforward: after opening the library, we instantiate a new group object. The first thing we will do is create a default configuration file with sane values. Thus far, we have:\nopen Config_file; let group = new group; ... group#write(\u0026#34;config/default.cfg\u0026#34;); \rClasses\u0026rsquo; members are accessed using objectname#member and not using dot notation. This behavior is inherited from OCaml.\rTo be clear, this code does not do much of anything: it is writing an empty configuration file. What we need to do, before writing the file, is create a few entries:\nlet _ip = (new string_cp)( ~group, [\u0026#34;host_info\u0026#34;, \u0026#34;ip\u0026#34;], \u0026#34;127.0.0.1\u0026#34;, \u0026#34;Server ip address or host name\u0026#34;); ... The library supports several types of configuration objects:\n int_cp, float_cp, bool_cp, string_cp, list_cp, option_cp, enumeration_cp, tuple2_cp, tuple3_cp, tuple4_cp, string2_cp, font_cp, filename_cp  We construct an object with:\n which group this preference belongs to, the key\u0026rsquo;s hierarchy, a default value and a description.  You can use a shortand when passing a variable named after the option being targeted: myname = myname =\u0026gt; ~myname\rBut, what if you want to make a preference optional?\nThis is the option_cp type. Use a wrapper to turn objects into these option types. For instance, to provide an optional string:\nlet _start_at = (new option_cp)( string_wrappers, ~group, [\u0026#34;run_info\u0026#34;, \u0026#34;start_at\u0026#34;], None, \u0026#34;Only start test when matching this record timestamp/duration\u0026#34;); Rather than None obviously our default value could have been Some(\u0026quot;my-time\u0026quot;)\nReading\nReading a configuration file is just as straightforward:\nlet read_config_file = (dir_path) =\u0026gt; { group#read( ~on_type_error= (groupable_cp, raw_cp, output, filename, in_channel) =\u0026gt; { /* * Handle read error. Parameter names can be retrieved using * String.concat(\u0026#34;.\u0026#34;, groupable_cp#get_name), */ }, sprintf(\u0026#34;%s/default.cfg\u0026#34;, dir_path)); }; Bonus: reading a .ignore file line-by-line\nThis is helpful for quick prototyping: how do you read an arbitrary collection of strings from a file?\nlet read_ignore_list = (dir_path, name) =\u0026gt; List.fold_left((accu, item) =\u0026gt; StringSet.add(item, accu), StringSet.empty, Str.split( Str.regexp(\u0026#34;\\n\u0026#34;), my_read_file_function(sprintf(\u0026#34;%s/ignored.%s\u0026#34;, dir_path, name))) ); ","permalink":"http://zteo.com/posts/reason-native-app-part-5/","tags":["reason","functional"],"title":"Creating a ReasonML Native App: Configuration Files"},{"categories":null,"contents":"Before going into how specific features were implemented with Reason and OCaml\u0026rsquo;s help, let\u0026rsquo;s have a quick look at our application\u0026rsquo;s logic\n(Refresh if the diagram below doesn\u0026rsquo;t display properly)\ngraph TB; main -- |play scenario| run main -- |edit scenario| editor main --- |read/reset| Config editor --- |r/w content| Web run -- |delegate| Web run --- |interact with| Plugins run --- |compare| Entities Web -.- |r/w| cookies Web -.- |r/w| headers Web -.- |r/w| sessions Web -.- |r/w| content cookies -.- ws[\"web sites\"] headers -.- ws[\"web sites\"] sessions -.- ws[\"web sites\"] content -.- ws[\"web sites\"] Web --- |delegate| CfrIO Web --- |manipulate| WebContext CfrIO -.- |r/w json| js[\"file system\"] CfrIO -.- |execute| cmds[\"local commands\"]  You will immediately notice that:\n This is a CLI application, with some help from NCurses when editing a scenario file. We try to keep all local side effects isolated in their own class. Surely, most of this business must be asynchronous!  Since this is a CLI application, the first thing we are going to do is try to figure out what it is the user wants us to do. That is\u0026hellip;\nHandling command line arguments The beauty of having pattern matching available is that we can quickly write some arguments handling without requiring an additional library.\nFirst, we are going to have a quick look at Sys.argv to determine what high level operation we are trying to perform. We may wish to run a scenario, edit its json file, display our program\u0026rsquo;s help page, etc.\nKeeping in mind that, as in any language, argv[0] represents our executable itself, here is some simple routing:\nlet () = switch (Sys.argv) { | [|_|] =\u0026gt; display_help() | [|_, \u0026#34;test\u0026#34;|] =\u0026gt; run_test() | [|_, \u0026#34;help\u0026#34;|] =\u0026gt; display_help() | [|_, \u0026#34;sanity\u0026#34;|] =\u0026gt; display_sanity() | [|_, \u0026#34;timestamp\u0026#34;, ts, te|] =\u0026gt; display_timestamp(ts, te) | [|_, \u0026#34;reset\u0026#34;|] =\u0026gt; Config.write_default_config_file() | arguments when arguments[1] == \u0026#34;run\u0026#34; =\u0026gt; ... | [|_, \u0026#34;modified\u0026#34;|] =\u0026gt; display_modifications() | [|_, \u0026#34;edit\u0026#34;, fn|] =\u0026gt; Editor.edit_source(fn) | _ =\u0026gt; display_help() }; If the user, for instance, types ./reasonable-fidelity timestamp and omits both timestamp parameters, we will default to displaying the help page.\nIn ReasonML, arrays are denoted by [| |] while lists use [ ]\rOur most interesting match is the run argument, which was purposefuly elided here. What our program does is check for pre-requisites, take the relevant remaining arguments and passes them to a function that will then match these arguments to build an array of valid requests:\nlet rec process_args = (args, ret) =\u0026gt; switch (args) { | [] =\u0026gt; ret | [head, ...tail] =\u0026gt; switch (head) { | \u0026#34;--csv\u0026#34; =\u0026gt; ArgSet.add(Csv, process_args(tail, ret)) | \u0026#34;--forcelogin\u0026#34; =\u0026gt; ArgSet.add(ForceLogin, process_args(tail, ret)) | \u0026#34;--source\u0026#34; =\u0026gt; switch (tail) { | [] =\u0026gt; raise(MissingArgument(\u0026#34;--source\u0026#34;)) | [arg1, ...tail] =\u0026gt; ArgSet.add(Source_file(arg1), process_args(tail, ret)) } | \u0026#34;--config\u0026#34; =\u0026gt; switch (tail) { | [] =\u0026gt; raise(MissingArgument(\u0026#34;--config\u0026#34;)) | [arg1, ...tail] =\u0026gt; ArgSet.add(Config_dir(arg1), process_args(tail, ret)) } | arg_ =\u0026gt; raise(InvalidArgument(arg_)) } }; These valid requests were declared as a variant type:\ntype cmdlineargs = | Source_file(string) | Config_dir(string) | ForceLogin | Csv; Now that we have a normalized array of requests, we can process it:\nlet arg_use_csv = ref(false); let arg_no_login = ref(true); let arg_source_file = ref(\u0026#34;example.har\u0026#34;); let arg_dir_path = ref(\u0026#34;config\u0026#34;); ArgSet.iter( k =\u0026gt; switch (k) { | Csv =\u0026gt; arg_use_csv := true | ForceLogin =\u0026gt; arg_no_login := false | Source_file(file_name) =\u0026gt; arg_source_file := file_name | Config_dir(dir_path) =\u0026gt; arg_dir_path := dir_path }, args, ); Using mutability, we will set some variables to default sane values, then update them with our array\u0026rsquo;s content.\nIn ReasonML, mutable variables can be declared using ref(value) and that referenced value can be updated using the := operator.\rBut, what is ArgSet?\nThe missing piece: ReasonML lets you create modules based on other modules, to implement your own behaviors. In this example, we are talking about a very light implementation:\nmodule ArgSet = Set.Make({ type t = cmdlineargs; let compare = Pervasives.compare; }); We are creating a new module, meant to store requests in a set. This set is declared to be of a type cmdlineargs (see above) and its components can be compared using the default Pervasives module\u0026rsquo;s comparison method. If you are not yet familiar with this module, please bookmark this page as it provides basic operations over ReasonML\u0026rsquo;s built-in types.\nAs you write more ReasonML, you will see lots of references to type t as an object\u0026rsquo;s type. This convention is used for clarity. For instance, it could be used when destructuring objects to write concise matching.\nFinally, we use a couple exceptions to denote incorrect arguments:\nexception MissingArgument(string); exception InvalidArgument(string); Yes, ReasonML has exceptions support. No, you should not use them in idiomatic code. Here, I am using exceptions because I wish to bail out of the program itself. If it was in the middle of, say, processing files in a fairly long loop, returning an option object would allow the program to treat this error code as any expected condition. This is not a new pattern, but it is worth noticing its adoption in \u0026ldquo;modern\u0026rdquo; languages: the authors of the Rust language decided not to support exceptions and instead always provide error codes. This forces the developer to immediately think about how to handle these errors, as opposed to passing the buck further up the execution stack.\n","permalink":"http://zteo.com/posts/reason-native-app-part-4/","tags":["reason","functional"],"title":"Creating a ReasonML Native App: Command Line Arguments"},{"categories":null,"contents":"This is by far the most boring piece of this whole endeavor.\nUnfortunately, as we accumulate years of experience, old habits accrete on the programmer and tools such as Make become an integral part of our fossilized identity. You will have to forgive me for my use of Makefiles!\nOur Makefile will contain targets for building release binaries for MacOS and Linux as well as preparing our system for Curses bindings.\nOur build targets are the simplest. Since I am building on MacOS, the build target will be run both natively and in a docker container to \u0026ldquo;cross-compile\u0026rdquo; a Linux version:\nbuild: jbuilder build release: releases/reasonable-fidelity-macos releases/reasonable-fidelity-linux releases/reasonable-fidelity-macos: @echo \u0026#34;Storing macos release in releases/\u0026#34; \u0026amp;\u0026amp; \\  cp _build/default/src/main.exe releases/reasonable-fidelity-macos releases/reasonable-fidelity-linux: @echo \u0026#34;Storing linux release in releases/\u0026#34; \u0026amp;\u0026amp; \\  docker cp ubuntu-headless:/home/chris/reasonable-fidelity/_build/default/src/main.exe releases/reasonable-fidelity-linux Our use of jbuilder should be a pretty clear indicator that we are working squarely in an OCaml tooling environment.\nRunning our compiled binaries while under development is as simple as:\nrun: build ./_build/install/default/bin/reasonable-fidelity run The remainder of the Makefile is dedicated to making sure we have working Curses bindings:\nCURSES_PKG_NAME=ocaml-curses-1.0.3.ogunden1.tar.gz prepare_curses: prepare_tools ocaml-curses-1.0.3 ocaml-curses-1.0.3/patched curses_howto prepare_tools: ifeq (,$(shell which curl)) ifeq (,$(shell which wget2)) @echo \u0026#34;\\n# Please, install curl or wget #\\n\u0026#34; exit 1 else $(eval getter := wget) endif else $(eval getter := curl -O) endif ifeq (,$(shell which autoreconf)) @echo \u0026#34;\\n# Please, install autoconf/autoreconf #\\n\u0026#34; exit 1 endif ifeq (,$(shell which make)) @echo \u0026#34;\\n# Please, install make and build essential #\\n\u0026#34; exit 1 endif ocaml-curses-1.0.3: @echo \u0026#34;\\n# Downloading curses source code file\\n\u0026#34; \u0026amp;\u0026amp; \\  $(getter) http://ocaml.phauna.org/distfiles/$(CURSES_PKG_NAME) \u0026amp;\u0026amp; \\  tar zxvf $(CURSES_PKG_NAME) \u0026amp;\u0026amp; \\  rm $(CURSES_PKG_NAME) ocaml-curses-1.0.3/patched: @echo \u0026#34;\\n# Patching curses source code file\\n\u0026#34; \u0026amp;\u0026amp; \\  cd ocaml-curses-1.0.3 \u0026amp;\u0026amp; \\  autoreconf \u0026amp;\u0026amp; \\  configure --enable-widec \u0026amp;\u0026amp; \\  sed -i \u0026#39;/if test -n \u0026#34;$$TERM_H_STRING\u0026#34;/i TERM_H_STRING=\u0026#34;\u0026lt;term.h\u0026gt;\u0026#34;\u0026#39; configure \u0026amp;\u0026amp; \\  touch patched curses_howto: @echo \u0026#34;\\nIf you are using this patched curses version\\n(all the patch does is lie about \u0026#39;term.h\u0026#39;)\u0026#34; \u0026amp;\u0026amp; \\  echo \u0026#34;then do not forget to:\\n\\n cd ocaml-curses-1.0.3\\n make all opt install\\n\u0026#34; ","permalink":"http://zteo.com/posts/reason-native-app-part-3/","tags":["reason","functional"],"title":"Creating a ReasonML Native App: Building and Running"},{"categories":null,"contents":"Installing Reason First, we will need OCaml. This is because our Reason code will be compiled to OCaml, then, using the OCaml compiler, to native code.\nI would strongly recommend installing opam, rather than directly installing any distribution-native flavor of OCaml. The simplest way is using this bootstrap script:\nwget https://raw.github.com/ocaml/opam/master/shell/opam_installer.sh -O - | sh -s /usr/local/bin You can now simply update and install the desired version of OCaml. Right now, Reason works best with versions ~ 4.05:\nopam update \u0026amp;\u0026amp; opam switch 4.05.0 And finally reason and merlin, its completion tool:\nopam install reason merlin Configuring our favorite editor If you happen to be in love with VSCode, you\u0026rsquo;are almost there. It\u0026rsquo;s definitely the editor that Reason\u0026rsquo;s authors seem to favor.\nIf you are more interested in the nitty gritty of a proper, clean install for native code, let\u0026rsquo;s have a look at my vim setup\u0026hellip;\nOur favorite editor is vim (today, anyway) Note: recently, support for Reason was baked into OniVim. This makes it a very easy starting point! Check it out\rFirst, you need to install the OCaml language server. I know a language server specific to Reason also exists, but again, that plugin may not perform as well w/r/t native OCaml integrations.\nnpm install -g ocaml-language-server Yes,I know: Node, again, totally inescapable!\nNow, let\u0026rsquo;s install our vim plugins: Language Support Client and vim-reason-plus \u0026ndash; if you are using Vim-Plug (my favorite plugin manager) simply add these lines to your ~/.vimrc\nPlug \u0026#39;reasonml-editor/vim-reason-plus\u0026#39;Plug \u0026#39;autozimu/LanguageClient-neovim\u0026#39;, {\\ \u0026#39;branch\u0026#39;: \u0026#39;next\u0026#39;,\\ \u0026#39;do\u0026#39;: \u0026#39;bash install.sh\u0026#39;,\\ }...autocmd BufReadPost *.re setlocal filetype=reason...let g:LanguageClient_loggingLevel = \u0026#39;DEBUG\u0026#39;let g:LanguageClient_serverCommands = { \\ \u0026#39;reason\u0026#39;: [\u0026#39;ocaml-language-server\u0026#39;, \u0026#39;--stdio\u0026#39;], \\ \u0026#39;ocaml\u0026#39;: [\u0026#39;ocaml-language-server\u0026#39;, \u0026#39;--stdio\u0026#39;], \\ }let g:LanguageClient_autoStart = 1nnoremap \u0026lt;silent\u0026gt; gd :call LanguageClient_textDocument_definition()\u0026lt;cr\u0026gt;nnoremap \u0026lt;silent\u0026gt; gf :call LanguageClient_textDocument_formatting()\u0026lt;cr\u0026gt;nnoremap \u0026lt;silent\u0026gt; \u0026lt;cr\u0026gt; :call LanguageClient_textDocument_hover()\u0026lt;cr\u0026gt;After opening a Reason project directory (dumb way: vim src/*.re) you may find that the first file is not properly highlighted: you may need to issue a :e command. Worse: if you open all the files together (vim -p src/*.re) you will have to repeat this for every buffer. Hit me up if you figure out what I\u0026rsquo;ve done wrong!\nAt this point, I recommend that you clone \u0026lsquo;reasonable fidelity\u0026rsquo; so that you can follow along:\ngit clone git@github.com:Fusion/reasonable-fidelity.git Of particular interest: src/jbuild \u0026ndash; we are going to list all our libraries in this file to provide some helpful hints to editors and builder:\n(jbuild_version 1) (executable ((name main) (public_name reasonable-fidelity) (libraries (lwt cohttp cohttp-lwt-unix yojson str config-file extlib lymp diff curses)))) You can use the same list, almost verbatim, to manually install the required libraries:\nopam install lwt cohttp cohttp-lwt-unix yojson str config-file extlib lymp diff curses We are now ready to get to work\u0026hellip;\n","permalink":"http://zteo.com/posts/reason-native-app-part-2/","tags":["reason","functional"],"title":"Creating a ReasonML Native App: Installing, Editing, Configuring"},{"categories":null,"contents":"I believe this is, as of now (2018), one of few articles you will find about creating a native application using ReasonML. While Facebook came up with this interesting language/syntax that compiles to OCaml, it seems that they have focused their energy on transpiling it to JavaScript using BuckleScript\nThis means that if you wish to create a \u0026ldquo;native\u0026rdquo; application, it seems that you are expected to rely on Node and Electron. And that\u0026rsquo;s a shame, because OCaml itself provides a very competent native compiler and we are going to use it. I hope I can remember all the hoops I had to jump through so that you don\u0026rsquo;t have to.\nGitHub Project\nMy goal This is, hopefully, the first of a series of blog posts I will write over a few weeks to make it easier for anyone else to start using ReasonML natively.\nI will show you how I created an application that provides an easy way to check that a web site — especially a single page application (\u0026lsquo;SPA\u0026rsquo;) — reliably sends the same replies to the same queries, thus avoiding regressions due to new features being added or old issues being addressed.\nThis application needs to be fast and multi platforms.\nHow? You favorite web browser likely provides a way to generate a HAR file, and we are going to leverage this file. A .har file contains, in json format, a list of all HTTP queries and the website\u0026rsquo;s responses.\nFor instance, in Chrome:\n Open a tab to the page you are planning on automating Open the developer console (on MacOS: ⌘ Opt i ) and click [ ] Preserve log  Navigate to the Network tab Perform all desired interactions with the web page/application When done, right-click anywhere in the now sizable list of network events Select Save as HAR with content and save with a memorable name.  This was step #1. Step #2 consists of running our application (\u0026ldquo;reasonable fidelity\u0026rdquo;) and make sure that it is happy.\nSo, what will we learn?  Installing Reason and OCaml Configuring our favorite editor as an IDE Configuring a native application Building and running a native application Handling command line arguments Reading configuration files Creating an interactive terminal interface using NCurses Wiring in Python plugins Native File I/Os Native Promises Web Requests, posting, cookies and tokens Invoking the Shell Exporting to CSV[?] Parsing/Generating JSON Natively (no JavaScript library) Memoizing DNS queries  TLDR Yes, there\u0026rsquo;s a \u0026ndash; very \u0026ndash; short version:\n Forget about all the JavaScript interop literature you will find online OCaml \u0026ndash; and its vast library \u0026ndash; is your (not-at-all) secret weapon: after all, Reason lives on top of OCaml!  Don\u0026rsquo;t panic! If you are not all that familiar with OCaml\u0026rsquo;s syntax, Reason comes with an excellent tool called refmt which allows you to translate OCaml code to Reason.\nKeep in mind that, target-wise, native compiling and using BuckleScript do not intersect:\n(Refresh if the diagram below doesn\u0026rsquo;t display properly)\ngraph TB; sc[\"Reason Code\"] -- |compile| oc[\"Ocaml Code\"] oc --- |link| ol[\"OCaml Libraries\"] subgraph _ ol -- |native compile| nb[\"Native Binary\"] end oc --- |link| bl[\"BuckleScript Libraries\"] subgraph __ bl -- |BuckleScript compile| JavaScript end ","permalink":"http://zteo.com/posts/reason-native-app/","tags":["reason","functional"],"title":"Creating a ReasonML Native App: What We Are Building"},{"categories":null,"contents":"A great man has left us.\nhttp://www.media.mit.edu/people/in-memory/papert﻿\n[![](https://lh3.googleusercontent.com/proxy/jWgmzCr1w062Sd66Rjt2yQJb6KeW7uRat- QlTi2qhR17N7LBAlYePHV19EI7eONe0PjFQWFvoKmJ8_le=w506-h910)](http://www.media.mit.edu/people/in- memory/papert)\n","permalink":"http://zteo.com/posts/a-great-man-has-left-us/","tags":null,"title":"A great man has left us."},{"categories":null,"contents":"Added a tiny command installer to sbase-for-android.\nMan, I use these commands all the time: so nice being table to type ls -ltr\n﻿\n[![](https://lh3.googleusercontent.com/proxy/bF5vqTFqS7nNhYcyaykZV1bSHufGNYs0Qkqm955mgFlYLZ- BbPFN6gYM9w7z0d6IPQOiFYQwflVPS99jre1DY1gs2C4x9BnQD9hIdk3kGTHM0wI=w506-h910)](https://github.com/Fusion/sbase- for-android)\n","permalink":"http://zteo.com/posts/added-a-tiny-command-installer-to-sbase-for-android/","tags":null,"title":"Added a tiny command installer to sbase-for-android."},{"categories":null,"contents":"Full automation: Consul monitoring of a Rancher setup across the board, with some Ansible help.﻿\n(https://github.com/Fusion/consul-in-rancher)\n","permalink":"http://zteo.com/posts/full-automation-consul-monitoring-of-a-rancher-setup-across-the-board-with-some-ansible-help/","tags":null,"title":"Full automation: Consul monitoring of a Rancher setup across the board, with some Ansible help."},{"categories":null,"contents":"I was totally not completely wrong to buy a mid 2010 Mac pro!\n\u0026hellip;because of course right after I bought it, it was discontinued. And I bought it for teh upgradez!\nAnyway, I just:\n1. Upped its RAM amount to 32GB (Apple begrudgingly updated their web site to finally admit that, yes, 8GB sticks are supported) (http://www.frys.com/product/8008624?site=sr:SEARCH:MAIN_RSLT_PG)\n2. Switched to a 980GB Patriot Ignite SSD (http://frys.com/product/8358357?site=sr:SEARCH:MAIN_RSLT_PG)\n3. Swapped the video card for my \u0026ldquo;old\u0026rdquo; PC\u0026rsquo;s GTX660 \u0026ndash; not officially supported but totally works except EFI boot. Old but still 2.5x the performance provided by the original HD5770, plus access to Cuda.(http://www.frys.com/product/7551666)\nIn summary: I am getting the same level of upgradability as I would from a hackintosh, for what ends up being a similar amortized cost, minus the headaches.﻿\n![](https://lh3.googleusercontent.com/proxy/4YvidkJm8p-z1TFc69zzn00ar_alOwY8whxqR_IghCRdxa5-mtUuRVm5uW5-Ls1U0Wda4K2rRd7mGEYc- fdH_-Z6JMX0VqplYA=w506-h910)\n","permalink":"http://zteo.com/posts/i-was-totally-not-completely-wrong-to-buy-a-mid-2010-mac-pro/","tags":null,"title":"I was totally not completely wrong to buy a mid 2010 Mac pro!"},{"categories":null,"contents":"This is so ridiculous. Hearing the same folks who claim that gun control doesn\u0026rsquo;t work are now making the case that terrorists attacks could be prevented by forcing cell phone vendors to hand over encryption keys.\nYou have to pick one: either the bad guys go through alternative channels than honest people, as can be the case with guns, or they don\u0026rsquo;t. In case you do not understand that, the baddies do not have to use the same encryption methods as other users, either.\nWell, at least we know how to survive a face palm\u0026hellip;﻿\n![](https://lh3.googleusercontent.com/-xFq- GYaM3Dw/VkplTDRjuaI/AAAAAAAAKg4/rs2RUP6l5s4/w506-h750/i-love- tickles_o_403548.webp)\n","permalink":"http://zteo.com/posts/this-is-so-ridiculous-hearing-the-same-folks-who-claim-that-gun-control-doesn-t-work-are-now-making/","tags":null,"title":"This is so ridiculous. Hearing the same folks who claim that gun control doesn't work are now making..."},{"categories":null,"contents":"Sobriety Counter (https://play.google.com/store/apps/details?id=com.voilaweb.mobile.sobrietycounter) a top alcoholism app.\nReminds me of all the features I\u0026rsquo;ve been meaning to add to it and haven\u0026rsquo;t got around to, yet.﻿\n[](http://www.healthline.com/hlcmsresource/images/Badges/best- app-2015/best-app-alcoholism-1300x1300.png)\n","permalink":"http://zteo.com/posts/sobriety-counter-https-play-google-com-store-apps-details-id-com-voilaweb-mobile-sobrietycounter/","tags":null,"title":"Sobriety Counter awarded top alcoholism app..."},{"categories":null,"contents":"As a fairly recent LG urbane owner, I felt sad that so many great faces have a dim mode that doesn\u0026rsquo;t look near as good as their bright mode.\nSo I put together this small racket app: https://github.com/fusion/Watch-It-/releases\nIt does the stupidest thing: it attempts to make a face\u0026rsquo;s bright settings also its dim settings.\nIt will not work with protected faces and will likely also not work it a face makes heavy usage of scripting.\nIf you download it, let me know how it is working for you (or not!)﻿\n","permalink":"http://zteo.com/posts/as-a-fairly-recent-lg-urbane-owner-i-felt-sad-that-so-many-great-faces-have-a-dim-mode-that-doesn-t/","tags":null,"title":"As a fairly recent LG urbane owner, I felt sad that so many great faces have a dim mode that doesn't..."},{"categories":null,"contents":"Lately, too much work has gotten in the way of posting about non-work related projects(!)\nSo, quickly:\nI pushed to Github the code for my new aggregation/blogging engine: https://github.com/Fusion/HereNote\nMore information: http://nexus.zteo.com/HereNote--publish-your-thoughts\nThen, I wrote a init process replacement for containers such as Docker instances: https://github.com/Fusion/cfr_reaper\nIt doesn\u0026rsquo;t do everything init do, but it keeps your containers from being overrun with zombie processes.\nAlso, sbase-for-android, which is obviously an Android project, is a lightweight and MIT licensed replacement for Busybox. It is also more featured (e.g. you can type \u0026lsquo;ls -ltr\u0026rsquo;) https://github.com/Fusion/sbase-for-android\nIf you are running openvz, have a look at vcfr, which simplifies some tasks such as installing packages, etc: https://github.com/Fusion/vzcfr﻿\n[![](https://lh3.googleusercontent.com/dgowLPOznAJqaWrbgRb8Zwx0N8lk- RbLb0ItJPaw3OQ=w506-h303)](http://nexus.zteo.com/HereNote--publish-your- thoughts)\n","permalink":"http://zteo.com/posts/lately-too-much-work-has-gotten-in-the-way-of-posting-about-non-work-related-projects/","tags":null,"title":"Lately, too much work has gotten in the way of posting about non-work related projects(!)"},{"categories":null,"contents":"Not an issue, but I wasn\u0026rsquo;t sure where to post this tip: And, yes, I am aware that you may then want to protect your ZeroNet install(!)\nHere is a typical configuration:\n Host machine runs haproxy ZeroNet in a Docker or OpenVZ container  1-Make the main UI available to the world:\nIn the container:\npython zeronet.py --ui_ip 0.0.0.0 On the host, you need to configure this container\u0026rsquo;s IP in haproxy \u0026ndash; for instance, edit haproxy.conf:\nfrontend http_in acl host_zeronet hdr(host) -i zeronet.example.com use_backend be_zeronet if host_zeronet backend be_zeronet balance lastconn option httpclose server pub_zeronet :43110 cookie pub_zeronet check Restart haproxy.\n2-Make the file server available: I would recommend using NAT to avoid any surprise. In /etc/../iptables:\nnat:\n# we will nat incoming packets on port 15441 -A PREROUTING -i eth0 -p tcp -m tcp --dport 15441 -j DNAT --to-destination \u0026lt;container ip\u0026gt;:15441 -A PREROUTING -i eth0 -p udp -m udp --dport 15441 -j DNAT --to-destination \u0026lt;container ip\u0026gt;:15441 filter:\n# host forwards incoming container packets -A FORWARD -m state --state RELATED,ESTABLISHED -j ACCEPT -A FORWARD -s \u0026lt;container network\u0026gt;/24 -i \u0026lt;bridge interface\u0026gt; -j ACCEPT # host accepts incoming container packets to its own services -A INPUT -s \u0026lt;container network\u0026gt;/24 -i \u0026lt;bridge interface\u0026gt; -j ACCEPT Cleanup your iptables configuration then\niptable-restore \u0026lt; etc/../iptable And you\u0026rsquo;re good to go! (in theory)\n","permalink":"http://zteo.com/posts/how-to-host-zeronet-in-a-private-ip-container/","tags":null,"title":"How to host ZeroNet in a private IP container"},{"categories":null,"contents":"In this short documentary, housing developers in China hire ordinary foreigners to pose as celebrities to raise flagging property sales.\n\n","permalink":"http://zteo.com/posts/rent-a-foreigner-in-china/","tags":null,"title":"‘Rent-a-Foreigner in China’"},{"categories":null,"contents":"sBase for Android now updated with some ubase goodness as well.\nUse it in your software, use it directly or use it from RootTools: less sucky and MIT licensed!\nThis set of commands does not suffer from Busybox\u0026rsquo;s limited functionality as the concept is different: it\u0026rsquo;s one binary per command rather than having to load the kitchen sink every time.\nls, nice, du, wc, watch, kill, pidof, grep, dmesg, etc.\n\n","permalink":"http://zteo.com/posts/sbase-for-android-now-updated-with-some-ubase-goodness-as-well/","tags":null,"title":"sBase for Android now updated with some uBase goodness as well."},{"categories":null,"contents":"check-it-out!﻿\n[![](https://lh6.googleusercontent.com/proxy/Kb0uLhIXHOvNkiIUsGCVkLyuCzcP110AU7w2B8lVeByE27s-ZRW-38I8-ksRlPxih_CJkf6Uapdxwjg2ce7f0eMM12QJKgiVZr- C_HsrcIZ3XKdtwDJttcMqMh9K0FnQduqYZjLk=w506-h303)](http://zeroturnaround.com/software/jrebel- for-android/)\n","permalink":"http://zteo.com/posts/check-it-out/","tags":null,"title":"check-it-out!"},{"categories":null,"contents":"I just pushed to Github my first Android build of sbase, the command line tools that suck less.\nCheck it out!﻿\n[![](https://lh6.googleusercontent.com/proxy/bF5vqTFqS7nNhYcyaykZV1bSHufGNYs0Qkqm955mgFlYLZ- BbPFN6gYM9w7z0d6IPQOiFYQwflVPS99jre1DY1gs2C4x9BnQD9hIdk3kGTHM0wI=w506-h303-p)](https://github.com/Fusion/sbase- for-android)\n","permalink":"http://zteo.com/posts/i-just-pushed-to-github-my-first-android-build-of-sbase-the-command-line-tools-that-suck-less/","tags":null,"title":"I just pushed to Github my first Android build of sbase, the command line tools that suck less."},{"categories":null,"contents":"Unwitting models﻿\n\n","permalink":"http://zteo.com/posts/unwitting-models/","tags":null,"title":"Unwitting models"},{"categories":null,"contents":"So, it looks like a need was identified. Good marketing.﻿\n![](https://lh5.googleusercontent.com/-xn7iRmhqs_0/VQ9SZHEZWHI/AAAAAAAAJ24/QQDO- BKLiC0/w506-h750/IMG20150315133238.jpg)\n","permalink":"http://zteo.com/posts/so-it-looks-like-a-need-was-identified-good-marketing/","tags":null,"title":"So, it looks like a need was identified. Good marketing."},{"categories":null,"contents":"So, that\u0026rsquo;s Mary\u0026rsquo;s new car.﻿\n2015-02-16\n  \n","permalink":"http://zteo.com/posts/so-that-s-mary-s-new-car/","tags":null,"title":"So, that's Mary's new car."},{"categories":null,"contents":"Just a few awesome people I work with﻿\n\n","permalink":"http://zteo.com/posts/just-a-few-awesome-people-i-work-with/","tags":null,"title":"Just a few awesome people I work with"},{"categories":null,"contents":"http://www.cs.ucr.edu/~zhiyunq/pub/sec14_android_activity_inference.pdf\nNo doubt about that: we are about to hear again about how Android is an inherently insecure OS. It does not matter that the same algorithm would likely work on other mobile devices or, for that matter, any OS.\nIt\u0026rsquo;s a clever attack. Well, the \u0026ldquo;theft\u0026rdquo; bits of it (invisible activity or photo hijacking) are pretty standard but the first part, the activity detection one, is pretty smart.\nNote that it\u0026rsquo;s nothing new though; simply a mix of computer forensics and a timing attack.\nSo, how do you protect your data?\nIn short: it\u0026rsquo;s not too bad. Read on.\nBad news: not much you can do, at this point, to prevent the \u0026ldquo;active\u0026rdquo; part of the attack: it is easy to open a transparent activity; as opposed to a transparent screen overlay, which requires a special set of permissions that MIUI, for instance, denies by default.\nConceivably, though, if your phone is rooted, it would be fairly trivial to write an Xposed module that displays a Toast like:\n switching to app_blah\n Good news, though, regarding the detection bit: as if often the case, I believe that this experiment can only be reproduced in a tightly controlled environment.\nIf your device has a different screen resolution/density; if you use an alternate keyboard (in some cases); if you are using a customized ROM; (insert here other factors that would change your activity\u0026rsquo;s signature); then you are now dramatically lowering the odds that this exploit will work at all.\nThese videos are impressive but keep in mind that they were made using the researchers\u0026rsquo; own devices, not your device.\nI am not saying that you are safe, though. I am simply pointing out that this is definitely not a trivial attack and I am sure that as soon as my fellow XDA-ers start giving it some thoughts, a workaround will become available.\n","permalink":"http://zteo.com/posts/no-doubt-about-that-we-are-about-to-hear-again-about-how-android-is-an-inherently-insecure-os-it-does/","tags":null,"title":"No doubt about that: we are about to hear again about how Android is an inherently insecure OS. It does..."},{"categories":null,"contents":"Since +Adam Outler is into doing networky things, now, I don\u0026rsquo;t see why I couldn\u0026rsquo;t flash a few EEPROMs.﻿\n\n","permalink":"http://zteo.com/posts/since-adam-outler-is-into-doing-networky-things-now-i-don-t-see-why-i-couldn-t-flash-a-few-eeproms/","tags":null,"title":"Since +Adam Outler is into doing networky things, now, I don't see why I couldn't flash a few EEPROMs..."},{"categories":null,"contents":"Interesting. So, we already knew that Calico cats cannot be aesthetically cloned since the orange gene is randomly expressed yet, if I am not misusing the lingo, spatially restricted, thus creating orange patches.\nNow, it appears that, as should be expected, extrinsic factors such as womb temperature will have a less dramatic yet still relevant effect on other coloring.\nIn conclusion: I owe my wife an apology for buying into the oft made claim that cats can be visually cloned.\n\n","permalink":"http://zteo.com/posts/interesting-so-we-already-knew-that-calico-cats-cannot-be-aesthetically-cloned-since-the-orange-gene/","tags":null,"title":"Interesting. So, we already knew that Calico cats cannot be aesthetically cloned since the orange gene..."},{"categories":null,"contents":"Hollywood Reservoir﻿\n\n","permalink":"http://zteo.com/posts/hollywood-reservoir/","tags":null,"title":"Hollywood Reservoir"},{"categories":null,"contents":"Chef and Puppet require Ruby before they will even talk to you.\nAnsible does not require remote agents but is complex.\nIntroducing TighBeam: because it works with the same tools sysadmins use all the time. This is a personal project, not some actual open source big deal. I wrote something for myself, keeping it as small as possible. Use it too in a week-end project or what not.\nBut it has a logo!\nYes. Proof that any bunk idea can have its own branding :)\n\n","permalink":"http://zteo.com/posts/chef-and-puppet-require-ruby-before-they-will-even-talk-to-you/","tags":null,"title":"Chef and Puppet require Ruby before they will even talk to you."},{"categories":null,"contents":"Pale Moon 24.7.1 is now available for Linux, OS X and of course Android.\nChangelist: http://forum.palemoon.org/viewtopic.php?f=1\u0026amp;t=5243﻿\n\n","permalink":"http://zteo.com/posts/pale-moon-24-7-1-is-now-available-for-linux-os-x-and-of-course-android/","tags":null,"title":"Pale Moon 24.7.1 is now available for Linux, OS X and of course Android."},{"categories":null,"contents":"http://open.citrix.com/blog/328-are-containers-the-right-answer-to-the-wrong-question.html\nRussell Pavlicek make some very good points on the containers v. hypervisors race. Of course, he would defend hypervisors; they are his bread and butter after all.\nI have to admit, though, that as I read his post, I felt that he was building a straw man as no one is saying that hypervisors will be replaced by containers. However\u0026hellip; I went back to my own recent post(http://nexus.zteo.com/posts/the-next-evolution-of-virtualization/), to confirm my thinking, and re-reading my own words I realize that I totally omitted mentioning one of my favorites things about containers: the fact that they can cohabitate with VMs.\nWhen I refer to a future where container-specific applications would exist, I should mention that this is tied not to hypervisors disappearing but instead to the commoditization of VMs. I should have made this explicit.\nOn the other hand, I still think his post is a straw man: what I hear from containers evangelists is not that hypervisors are bloated but that VMs are: there is a considerable nuance here as, while VMs are bound (IMO) to become a commodity, hypervisors are going to be an increasingly important tool in a network admin\u0026rsquo;s toolbelt. However, I believe that, if you wish to take the lead in that particular market, you should start looking into hybrid hypervisors that support these different layers of virtualization (For future reference: \u0026ldquo;Fractal hypervisors.\u0026rdquo; -- there, I said it)﻿\n","permalink":"http://zteo.com/posts/russell-pavlicek-make-some-very-good-points-on-the-containers-v-hypervisors-race-of-course-he-would/","tags":null,"title":"Russell Pavlicek make some very good points on the containers v. hypervisors race. Of course, he would..."},{"categories":null,"contents":"Please pass this around as it is a very good opportunity: I am looking for more engineers to work in several of my teams.\nWho I am looking for:\n- you are comfortable developing using C, C++ and/or Java\n- you either work with embedded systems (looking at you Droiders or switch developers) or large web applications or SDN controllers\nWho we are:\n- think of us as a startup with great benefits\n- by that I mean health coverage, 401k, salary in the high 90s to 100ks\n- we pay relocation expenses if necessary\n- we are established, with a solid revenue stream\n- and yet, we also work on multiple, very forward looking projects\n- we are located in Southern California, near L.A.\nI am posting this here before making it more widely available as I\u0026rsquo;d rather work with one of you guys so, if you are interested or think one of your friends might be a match, let me know immediately.﻿\n","permalink":"http://zteo.com/posts/please-pass-this-around-as-it-is-a-very-good-opportunity-i-am-looking-for-more-engineers-to-work-in/","tags":null,"title":"Please pass this around as it is a very good opportunity: I am looking for more engineers to work in..."},{"categories":null,"contents":"I usually reserve this kind of wall of text for my poor coworkers but not today. Share the pain!_\nYou may know this about me or you may not but over the years I have been a kind of closet futurist: I mean by that that I will occasionally come up with a proof of concept for something that may happen within the next few years but I rarely take the time to do much more at it does not align with my current goals.\nNo, I did not predict the existence of [the Moto 360](http://www.xda- developers.com/android/try-a-few-simple-apps-for-the-android-wear-emulator/); like most of us I do not do well with the future of sexiness.\nMore importantly, I can only conceptualize what really hits me in the face every day. I am a slow learner.\nI was, however, evangelizing UML (User Mode Linux) as early as 2001. I think I was right as virtual machines seem to have gotten some traction since then :)\nNote that I am talking I about UML rather than a more big gun product such as vmware.\nThen, roughly four years before docker saw the light of day, I created a tech demo called Condo. I guess you can see where both names can describe a similar concept.\nThis is where the \u0026ldquo;every days\u0026rdquo; concept comes into play: I used to run a somewhat small web hosting company. Our offering consisted of shared hosting, dedicated servers and some vps (virtual private servers) and very occasionally rack space colocation.\nHere is what you quickly learn in this business: you can make money of dedicated servers but only if you sell tens of thousands of them. Thousands or even hundreds of servers? Your margins are laughable and you have no leverage with your vendors.\nColocation? Why not, as long as you are sure to front all the costs associated with renting rack cages upfront and realize that bandwidth is not your biggest cost (think power and, if the hopefully carrier neutral data center you are leasing in is not local, the cost of remote\nhands)\nSo you are left with shared hosting and vps. Of course the former is rarely done right and ends up being a maintenance nightmare while the latter does not scale well for anyone, customer or provider.\nI believe the challenges faced by enterprise data centers these days are very similar to those seen in shared data centers.\nA one size fits all solution such as virtual machines can help businesses save on hardware costs but in the end they are heavy to manage; on the other hand, simpler solutions based on a shared environment offer little advantages with regards to resource allocation and security. This is why I wrote Condo in \u0026lsquo;09.\nThe ways I see it, more customized solutions such as properly virtualized containers , are where the real value comes from. I would wager money that in the next few years we are going to see the emergence of companies we have never heard of in that domain: software vendors who specialize in building tailored environments based on common templates.\nThis is something we are seeing today on a per-application basis; beyond the whole SaaS movement, lies what I cannot refer to as a cottage industry anymore; a cloud of development contractors specializing in tailored CMS installs, running on top of Drupal or Wordpress.\nI believe the future of virtualization is similar: with the technologies now available to container creators (jails, network namespaces, active quotas, etc) the line between shared resources and virtualized machines is increasingly blurred.\nThere are many things that Docker does extremely well; for instance, unlike Condo, support for COW (Copy On Write) was baked in early on and you can snapshot and roll back images. However, managing Docker instances remains an arcane art.\nWhere third parties have focused on managing virtual machines, it seems logical to me that the first company to offer an easy turnkey management solution for Docker containers should make a pretty penny.\nFurthermore, I believe that less generic, more project-focused virtualized environments are inevitably coming: not necessarily pure containers but virtual machines rebuilt to run specific applications. This is where UML/KML could provide the building blocks, while mixing this approach with less resource hungry designs used in containers.\nIf you are still reading, I apologize for taking you along for what ends up being mostly a stream of consciousness post. Hopefully I will have time to revise it with more concrete technical data.\nSo, this is my bet. Let\u0026rsquo;s see how much of a fool it makes me look like within the next two to three years. Those who know me may remember my early claims that \u0026quot; the iPhone makes no sense; everybody wants a physical keyboard!\u0026rdquo; so there is that.\n","permalink":"http://zteo.com/posts/the-next-evolution-of-virtualization/","tags":null,"title":"Virtual Machines Are Not The Future Of Virtualization"},{"categories":null,"contents":"As you may have noticed if using this app, any interaction with Spotlight now causes a crash. For instance, dragging a file to Journler means that it will try to display a preview of this file and if it is not sure what type the file is, it attempts to delegate this task to Spotlight and\u0026hellip;scene!\nI am aware of the issue and plan on fixing it, unfortunately it is a time consuming task and I have very little free time right now. I need to figure out what\u0026rsquo;s wrong in the Sprouted framework first and as soon as it is done, I will release an update.\n-Chris.\n","permalink":"http://zteo.com/posts/journleragain-and-mavericks/","tags":null,"title":"Journler(Again) and Mavericks"},{"categories":null,"contents":"I was reading Yossi Kreinin\u0026rsquo;s quick\u0026rsquo;n fun way to implement coroutines in C and, as an embedded development architect, was a bit saddened by the \u0026ndash; necessary \u0026ndash; use of assembly code to manage a separate stack.\nGranted, it\u0026rsquo;s only a few lines of code, but hey, why re-invent the wheel when we can use existing tools and badmouth Posix a little bit in the process?\nPosix? Well, yes. Reading his solution it is immediately obvious that rather than setjmp()/longjmp() one could use context management functions. This approach uses the context maintained for thread management to implement coroutines persistency. Except, well. Someone working on Posix decided that it was a bad thing and deprecated these calls, leaving us with a different type of alternative: nothing!\nOr, if you feel like it, you can re invent everything yourself. You know, no one ever got confused by threads, right?\nAnyway, deprecated or not you will find that I am not the only one out there saying \u0026ldquo;Hey, they still work and they work well!\u0026rdquo;\nListing Time! Here is what our test file will look like. As you can see, I kept it as similar as possible to Yuri\u0026rsquo;s implementation. I simply added an extra test to ensure that I can use coroutines multiple times and reuse them if I want to.\n#include \u0026lt;stdio.h\u0026gt;#include \u0026#34;coroutine.h\u0026#34; typedef struct { coroutine* c; int max_x, max_y; int x, y; } iter; void iterate(void* p) { iter* it = (iter*)p; int x,y; for(x=0; xmax_x; x++) { for(y=0; ymax_y; y++) { it-\u0026gt;x = x; it-\u0026gt;y = y; yield(it-\u0026gt;c); } } } int main() { coroutine c; iter it = {\u0026amp;c, 2, 2}; puts(\u0026#34;Running coroutine test...\u0026#34;); start(\u0026amp;c, \u0026amp;iterate, \u0026amp;it); while(next(\u0026amp;c)) { printf(\u0026#34;%d %d\\n\u0026#34;, it.x, it.y); } puts(\u0026#34;Can I use a coroutine multiple times?\u0026#34;); start(\u0026amp;c, \u0026amp;iterate, \u0026amp;it); while(next(\u0026amp;c)) { printf(\u0026#34;%d %d\\n\u0026#34;, it.x, it.y); } puts(\u0026#34;All done.\u0026#34;); } Of course, a few definitions go into coroutine.h:\n#define _XOPEN_SOURCE 600 #include enum { COROUTINE_IDLE = 0, COROUTINE_YIELDING, COROUTINE_DONE }; typedef struct { ucontext_t callee_context; ucontext_t caller_context; volatile char state; } coroutine; typedef void (*func)(void*); void start(coroutine* c, func f, void* arg); void yield(coroutine* c); int next(coroutine* c); Yes, the first line was necessary to please OS X.\nAnd finally, coroutine.c:\n#include \u0026#34;coroutine.h\u0026#34; void yield(coroutine* c) { c-\u0026gt;state = COROUTINE_YIELDING; swapcontext(\u0026amp;c-\u0026gt;callee_context, \u0026amp;c-\u0026gt;caller_context); c-\u0026gt;state = COROUTINE_DONE; } int next(coroutine* c) { // This first guard check added in case the callee doesn\u0026#39;t return.  // Yes it\u0026#39;s an error but at least not a crash.  if(c-\u0026gt;state != COROUTINE_DONE) { swapcontext(\u0026amp;c-\u0026gt;caller_context, \u0026amp;c-\u0026gt;callee_context); if(c-\u0026gt;state != COROUTINE_DONE) { return 1; } } return 0; } void coroutine_wrap(coroutine *c, func f, void* p) { f(p); c-\u0026gt;state = COROUTINE_DONE; } void start(coroutine* c, func f, void* arg) { c-\u0026gt;state = COROUTINE_IDLE; getcontext(\u0026amp;c-\u0026gt;callee_context); const int stack_size = 64*1024; // Still arbitrary! But at least big enough...  c-\u0026gt;callee_context.uc_stack.ss_sp = malloc(stack_size); c-\u0026gt;callee_context.uc_stack.ss_size = stack_size; c-\u0026gt;callee_context.uc_link = \u0026amp;c-\u0026gt;caller_context; makecontext(\u0026amp;c-\u0026gt;callee_context, coroutine_wrap, 3, c, f, arg); } Fun fact #1:hey look in this implementation I\u0026rsquo;m leaking the stack!\nFun fact #2: speaking of\u0026hellip;make sure your stack is big enough or you will notice some surprising behaviors such as your app simply failing \u0026ndash; silently \u0026ndash; to swap contexts.\nFun fact #3: yes, I am aware that context functions themselves are likely to manipulate the stack using assembly language. Would you rather do it yourself for all your potential target architectures?\nWhat\u0026rsquo;s different? Well, using contexts forced me to change the algorithm somewhat. For instance, I am now wrapping my coroutine in a function that will make a note of our coroutine\u0026rsquo;s state change, letting the iterator function know that we are done. I also check this guard twice to ensure that if we have a runaway coroutine, at least our main task will not crash.\nAs you can see, regardless of the method used, it is still feasible to implement coroutines quite economically.\nI am considering pushing this bit of code to Github; after all, like my C-Actor library, it\u0026rsquo;s not as much size as what you can do with it that matters.\n","permalink":"http://zteo.com/posts/c-coroutines-no-assembly-bad-pun-required/","tags":null,"title":"C coroutines: no assembly (bad pun) required"},{"categories":null,"contents":"The symptom is pretty simple: you click the \u0026lsquo;Memonic\u0026rsquo; extension icon and nothing happens. This patch aims to fix this behavior.\nA bit more than three years ago, I published here a patched version of SuperGenPass that would work with Google Chrome. It\u0026rsquo;s been, since then, downloaded more than 1 million times.\nRecently, I also published a patched version of Memonic\u0026rsquo;s Android app, patched to work with Jelly Bean.\nToday, I bring you a patched version of the Memonic clipper that will work even if you have pesky SVG objects in the page you are trying to capture.\nJust go to this page and get the patched extension (self-signed)\n","permalink":"http://zteo.com/posts/memonic-extension-patched-for-google-chrome/","tags":null,"title":"Memonic extension patched for Google Chrome"},{"categories":null,"contents":"Need some work ambiance that\u0026rsquo;s not just pure white noise?\nThe web delivers!\nProperly used, after all, noise is supposed to be our creative ally. There is a study touted by various web sites.\nOf course, at first there was rainymood. It really is an excellent quality loop. In fact, the web version is, in my opinion, superior to the mobile one, which adds a somewhat disturbing background music.\nIf you find rainymood\u0026rsquo;s loop not eventful enough, you could give a try to simply rain. Note that it is only one of several loops you can listen to at the simply noise web site. Of course, the site exists mostly to promote the iOS and Android apps which, they claim, are \u0026ldquo;the best sound machines $0.99 can buy.\u0026rdquo; I suppose it is true since White Noise is closer to $3.\nClearly, rain is considered a great white noise generator.\nMore recently, however, the arduous effort of walking to your local coffeeshop became an unnecessary hindrance. Based on the study mentioned above, first came coffitivity: A simple yet effective way to combine a coffe house noise with your attempts at covering it up using music in your earbuds.\nOf course, the people at rainycafe immediately saw that keeping these ambiances separate was a grievous mistake and you can now mix both coffeshop ambience and stormy rain sounds without needing to open as many as two web pages.\nIf these sound loops are too mundane for you, why not visit bluemars aka \u0026ldquo;Lone\u0026rsquo;s ambient streams?\u0026rdquo; You can actually listen to some pretty fantastically chill tunes. Plus, selecting \u0026ldquo;bluemars,\u0026rdquo; \u0026ldquo;cryosleep\u0026rdquo; or \u0026ldquo;voices from within\u0026rdquo; will definitely offer very different moods.\nOf course, if you wish to vary moods, you can hardly find a better place than focus@will. This site, currently in beta, even encourages you to switch between different musical genres to maximize your focus. Apparently, mobile versions will soon be available, helping you attain their stated goal to extend your productivity cycle to 100 minutes (from 20 to 30)\nAnd finally, do not forget about the ultimate booming white noise loop: 90 minutes of the USS Enterprise\u0026rsquo;s engine noise.\n","permalink":"http://zteo.com/posts/productive-ambient-noise-beyond-white-noise/","tags":null,"title":"Productive Ambient Noise: beyond white noise"},{"categories":null,"contents":"Well, the Coursera \u0026ldquo;Functional Programming Principles in Scala\u0026rdquo; class was a success. Both Tom Chappell and I really enjoyed it. However, I\u0026rsquo;ve never much liked Eclipse as an IDE. Here is how I am using Sublime Text 2 instead.\nSyntax highlighting, error detection\n1-Install Sublime Text 2\n2- Now, let\u0026rsquo;s prepare our environment for Ensime (aka \u0026ldquo;ENhanced Scala Interaction Mode for Emac\u0026rdquo;) and its \u0026ldquo;sbt\u0026rdquo; plugin:\n Add to the end of ~/.sbt/plugins/plugins.sbt (or create it if needed):  addSbtPlugin(\u0026#34;org.ensime\u0026#34; % \u0026#34;ensime-sbt-cmd\u0026#34; % \u0026#34;0.1.0\u0026#34;)  Add ensime to Sublime Text 2:  Preferences \u0026gt; Package Control \u0026gt; Install Package \u0026gt; Ensime or\ngit clone git://github.com/sublimescala/sublime-ensime.git Ensime 3-Install the Ensime server:\n Download it from https://github.com/sublimescala/ensime/downloads Command line:  tar zxvf to ~/Library/Application\\ Support/Sublime\\ Text\\ 2/Packages/Ensime mv \u0026#39;ensime_xxxx\u0026#39; to \u0026#39;server\u0026#39;  Restart Sublime Text 2 Start the Ensime server: {Cmd}{S}P Ensime: Startup or Tools \u0026gt; Maintenance \u0026gt; Startup  4-Let\u0026rsquo;s a couple templates for Scala projects:\n Install Conscript:  curl https://raw.github.com/n8han/conscript/master/setup.sh | sh  Using Conscript, install giter8:  cs n8han/giter8  g8 templates found at: https://github.com/n8han/giter8/wiki/giter8-templates:  \u0026ldquo;ymasory/sbt\u0026rdquo; is a good start for github; \u0026ldquo;typesafehub/scala-sbt\u0026rdquo; is total boilerplate 5-This is the interesting part. We can now create a project and prepare its template and Ensime server:\n Command line:  cd /your project home directory/ gr8 typesafehub/scala-sbt sbt ensime generate  Run Subime Text 2:  subl .  Display Ensime\u0026rsquo;s console window: Tools \u0026gt; Ensime \u0026gt; Development \u0026gt; Show Notes  Using the Scala REPL **\n Install SublimeREPL (instructions by fellow Coursera student Alexei Alekhin!)  We wish to install a version of SublimeREPL that support sbt; therefore, rather than using the main branch:\nPreferences \u0026gt; Package Control \u0026gt; Install Package \u0026gt; Ensime \u0026gt; Package Control: Add repository\nAdd this path: https://github.com/laughedelic/SublimeREPL/archive/sbt.zip\nPreferences \u0026gt; Package Control \u0026gt; Install Package \u0026gt; SublimeREPL\n Not working? Make sure that sbt or a link to sbt is found in /usr/local/bin/ OPTIONAL: Install the companion app: LoadFileToRepl  Preferences \u0026gt; Package Control \u0026gt; Install Package \u0026gt; LoadFiletoRepl\n**Building/Running **\n Create new build profile  { \u0026#34;cmd\u0026#34;: [\u0026#34;/usr/local/bin/sbt -Dsbt.log.noformat=true compile\u0026#34;], \u0026#34;file_regex\u0026#34;: \u0026#34;^\\\\[error\\\\] ([.a-zA-Z0-9/-]+[.]scala):([0-9]+):\u0026#34;, \u0026#34;selector\u0026#34;: \u0026#34;source.scala\u0026#34;, \u0026#34;working_dir\u0026#34;: \u0026#34;${project_path:${folder}}\u0026#34;, \u0026#34;shell\u0026#34;: \u0026#34;true\u0026#34; }  Use /F4/ and /Shift//F4/ to navigate through errors  That\u0026rsquo;s it for now. I\u0026rsquo;ll be sure to add more info if I find wasy to provide even tighter integration.\n","permalink":"http://zteo.com/posts/sublimetext-as-a-minimal-ide-for-scala/","tags":null,"title":"SublimeText as a minimal IDE for Scala"},{"categories":null,"contents":"A \u0026ldquo;refreshed,\u0026rdquo; Lion and Mountain-Lion compatible Journler: read the blog post\nI want to make very clear that I am not the author of Journler and if you use Phil\u0026rsquo;s application, he\u0026rsquo;s the person you need to be grateful to. Inf act, if you enjoy Journler \u0026ndash; or, in my incarnation, \u0026ldquo;Journler Again,\u0026rdquo; I encourage you to buy a license from Phil\u0026rsquo;s site.\nNo, you do not have to; the application is fully functional and there is no limit of any kind on how you can use it. It would be nice of you to buy that license but considering you are getting very little (or no) support, it\u0026rsquo;s definitely up to you.\nChangelist (v2.7b)\n* Lion/Mountain Lion compatibility, SDK 10.7 * Lion Full Screen support * App is now fully licensed  \n","permalink":"http://zteo.com/projects/journler-again/","tags":null,"title":"Journler, Again!"},{"categories":null,"contents":"   \nn2 BBS n2 is the result of the merger of two exciting forums software: wtcBB and nextBBS. It\u0026rsquo;s easy to use and easy to admin. Committed to remain open-source forever. Fork it!\n   \nTooredo Tooredo offers instant filtering, context and project management, all in one page!\nIt relies on Toodledo to store these tasks as many mobile applications do.\n   \nS2Ajax Library S2ajax is a ‘managed’ AJAX framework; it allows the developer to declare classes on the server and instantiate them on demand on the client.\nIt combines two common computing concepts: FFI and RPC\n   \nFreeBlog FreeBlog\u0026rsquo;s focus is on the basics: a real rich-text editor that renders your posts as closely to what they will look like on your weblog as possible.\n   \nezEdit in-place ezEdit:\n  Work as a mini-CMS that you can add to your existing website.\n  Work as a prototyping tool, to see “what if:” what would happen if you modified a page’s content\n     \nCondo Condo is brand-new multi-environment hosting project that is currently in its early development stage.\nIt is a jailed environment that is fully compatible with your existing virtual machines.\n   \nOptimus V Tools This is a suite of tools that will let you root your LG Optimus V device and, optionally, flash a new ROM such as CyanogenMod 7.\n   \nRootTools SDK RootTools provides developers a standardized set of tools for use in the development of rooted applications. Its libraries drastically improve development times as well as promote code reuse.\n   \nADOdb ARX Active Record relationships; included in ADOdb\u0026rsquo;s mainstream distro. ADOdb is an extremely popular database abstraction layer (also Microsoft\u0026rsquo;s first ever contribution to a LGPL project!)\n   \n[Live Watches](https://market.android.com/details?id=com.voilaweb.mobile.liveview.livewatches)\nThis plug-in for a Sony Ericsson LiveView display brings to your wristwatch something it has surprisingly lacked until now: an analog display, with small and big hands, all customizable, even a flashlight.\n   \nTiny SU TinySU is a very small “su” binary, compiled to run on all ARM-based Android devices.\nIt works in every possible situation where its more complex brethren may not; for instance in automation.\n   \n[Sobriety Counter](https://market.android.com/details?id=com.voilaweb.mobile.sobrietycounter)\nA free, ad-free application + widget. Displays in real-time the number of years, months, days, hours and minutes you have been clean and sober.\nOne-click sponsor call.\n   \n NotEnoughSpace\nNES has two goals:\n1. Help you understand what is causing your phone to run out of memory\n2. Move data to a different partition so that your phone can reclaim some of its precious wasted space.\n    Some projects are not shown here because they are still under development; some because they are too old; some because there is no promo material for them!\n","permalink":"http://zteo.com/meta/overview/","tags":null,"title":"Overview"},{"categories":null,"contents":"TinySU TinySU is a very small \u0026ldquo;su\u0026rdquo; binary, compiled to run on all ARM-based Android devices.\nIt does not interact with SuperUser.apk and thus the user is not prompted to grant access to their device. You may thus think of it as less \u0026ldquo;secure\u0026rdquo; than the su binary that comes with SuperUser.apk.\nOn the other hand, TinySU works in every possible situation where its more complex brethren may not; for instance when automatically rooting a device (e.g. LV Optimus V)\nIf you wish to use TinySU in your ROM or rooting application, just drop me a note :)\n\nLG Optimus V Tools This is a suite of tools that will let you root your LG Optimus V device and, optionally, flash a new ROM such as CyanogenMod 7.\nThe zip file contains:\n psneuter, which will temporarily root your device TinySU (\u0026ldquo;su\u0026rdquo;) to add permanent, albeit unmonitored, root flash_image, a binary that you run on your phone to flash a recovery image recovery.img, a working recovery image Debug-FormatSYSTEM.zip, a flashable script that will prepare your phone for a new ROM.  For complete information on the rooting process, please read this thread\n\nRescueTime AddTask A small utility for OS X/Linux, based on Angus Helm\u0026rsquo;s Linux updater.\nUsing the command line (hint! Use \u0026ldquo;Visor Mode\u0026rdquo;) you can add tasks manually to RescueTime, which is the one thing it doesn\u0026rsquo;t typically let you do.\nUsage (OS X):\nExpand the archive in ~/Applications\nCopy ~/Applications/rescuetime/CP_TO_USR_BIN/addtask to /usr/bin\nTo add a task, type \u0026ldquo;addtask\u0026rdquo;\nIf you leave the \u0026ldquo;Name\u0026rdquo; field blank, a task named \u0026ldquo;ManualEntry\u0026rdquo; will be added.\n\n","permalink":"http://zteo.com/projects/tools/","tags":null,"title":"Tools"},{"categories":null,"contents":"[August 2018 Update] Well, since 2012, Toodledo have extensively reworked their user interface and Tooredo is not needed anymore. Screenshots","permalink":"http://zteo.com/projects/tooredo-alpha/","tags":null,"title":"Tooredo Alpha"},{"categories":null,"contents":"== Flash is dead, Flex is dead, Air is dead, this tool is now officially discontinued ==\nFreeBlog is a multi-platform tool (Linux, Windows, OS X) that helps you in your blogging tasks.FreeBlog was born out of frustration after its author tried various blogging software, most of it on the Mac: that type of software usually offers all sorts of features, such as publishing which music you are currently listening to, and seem to forget to focus on the basics: a real rich-text editor that renders your posts as closely to what they will look like on your weblog as possible.Only when FreeBlog\u0026rsquo;s author knows that he has all the basics right, through personal testing and more importantly, your feedback, only then will he focus on more \u0026ldquo;flashy\u0026rdquo; features.\n[airbadge]FreeBlog,http://apis.voilaweb.com/freeblog/assets/index.php,v1.0rc,http://apis.voilaweb.com/freeblog/assets/freeblog.jpg[/airbadge]\nIntuitive\nUsing FreeBlog\u0026rsquo;s real rich-text editor and ultra-easy interface, you can work on your blog posts, refine and preview them until you are completely satisfied with your result.Every detail of its interface is here to help you focus on your writing, not to keep you guessing. Its interface is extremely straightforward and help bubbles are available throughout the software.Unlimited Blogs\nKeep your blogs organized: FreeBlog supports multiple accounts, either on the same server or spread across multiple servers.Real Rich-Text Editor\nYou can edit blogs using the reach-text editor, move to a pure HTML editor, and back to the reach-text editor completely seamlessly.Think of FreeBlog\u0026rsquo;s rich-text editor as truly \u0026ldquo;what you see if what you get\u0026rdquo;: contrary to other blogging software, when you insert an image in a post, this image is displayed in the post as you are editing it. It would seem like an obvious behavior, and yet, to some, it\u0026rsquo;s not.\nPosts Management\nTag your posts, publish them, recall them (\u0026ldquo;published\u0026rdquo; \u0026gt; \u0026ldquo;draft\u0026rdquo;) and manage their assets easily.Two Preview Modes\nFirst, a fast, simulated preview, that lets you play with your post\u0026rsquo;s layout (width, font size, etc.Also, a full preview that uses the theme captured from your blog to preview your post locally.Safe\nFreeBlog is built on top of Adobe\u0026rsquo;s AIR platform; this means that it runs in a sandbox: even though it accesses the Web from your computer, it will never be able to copy that web content to your critical folders or corrupt your important data.Can\u0026rsquo;t-beat pricing\nIt\u0026rsquo;s free!\nSo, what next?\nYour feedback is what will decide what features are added to future versions of FreeBlog.Currently, replicating Wordpress\u0026rsquo; shortcodes in the editor itself is under consideration, as is offline mode.FreeBlog only supports Wordpress- based blogs. Again, depending on your feedback, this may change.It is recommended that you follow the author on Twitter because he will keep posting information regarding updates to FreeBlog.\n","permalink":"http://zteo.com/projects/freeblog/","tags":null,"title":"FreeBlog - Air"},{"categories":null,"contents":"[August 2018 update] Condo was my very modest contribution to envisioning a future where we would use containers instead of VMs and dedicate them to specific, isolated tasks.\nLess than a year after I created Condo, Docker was released and I shelved my amateurish attempt. Now, reading the text below, I have mixed feelings: a good attempt, but no quite ambitious enough.\n What is was Condo? Condo is a brand-new multi-environment hosting project that is currently in its early development stage.\nCondo in action A few interesting facts about this video:\n  It runs in a virtual machine. Condo is compatible with VMs because Condo itself is not a VM; it is a jailed environment.\n  First, the super user creates an account for \u0026ldquo;Mr Johns.\u0026rdquo; Mr Johns logs in, starts his own instance of lighttpd and MySQL and installs a couple applications.\n  It gets more interesting around 4:36, when the super user creates \u0026ldquo;Mr Smith.\u0026rdquo; Mr Smith then starts his own instances, sets up security and installs his applications.\n  Notice how, when using the command-line, each sees their own file systems and processes. Because these processes are very lightweight, you can create many more environment, even in a VM!\n  Why Condo? Current brain dump ","permalink":"http://zteo.com/projects/condo/","tags":null,"title":"Condo"},{"categories":null,"contents":"ezEdit is a very unintrusive script. It serves two different purposes:\n Work as a mini-CMS that you can add to your existing website. Work as a prototyping tool, to see \u0026ldquo;what if:\u0026rdquo; what would happen if you modified a page\u0026rsquo;s content  ezEdit as a mini-CMS ezEdit can be installed by dropping in place two files: ezedit.js and ezedit.php.\nIncluding ezEdit in your existing web pages is as simple as:\n\u0026lt;script src=\u0026quot;ezedit.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;  This will load the short bootstrap code that will then be able to load an online editor and communicate with the back-end (ezedit.php)\nWhen submitting a modification, it will be sent to ezedit.php, which will in turn update the web page being edited.\nezEdit as a mock-up tool All you need to do is upload ezedit.js and include it in your web page as described earlier. You can now edit any part of your web page and see how this edit would impact your page overall appearance.\nezEdit as a bookmarklet This is pretty much the same feature as the \u0026ldquo;mock-up\u0026rdquo; one, save for a couple things:\n1. You do not need to install anything 2. It will work on any web site, not just yours  This is an interesting way to discuss a site update with a client if you are a web designer. Or you simply wish to see what a site would look like \u0026ldquo;if I changed this tiny thing\u0026hellip;\u0026rdquo; (*)\nTo install the bookmarklet, simply drag this link to your bookmark toolbar.\nUsage The idea is for this script to be very easy to use. Therefore, after either including the necessary JavaScript in your page header, or clicking the bookmarklet, all you need to do is press Ctrl-Z twice.\nIf an existing session is found, you enter the tracking mode directly. If not, and unless you are using the bookmarklet, you will have to log in using the username and password defined in the back-end.\nYou will notice that you can tell whether you are in tracking/editing mode thanks to the small \u0026lsquo;editing\u0026rsquo; medallion displayed at the top left of the page.\nIn tracking mode, elements that can be edited get a discreet red border as you hover the mouse over them while keeping the Ctrl key pressed\nTo start editing, simply let go of the Ctrl key and click. A rich-text toolbar should now be displayed.\nConfiguration ezedit.js Towards the top of the file, you will find a small structure called ezconfig. This is where you can modify the script\u0026rsquo;s behaviour:\nmode:\nIf you select \u0026lsquo;cms\u0026rsquo; the script will attempt to communicate with ezedit.php. This is how it will retrieve additional assets and save updated content.\nIf you select \u0026lsquo;standalone\u0026rsquo; the script will understand that ezedit.php is not available and will not try to save updated content.\nbackend:\nPath to ezedit.php. By default it is in the same directory as ezedit.js. You may with to put this file somewhere else, for instance if your current server only serves static pages.\neditor:\nA link to the complete JavaScript editor. If you do not wish to use ezedit.php, you will need to modify this value to point to nicEdit.js\ntoolbar:\nA link to the image used to provide the images used by the JavaScript editor. Again, if running in standalone mode, you will need to modify this value to point to nicEditorIcons.gif\nselect:\nIf you select \u0026lsquo;all\u0026rsquo; the script will allow you to try to edit any part of the current page.\nIf you select \u0026lsquo;tagged\u0026rsquo; it will only let you edit elements with the class \u0026lsquo;ezedit\u0026rsquo;\nNote that the default values should work for you when uploading just ezedit.js and ezedit.php and using the script as a mini-CMS with static pages.\nezedit.php At the top of this file, you will find a structure called $configuration. Again, you can modify it to fit your needs:\nplugin:\nYou can write your own back-end plugins. If you do, simply store the path to your plugin here; e.g. myplugin.php\nindex:\nWhen trying to update a page\u0026rsquo;s content, ezedit.js will send to you what it thinks the current page name is. Sometimes there is no page name because the default index page is assumed. Therefore, this value is \u0026lsquo;index.html\u0026rsquo; but it could, for instance, be \u0026lsquo;default.htm\u0026rsquo; or any other value.\npath:\nThis is the default path to the page being updated. If you dropped ezedit.js and ezedit.php in the same directory, the default path setting should work for you.\nNote: When invoked, ezedit.php checks for the existence of a file called ezedit.conf.html\nThis feature was added for the convenience of users who do not wish to edit a php file, even to update its configuration. If you elect to use this file instead, simply store your favourite configuration using a \u0026lsquo;key = value\u0026rsquo; syntax; for instance:\nindex = default.htm path = /home/joe/tests  Tagging editable elements in a web page You only need to care about this if you decide to go with the \u0026lsquo;tagged\u0026rsquo; mode. If you select \u0026lsquo;all\u0026rsquo; then everything is potentially editable.\nTo make an element editable, simply add the class ezedit to that element and make sure it has an id that can be used by the back-end when updating that element.\nFor instance,\n\u0026lt;p class=\u0026quot;y-txt-1 y-ln-1\u0026quot; style=\u0026quot;line-height:1.231\u0026quot;\u0026gt;  becomes:\n\u0026lt;p class=\u0026quot;y-txt-1 y-ln-1 ezedit\u0026quot; id=\u0026quot;id1\u0026quot; style=\u0026quot;line-height:1.231\u0026quot;\u0026gt;  Writing a plugin It is a fairly easy task. But why would you want to write a plugin?\nIn its current incarnation, in \u0026lsquo;CMS\u0026rsquo; mode, ezEdit only supports one type of web page: static. It\u0026rsquo;s a pity because it could certainly be improved as a tool for managing quick updates to your existing CMS, such as Drupal, Joomla or Wordpress (list not exhaustive!)\nHere is how you can write your own plugin:\nregister_hook('getfile', 'myplugin_get_file'); $this-\u0026gt;register_hook('savefile', 'myplugin_save_file'); // To overwrite how a page is updated $this-\u0026gt;register_hook('authenticate', 'myplugin_authenticate'); // To overwrite security  function myplugin_get_file($pageName) { \u0026hellip; }\nfunction myplugin_save_file($fileName, $content, $id = false, $oldLength = false) { \u0026hellip; }\nfunction myplugin_authenticate($username, $password) { \u0026hellip; }\n?\u0026gt;\nFAQ Why PHP for the back-end?\nAn easy choice: besides being an extremely simple language, for better or for worse, PHP is the most prevalent web language for back-end work. Chances are that, wherever your web site is hosted, PHP is available. I even decided to stick to a fully PHP4-compatible syntax. Just in case.\nWill this tool allow me to hack others\u0026rsquo; sites?\nNo. You need a back-end that will authenticate you and perform the updates on your behalf.\nBTW, how secure is this script?\nIt is secure. However, you may with to make sure that you only access the back-end over https if you are worried about your username and password being intercepted. Note that this is a precaution that applies to all the CMS out there and is very rarely followed.\nWhere are the files?\nThe two most important files are, again, ezedit.js and ezedit.php and can be downloaded here.\nIf you are using the bookmarklet, you do not need to download anything.\n(*) You could even use this tool to create a fake facebook conversation if you are a Redditor! ;)\n","permalink":"http://zteo.com/projects/ezedit/","tags":null,"title":"ezEdit"},{"categories":null,"contents":"This sets forth Zteo\u0026rsquo;s policy with regard to the use of Spam marketing techniques in connection with Internet Marketing. In the event that we deem you to be in violation of these policies, we shall immediately revoke your membership rights and close any active account.\nWe have a strict policy against spamming. We forbid the sending of unsolicited mass Emails or unsolicited Emails of any kind in connection with the marketing of our programs, products and services.\nWe reserve the right to terminate your account and participation in our programs \u0026ldquo;for cause\u0026rdquo; if we deem you to be in violation of our anti-spamming policies. We also reserve the right to suspend your account and participation pending review upon receipt of any complaint or other evidence that you may be engaging in any spamming activity.\nWe consider spamming to be any activity whereby you directly or indirectly transmit email messages to any email address that has not solicited such email and does not consent to such transmission. We also consider spamming to constitute posting advertisements in our community areas in violation of the terms of participation in such areas, that are off topic, in areas that do not specifically permit advertisements. We also consider it spamming when advertisements are sent through messaging.\nIf you are spammed by anyone regarding our products, services, web site, or any other matters, please report this activity to abuse [at] voilaweb.com\n","permalink":"http://zteo.com/posts/comments-policy/","tags":null,"title":"Comments Policy"},{"categories":null,"contents":"[August 2018 update] Classical message boards are now a thing of the past. Do not get me wrong! I am still a regular of some sites that use vBulletin (https://forums.watchuseek.com) but these are not technically evolving anymore.\nThese days, online communities have become mostly support communities and some greate software, such as Discourse or Flarum, have made browsing and contributing simpler.\nLook around for a couple minutes and you will also find mixed textual-audio communities and more interesting developments.\n n2 is the result of the merger of two exciting forums software: wtcBB and nextBBS.\nIt\u0026rsquo;s easy to use and easy to admin.\nLean everything you need to know at http://n2.nextbbs.com\nNote: the software is stable and will not lose your data. However some features are still considered alpha quality.\n","permalink":"http://zteo.com/projects/n2/","tags":null,"title":"n2"},{"categories":null,"contents":"\nLive Watches This plug-in for a Sony Ericsson LiveView display brings to your wristwatch something it has surprisingly lacked until now: an analog display, with small and big hands, all customizable, even a flashlight.\n\nOptimus V Tools This is a suite of tools that will let you root your LG Optimus V device and, optionally, flash a new ROM such as CyanogenMod 7.\n\nTiny SU TinySU is a very small “su” binary, compiled to run on all ARM-based Android devices.It works in every possible situation where its more complex brethren may not; for instance in automation.\n\nRootTools SDK RootTools provides developers a standardized set of tools for use in the development of rooted applications. Its libraries drastically improve development times as well as promote code reuse.\n\nNotEnoughSpace NES has two goals:1. Help you understand what is causing your phone to run out of memory2. Move data to a different partition so that your phone can reclaim some of its precious wasted space.\n\nSobriety Counter A free, ad-free application + widget. Displays in real-time the number of years, months, days, hours and minutes you have been clean and sober.One-click sponsor call.\n\nTooredo Tooredo offers instant filtering, context and project management, all in one page!It relies on Toodledo to store these tasks as many mobile applications do.\n\nADOdb ARX Active Record relationships; included in ADOdb\u0026rsquo;s mainstream distro. ADOdb is an extremely popular database abstraction layer (also Microsoft\u0026rsquo;s first ever contribution to a LGPL project!)\n\nS2Ajax Library S2ajax is a ‘managed’ AJAX framework; it allows the developer to declare classes on the server and instantiate them on demand on the client.It combines two common computing concepts: FFI and RPC\n\nFreeBlog FreeBlog\u0026rsquo;s focus is on the basics: a real rich-text editor that renders your posts as closely to what they will look like on your weblog as possible.\n\nezEdit in-place ezEdit:* Work as a mini-CMS that you can add to your existing website.* Work as a prototyping tool, to see “what if:” what would happen if you modified a page’s content\n\nCondo Condo is brand-new multi-environment hosting project that is currently in its early development stage.It is a jailed environment that is fully compatible with your existing virtual machines.\n\nn2 BBS n2 is the result of the merger of two exciting forums software: wtcBB and nextBBS. It\u0026rsquo;s easy to use and easy to admin. Committed to remain open-source forever. Fork it!\nEtc Some projects are not shown here because they are still under development; some because they are too old; some because there is no promo material for them!\n","permalink":"http://zteo.com/projects/projects-list/","tags":null,"title":"Projects List"},{"categories":null,"contents":"[August 2018 Update] Feel free to user S2ajax if you are looking for something lightweight.\nOn the other hand, between jQuery 3, React, Angular, etc. S2\u0026rsquo;s concept is definitely getting quite long in the tooth.\n S2ajax is a \u0026lsquo;managed\u0026rsquo; AJAX framework. It is derived from Sajax, written by the Modern Method folks a few years ago.\nThis modern implementation allows the developer to declare classes on the server and instantiate them on demand on the client.\nNote that S2ajax combines two common computing concepts: FFI (Foreign Function Interface) and RPC (Remote Procedure Call)\nS2ajax is available under the very permissive BSD license.\n-= Click below to download S2ajax =-\n\n","permalink":"http://zteo.com/projects/s2ajax/","tags":null,"title":"S2ajax"},{"categories":null,"contents":"Sometimes, people are misguided and comment positively on the author\n  http://retromatt.com/2007/05/19/sifr-without-flash/\n\u0026ldquo;Clic!Dev has made [enhancing any site with quality fonts ] even easier and more affordable than ever.\u0026rdquo;\n  http://blogs.open.ac.uk/Maths/ajh59/010415.html\n\u0026ldquo;In the meantime, how hard could it be to generate a panelled display from an OPML feed using something like [Chris RavensroftÃ¢a‚¬a„¢s \u0026ldquo;Create your own WebTop in php/js in no time\u0026rdquo; approach](/2006/12/31/create-your-own-webtop-in- phpjs-in-no-time/)? ;-)\u0026rdquo;\n  http://webscriptz.be/2007/08/03/php4-is-out/\n(On PHP5) \u0026ldquo;I have to say that Photomatt has it right and Clic!Dev too.\u0026rdquo;\n  http://hype-free.blogspot.com/2007/01/mixed-links-and-commentary.html\n\u0026ldquo;[Create your own WebTop in php/js in no time](/2006/12/31/create-your-own- webtop-in-phpjs-in-no-time/) - if you don\u0026rsquo;t know what a webtop is (I didn\u0026rsquo;t), it\u0026rsquo;s a desktop replacement in the browser. I don\u0026rsquo;t like the idea, but it\u0026rsquo;s a cool technological demo.\u0026rdquo;\n  ","permalink":"http://zteo.com/meta/egosurfing/","tags":null,"title":"EgoSurfing"},{"categories":null,"contents":"(TODO: Update this page as it is quite out of date!)\nThe goal of this blog is to keep you appraised of various project Chris FR and his team have been working on and plan to work on.These projects include:\n  the new free blog host zteo.com,\n  the open-source community software nextbbs.com,\n  various web sites in our network, such as staffexpo.com and militate.com,\n  external collaborations such as kittenauth (status: dead?), cg-arts or zoints\n  and more projects, to be addressed as the need to discuss them arises\n   Please note: most of these projects would be defunct, save for the help of a fanatical team of volunteers who deserve as much credit for these projects as Chris does. Expect to see postings from some of these great people around here.\n","permalink":"http://zteo.com/meta/about/","tags":null,"title":"About"},{"categories":null,"contents":"It\u0026rsquo;s Journler\u0026hellip;Again!\nMany Mac users are aware of the now abandoned/open-sourced excellent productivity/journaling application known as Journler.\nPhilip Dow, Journler\u0026rsquo;s author, is obviously a stand-up guy and felt that he needed to work one last time on Journler to add Snow Leopard compatibility while open-sourcing it.\nHere we are now, a few years later, and many Mac enthusiasts \u0026ndash; me included \u0026ndash; still use Journler, even if it\u0026rsquo;s not a daily thing. So, I forked the project on Github and made a few minor modifications and you can now download a more Lion and Mountain-Lion friendly version of Journler.\nI want to make very clear that I am not the author of Journler and if you use Phil\u0026rsquo;s application, he\u0026rsquo;s the person you need to be grateful to. Inf act, if you enjoy Journler \u0026ndash; or, in my incarnation, \u0026ldquo;Journler Again,\u0026rdquo; I encourage you to buy a license from Phil\u0026rsquo;s site.\nNo, you do not have to; the application is fully functional and there is no limit of any kind on how you can use it. It would be nice of you to buy that license but considering you are getting very little (or no) support, it\u0026rsquo;s definitely up to you.\nGet it from the project page\n","permalink":"http://zteo.com/posts/its-journleragain/","tags":null,"title":"It's Journler...Again!"},{"categories":null,"contents":"_ Note: an improved, cleaned up version of this post is available on [the Hypergrid Business website](http://www.hypergridbusiness.com/2012/03/second- life-enterprise-was-a-costly-mistake/)._\n\nHow Bad Was Second Life Enterprise?\nThis is the first post in a series about Virtual Reality in an Enterprise environment. I expect to talk about more positive experiences in future posts but I need to start somewhere, so why not with what did not work for us?\nMy (and my company\u0026rsquo;s) experience Second Life for Enterprise was a failure, in my case, for several reasons. Note that this experience is my own, maybe other beta users had a better one. Linden Labs announced the end of the experiment in August 2010.\nLet\u0026rsquo;s see what really did not pan out despite the promises of the platform.\nIdeal conferencing - not. Features that would really have brought it closer to the ideal conferencing tool were still far in the future:\n  Face capture and video feed embedded in avatar: this would allow other users to measure one\u0026rsquo;s state of mind through their facial expressions. We were sold on the idea through a cool video of Ashton Kutcher\u0026rsquo;s face mapped to this avatar\u0026rsquo;s \u0026ldquo;head\u0026rdquo; showing him interact with Second Life and expressing obvious delight at what he was seeing.\n  Seamless Office documents integration: what a leap in the future this would have been! The only alternative available when giving a presentation using Powerpoint was to take screenshots of every slide, convert them using suitable jpg settings, then map them as textures to wall surfaces in Second Life. Supposedly this painful exercise was about to become a thing of the past \u0026ldquo;anytime soon.\u0026rdquo;\n  Not worth the cost \u0026ldquo;cost\u0026rdquo; can be interpreted in - at least - two different ways, both of which apply here.\nFirsly, the entry cost to simply be a part of the beta, was between $50,000 and $100,000. For the first year.\nFor that money, you would receive two servers and access to an online help desk. Tickets only.\nSecondly, the ownership cost was just too high. So many prerequisites would pop up as we progressed through the setup process that I reached a point when I became quite convinced that the Linden people had never talked to anyone who works in a big company. I could not imagine a use case that their process would satisfy.\nTo wit:\n  the customer did not have root access to their machines; that part I can understand. However, in order to perform simple configuration, I needed to be able to get our IT department to poke a hole for incoming SSH sessions in our firewall at the most random times. The Linden gremlins would then come in through this wall and type whatever one-liner was required.\n  software upgrades were performed by swapping the existing hard drives with new hard drives they sent in the mail. In order to perform the swap successfully, I needed to work with our IT guys to have unfettered access to the data center for two days. Alternately, I could ask for an IT guy\u0026rsquo;s time to be dedicated to this task for two days. The Linden people expected us to have someone continuously available to be on the phone with them as the upgrade went through. Note that, even if I did the upgrade myself, basic security rules require for IT personnel to be present in the data center at the same time as a non-IT person (me!) We originally thought this would be a non-issue as the tool was being marketed as a \u0026ldquo;turnkey\u0026rdquo; solution.\n  support tickets could go unanswered for days and in some instances weeks. After several weeks of this frustrating dance, I finally realized what was going on: they were using the same ticket system for both enterprise customers and public grid Second Life users. Now, I do not know what their triage policy was but considering the delays in getting any kind of reply, I suspect it was not what an enterprise customer would have expected.\n  I was not trying to do anything fancy; simply getting the servers up (which I eventually did) and run a few grids. Some of my basic questions left them dumbfounded. Questions I would have expected other beta testers to have asked as well.\n  No tool was available to automatically export our existing public grid area and import it to our private grid. Instead, we had to compile a full inventory of every single prim, mesh, texture, animation, etc., and send them this list along with proof that we had all the copyrights cleared for all of them. They would then, after an indefinite period of time, send us an archive containing, hopefully, our stuff. That\u0026rsquo;s when I started looking into the banned tools that some enterprising users had created to \u0026ldquo;steal\u0026rdquo; content and transfer it to OpenSim (or sometimes for quite shadier purposes)\n  Irony An important aspect of owning our private grid was using it to provide training to our customers. We already had at least one major account asking for virtual training since it would allow us to train geographically dispersed technicians. We were also considering the potential for internal training and this was obviously the first direction we would have taken the grid\u0026rsquo;s design.\nUnfortunately, educational tools such as (http://www.sloodle.org/moodle/)[SLoodle] were only available for OpenSim, the free and open-source competing virtual world package.\nWorse, Linden Labs added a paragraph to their \u0026ldquo;leasing agreement\u0026rdquo; (I do not remember what it was called exactly) that stipulated that we could only use the grid internally, which meant keeping customers\u0026rsquo; employees off the grid. I talked to the salesperson about my concern with that clause and got verbal assurance that we would not have to worry about it. The agreement was not amended, though.\nUnfortunately, that\u0026rsquo;s when I decided that it was definitely \u0026ldquo;not worth it.\u0026rdquo;\nThe aftermath It is now obvious that Linden Lab\u0026rsquo;s proverbial heart was never really in the whole endeavor. Unfortunately, this means that the technologies I listed earlier, such as real-time face capture and seamless office integration, were never deployed in the enterprise.\nInstead, we spent time and resources attempting to set up a product that did not offer the minimum set of features that would have benefitted our company. The vendor, likely realizing that they had waded in quicksands they knew or cared little for, threw the towel not long after I had decided to cut our losses.\nAn interesting take away lesson here is that, had we gone with an open-source alternative, we would now be working with a product that\u0026rsquo;s more current, was not end-of-lifed and for which plenty of support is available. And the return on investment would be, in comparison, astronomical.\n","permalink":"http://zteo.com/posts/second-life-for-enterprise-yup-it-died/","tags":null,"title":"Second Life for Enterprise: Yup, it died"},{"categories":null,"contents":"As niche posts go, I think this one may take the cake since it is about my experience installing Parallel 7\u0026rsquo;s tools in a Chakra Linux guest (of the venerable Arch family)\nLet me begin with pointing out that there are no Parallel Tools for Arch/Chakra but you can still make this work.\nWhat you need\n  Parallels 7\n  Chakra Linux\n  Kernel 3.2\n  Let\u0026rsquo;s do this\n1. On your host, select [cfrbc]Install Parallel Tools[/cfrbc]\n2. Shell time! You may first need to mount Parallel Tools manually.\nsumount /dev/cdrom /mnt 3. Let\u0026rsquo;s make a copy of the tools and patch it for kernel 3.2.\nmkdir -p ~/Tmp/PT cd ~/Tmp/PT cp -r /mnt/* . cd kmods tar zxvf prl_mod.tar.gz vi prl_eth/pvmnet/pvmnet.c Replace .ndo_set_multicast_list with .ndo_set_rx_mode tar zcvf prl_mod.tar.gz prl_eth prl_fs prl_fs_freeze prl_pv prl_tg dkms.conf Makefile.kmods 4. And finally, let\u0026rsquo;s run the installer (fingers crossed!)\ncd .. export def_sysconfdir=/etc/rc.d ./install You may or may not have to set correct the resolution in /etc/X11/xorg.conf. Personally I added \u0026ldquo;1920x1080\u0026rdquo; logged out, logged back in\u0026hellip;it just worked.\nNote that all the host\u0026rsquo;s shares can be found in /media/psf/\n","permalink":"http://zteo.com/posts/install-parallel-tools-in-archchakra-linux/","tags":null,"title":"Install Parallel Tools in Arch/Chakra Linux"},{"categories":null,"contents":"Like many other DEVONthink users, I have started to feel regret that MarkDown is not natively supported.\nNow, a piece of good news is that, as long as you edit a plain-text document in DT, you are, in effect, editing a potential MarkDown document.\nIn the past, it was possible to open a DT document in an application such as the excellent Marked.app. But it is not any longer. I totally understand the author\u0026rsquo;s argument: as a pure viewer, it feels wrong for an application to register as an editor.\nSo, here is my solution:\nCreate a short script\ntell application id \u0026#34;com.devon-technologies.thinkpro2\u0026#34; set docInfo to the content record set docPath to get the path of docInfo tell application \u0026#34;Marked\u0026#34; activate open docPath end tell end tell Save this script as /Application\\ Support/DEVONthink\\ Pro\\ 2/Scripts/DTInMarkdown.scpt\nNote: your actual DEVONthink folder name may differ based on which version you are using.\nIn DT, select \u0026lsquo;Script menu (icon) \u0026gt; Update Scripts Menu\u0026rsquo;: you should now see your new script.\nFrom the System Menu, open \u0026lsquo;System Preferences\u0026hellip;\u0026rsquo; then:\n\u0026lsquo;Keyboard \u0026gt; Keyboard Shortcuts \u0026gt; Application Shortcuts\u0026rsquo;\nCreate a new entry for DEVONthink Pro (or DEVONthink Pro Office); enter Menu Title: DTInMarkdown and enter a keyboard shortcut. I personally use Cmd+Shift+Return.\nNow, next time you are editing a plain text/MarkDown document in DT, that keyboard shortcut should open the document in Marked.app for instant preview. Note that the preview is updated every time you save your document.\n","permalink":"http://zteo.com/posts/devonthink-markdown-to-viewer/","tags":null,"title":"DEVONthink: MarkDown to Viewer"},{"categories":null,"contents":"I like things neatly organized. I absolutely hate the idea that I could buy a book I already own. So, it\u0026rsquo;s not surprise that, as a Mac user, I trust Delicious Library to keep tracks of my books, DVS and video games.\nAs an Android user, I also like that Shelves even exists. After all, it is mostly when I am walking the aisles of Barnes \u0026amp; Noble that I am the most susceptible to wonder whether I already own a given book \u0026ndash; although Amazon may eventually lure me away from that experience \u0026ndash; and if that information is only available on my Mac happily waiting for my return back home, it\u0026rsquo;s not very helpful to me. Therefore, Shelves is my saviour.\nUnfortunately, keeping Shelves updated with Delicious Library\u0026rsquo;s information is too involved a process: select export, check all the correct variables, select separators, rename the exported file, etc. This is not a good process for the procrastinator in me.\nSo, I wrote a small application \u0026ndash; a compiled Apple Script really \u0026ndash; that queries Delicious Library\u0026rsquo;s database and exports the relevant information to a file placed on my desktop. This file is already called \u0026lsquo;Delicious_Library_Books.txt\u0026rsquo; and I only need to copy it to my phone and re- import it every time I add new books to my collection.\nI could of course work on it some more to, for instance, handle other types of collections, but it fits my needs as is. If there is a request for a more complete script, I may modify it accordingly.\nIn the meantime, if you think it could help you, you are welcome to download it!\n[download id=\u0026quot;17\u0026rdquo;]\n","permalink":"http://zteo.com/posts/delicious4shelves/","tags":null,"title":"Delicious4Shelves"},{"categories":null,"contents":"\nSlider by Yamanaka Tamaki\nHello. Today, I am going to write about persisting a component\u0026rsquo;s values simply, using a hidden dialog; and how to turn a set of classes and assets into a \u0026ldquo;library\u0026rdquo; that other developers will not need to refactor prior to using it.\nA few months ago, needing an Android widget that would let me select values \u0026ldquo;naturally\u0026rdquo; using one or more sliders, I found Daniel Berndt\u0026rsquo;s excellent DateSlider.\nI added a few functionalities to it:\n1. Cohabitation of sliders in a tabbed interface\n2. An \u0026ldquo;Enumeration\u0026rdquo; type of slider (so, not necessarily dates anymore!)\n3. Sliders can now belong to a dialog or be embedded in an activity (ala progress bar)\n4. Now truly self-contained in ajar zip file.\nFor more information on the new features, have a look at the additional readme file I created.\nFor those of you who have tried to play with these concepts, you will immediately identify a few painful items here:\n1. How can a component be a dialog\u0026rsquo;s content, or not, at will?\n2. How can a single component automatically persist its values, for instance over an orientation change?\n3. How do you include all assets in a jar file when the SDK dislikes that?\nThese are the challenges that I had to address. I exchanged a few emails with Daniel about pushing these changes back to DateSlider\u0026rsquo;s main branch but I guess we\u0026rsquo;ve both been working on other things since July.\nThe source code is, of course, available on GitHub so for in-depth understanding, I would recommend having a look at the commit history.\nRegarding the three annoyances mentioned above:\nHow can a component be a dialog\u0026rsquo;s content, or not, at will?\nThis was the easiest one. I simply refactored the parent class (DateSlider) so that it is now a child of LinearLayout rather than Dialog.\nThis object is now instanced normally, and two methods, asDialog() and asEmbed() , allow you to get the component properly wrapped.\nHow can a single component automatically persist its values, for instance over an orientation change?\nThe idea I had is a bit appalling but not too bad, in my opinion: dialogs come with their own onSaveInstanceState() method, which is automatically invoked when your application is about to be paused. That is, as long as this dialog was displayed using showDialog() rather than directly realized in your code. This takes care of dialogs.\nComponents found in a regular activity, however, have no such method. So, what to do?\nMy approach is to use an inner class representing an invisible dialog \u0026ndash; conveniently called FauxDialog \u0026ndash; that sits next to the slider, and that dialog is the one whose methods get invoked for saving and restoring your component\u0026rsquo;s state.\nThat invisible dialog\u0026rsquo;s style is:\nand its save method can be as simple as:\n@Override public Bundle onSaveInstanceState() { Bundle savedInstanceState = super.onSaveInstanceState(); if (savedInstanceState==null) savedInstanceState = new Bundle(); savedInstanceState.putSerializable(\u0026#34;time\u0026#34;, getTime()); return savedInstanceState; } How do you include all assets in a jar file when the SDK dislikes that?\nThis one is actually VERY simple, thanks \u0026ndash; again \u0026ndash; to the guys at CommonsWare.\nThey provide an incredibly convenient file called ParcelHelper.java\nThis file allows developers to invoke a package\u0026rsquo;s resources through a class called, obviously ParcelHelper.\nTherefore, all I had to do to turn DateSlider into a usable jar library, was:\n1. Create a class called SliderController, that uses the singleton pattern to return an instance of ParcelHelper (I know! A singleton! Where is my pitchfork?)\n2. Replace direct references to resources, such as\nR.styleable.ScrollLayout_childWidth with their helper counterpart:\nSliderController.instance().getParcel().getStyleableId(\u0026#34;ScrollLayout\u0026#34;, \u0026#34;childWidth\u0026#34;) 3. Rename the resources, prefixing them a string specified in ParcelHelper\u0026rsquo;s getParcel() method\n4. And finally, after generating the jar file, store it into a zip file along with its own resources (i.e. icons and layouts)\nNow, any developer who wishes to use this \u0026ldquo;library\u0026rdquo; can simply extract this zip file at the root of their project and the jar file and the renamed resources will be made available to their own code.\nAs usual, feel free to ask questions if there are things that make little sense to you in this fairly succinct write-up.\n","permalink":"http://zteo.com/posts/android-self-contained-libraries-seamless-component-persistence/","tags":null,"title":"Android: self-contained \"libraries,\" seamless component persistence"},{"categories":null,"contents":"\nThis is a \u0026ldquo;niche\u0026rdquo; post: it will really only appeal to you if you have access to your own \u0026ndash; or a friend\u0026rsquo;s \u0026ndash; name servers and want to use your own domain to track your dynamic IP addresses, such as your home router\u0026rsquo;s.\nYou will still have to buy your own domain, cheap if you go to internet.bs or namecheap.com. I hear that the latter even provide their own dynamic DNS service although I cannot tell you anything about its quality/flexibility.\nSo, why this post? It\u0026rsquo;s for you, my friends, budding entrepreneurs who wish to bootstrap your business and know that every cent counts. Maybe you feel that you could host your product\u0026rsquo;s web site on a home computer. Maybe you need more control over what happens on that server. Or maybe you want to be able to log on to your development machine from anywhere in the world.\nWhatever your reasons, you\u0026rsquo;re still here. So let\u0026rsquo;s get started.\n1. NTP\nFirst, for DNS updates to be accepted by BIND, the client that sends updates needs for its internal clock to be closely in step with the DNS\u0026rsquo; clock. This is, of course, achieved by running the network time protocol (NTP) at both ends.\nOn RedHat:\nyum install ntp On Debian/Ubuntu/Mint:\nsudo apt-get install ntp OS X comes with NTP pre-installed.\nYour NTP client should come with a configuration that will work with the distro\u0026rsquo;s own NTP servers. Check the content of /etc/ntp.conf. If no server is provided, you can still test your configuration against 0.pool.ntp.org. It is nowhere near as nice as adding your own ntp server to the ntp system though.\nStart the NTP daemon; this is typically done using:\n/etc/init.d/ntpd start Install this daemon so that it will always be automatically started:\nchkconfig ntpd on In OS X, this is a much easier configuration: open System Preferences \u0026gt; Data \u0026amp; Time and check \u0026lsquo;Set date and time automatically\u0026rsquo;\nOn Windows, various options are available, including the open-source NetTime.\n2. BIND\nHere is a bit of info that you need to know: dynamic DNS will generate zone files that will not be human-readable. Therefore you are not going to want to maintain files that mix dynamic and static DNS information. That is why I typically make a subdomain dynamic while leaving the domain itself static. For instance, if you own the domain mydomain.com , I would recommend that you create a new zone for d.mydomain.com and only that zone will be dynamic.\nIf, on the other hand, you do not need to maintain both static and dynamic IPs, you obviously can make the whole mydomain.com dynamic.\nOK, so that\u0026rsquo;s where I\u0026rsquo;m lying. By omission. After all there is nothing preventing you, as we shall soon see, to maintain a set of static addresses alongside the dynamic ones in your update script.\nLet\u0026rsquo;s declare a dynamic zone in /etc/named.conf (or /var/named/chroot/etc/named.conf if running BIND in a chroot environment):\nzone \u0026#34;d.mydomain.com\u0026#34; { type master; file \u0026#34;/var/named/data/d.mydomain.com.db\u0026#34;; allow-update { key host1.d.mydomain.com.; }; }; This tells BIND that a client providing the correct key \u0026lsquo;host1.d.mydomain.com\u0026rsquo; is allowed to update this zone file (d.mydomain.com.db)\nThis key needs to be present in named.conf as well:\nkey host1.d.mydomain.com. { algorithm hmac-md5; secret \u0026#34;\u0026lt; your public key here \u0026gt;\u0026#34;; }; We will see very soon where we get this key from. Note that you could decide that you wish to be cleaner and store that key in an external file.\nSo, that was easy. However, this approach gives access to a full domain ( d.mydomain.com ) to a single user as long as they have the correct private key in their possession.\nWhat if you wish to share a domain among multiple users, each only allowed to modify their own host name?\nThat\u0026rsquo;s where \u0026lsquo;update-policy\u0026rsquo; can be useful.\nHere is your updated named.conf file to allow two different users to update their respective host info:\nzone \u0026#34;d.mydomain.com\u0026#34; { type master; file \u0026#34;/var/named/data/d.mydomain.com.db\u0026#34;; update-policy { grant host1.d.mydomain.com. name host1.d.mydomain.com. A TXT; grant host2.d.mydomain.com. name host2.d.mydomain.com. A TXT; }; }; Of course, the keys \u0026lsquo;host1.d.mydomain.com\u0026rsquo; and \u0026lsquo;host2.d.mydomain.com\u0026rsquo; need to be present in the same file.\nOK, we\u0026rsquo;re almost there. Just one last bit of preparation will go a long way, though: make sure that the user BIND is running as has write-access to the zone hierarchy! Keep in mind that BIND will end up generating zone files, unlike with static zones.\n3. UPDATES\nNow, to update these zones remotely, we will rely on a traditional BIND tool known as nsupdate.\nIt is available on Linux and OS X. Instructions for installing on Windows can be found here and, of course, as usual Cygwin provides its own version.\nLet\u0026rsquo;s generate a key for our host1.d.mydomain.com. host:\ndnssec-keygen -a hmac-md5 -b 128 -n USER host1.d.mydomain.com. This will output two files:\nKhost1.d.mydomain.com.XXXXX.key\nand\nKhost1.d.mydomain.com.XXXXX.private\nGet the key from the first file (just the segment that ends in \u0026lsquo;==\u0026rsquo;) and use it to replace \u0026lsquo;\u0026lt; your public key here \u0026gt;\u0026rsquo; in named.conf.\nYou can now focus on the client.\nHere is a sample script I wrote that will perform a very minimal update every half-hour. This script lives in /home/\u0026lt; your home dir \u0026gt;/DNS_KEY along with the Khost1.d.mydomain.com.XXXXX.private file.\nObviously you will need to modify \u0026lt; your home dir \u0026gt;, \u0026lt; master DNS name \u0026gt;, host1.d.mydomain.com and Khost1.d.mydomain.com.XXXXX.private:\n#!/bin/bash  # Servers: http://dynupdate.no-ip.com/ip.php, http://www.antedes.com/getip.php, ..? # Less straifghtforward: http://checkip.dyndns.org/, ... IPS=http://dynupdate.no-ip.com/ip.php DNSP=/home/\u0026lt; your home dir \u0026gt;/DNS_KEY while true; do # First, retrieve IP address CURIP=`curl -s $IPS | awk \u0026#39;{ print $1 }\u0026#39;` OLDIP=`cat $DNSP/oldip` # Compare to previously saved IP [ \u0026#34;$CURIP\u0026#34; == \u0026#34;$OLDIP\u0026#34; ] \u0026amp;\u0026amp; continue echo $CURIP \u0026gt; $DNSP/oldip # If different, tell DNS echo \u0026#34;server \u0026lt; master DNS name \u0026gt;\u0026#34; \u0026gt; $DNSP/zone echo \u0026#34;zone d.mydomain.com\u0026#34; \u0026gt;\u0026gt; $DNSP/zone echo \u0026#34;update delete host1.d.mydomain.com. A\u0026#34; \u0026gt;\u0026gt; $DNSP/zone echo \u0026#34;update add host1.d.mydomain.com. 14400 A $CURIP\u0026#34; \u0026gt;\u0026gt; $DNSP/zone echo \u0026#34;show\u0026#34; \u0026gt;\u0026gt; $DNSP/zone echo \u0026#34;send\u0026#34; \u0026gt;\u0026gt; $DNSP/zone /usr/bin/nsupdate -k $DNSP/Khost1.d.mydomain.com.XXXXX.private $DNSP/zone # Sleeeeeeep I tell you # 1800 = 30 minutes sleep 1800 done You can install this script on Linux as your own daemon or run it manually using \u0026lsquo;nohup \u0026lt; scriptname \u0026gt; \u0026amp;\u0026rsquo; or get rid of the loop and use crontab.\nOn OS X, I ask Lingon to start it early on.\nDo not modify the 30 minutes sleep time; be polite to these services that provide your IP for fre.\nCONCLUSION\nOf course, you want to remember to restart BIND so that it will read its new configuration. It will not need to be restarted again; it will automatically integrate all dynamic updates.\nHope this helps and as usual if you have questions I will try not to ignore them for too long :)\n","permalink":"http://zteo.com/posts/your-own-dynamic-dns-in-3-steps/","tags":null,"title":"Your own Dynamic DNS in 3 steps"},{"categories":null,"contents":"I am both happy and relieved to announce RootTools 1.5 and NativeTools 1.0.\nWhat\u0026rsquo;s new in RootTools 1.5?\nMostly build improvements: a new AndroidManifest.xml file for easier building in Eclipse; example version number is now taken from the manifest file; new makejar.ant for building and zipping the library.\nThis version also offers a new function: isNativeToolsready(). This function does a silent install/check for correct install of the nativetools binary (you could conceivably use your own binary as you provide your resource id to the function)\nWhat is NativeTools 1.0?\nIt\u0026rsquo;s the piece that has been, until now, missing from the equation. I recommend reading readme.md for more information but the short version is that NativeTools provide C/C++ functions in a convenient package that you can invoke to perform all sorts of operations (retrieve partition size, get file content, etc) without having to worry about the current device\u0026rsquo;s shell idiosyncrasies.\nIts other advantage is that is runs much, much faster that performing the same operations recursively in Java.\n","permalink":"http://zteo.com/posts/roottools-15-nativetools-10/","tags":null,"title":"RootTools 1.5, NativeTools 1.0"},{"categories":null,"contents":"A lot of applications expect the status bar to be at the top of your device\u0026rsquo;s screen. It\u0026rsquo;s true in most cases so their developers are somewhat justified in making this assumption.\nHowever, with more and more tablets on the market, this is becoming an increasingly dangerous assumption.\nAlso somewhat dangerous: the notion that your status bar\u0026rsquo;s height will be (your visible area\u0026rsquo;s height - zero). Google never made any commitment that the status bar will always start at pixel zero.\nSo, here is how I do it:\nRect outerRect = new Rect(); Rect usableRect = new Rect(); Window window= Home.getInstance().getWindow(); window.getDecorView().getGlobalVisibleRect(outerRect); window.getDecorView().getWindowVisibleDisplayFrame(usableRect); statusBarHeight = usableRect.top - outerRect.top; // Sometimes, status bar is at bottom... int bottomGap = outerRect.bottom - usableRect.bottom; if(bottomGap \u0026gt; statusBarHeight) { statusBarHeight = bottomGap; } ","permalink":"http://zteo.com/posts/android-statusbar-height-the-cautious-way/","tags":null,"title":"Android StatusBar Height, the cautious way"},{"categories":null,"contents":"A classic problem: you need an array where you are going to hold a set of values; you do not know that array\u0026rsquo;s size in advance but it may grow to be quite the monster.\nIf you use, say, an ArrayList, you have a memory-hungry beast to deal with, making sure that Android will really think about your app when it needs to kill background processes to reclaim some memory.\nThe solutions offered here have a few downsides, not least of them being the copy operations; however they are kept to a minimum.\nUpon closer inspection you will notice that this code tries to deal with two- dimensional arrays by storing booleans in a [row][col] array; it is outside the scope of this post but, yes, I am using integers as bit fields to represent these booleans. The memory savings are huge.\nSolution #1 \u0026ndash; for an array growing linearly\nI know that this table will be filled \u0026ldquo;top to bottom\u0026rdquo; so I simply double its size whenever I am about to reach its current boundary. If I waited to effectively reach the boundary, a loop relying on size() would not go beyond its original size. Since we are using this boundary, this is not geometric growth but staggered linear growth.\nclass GridInfo { int mSize; int mRow[]; public GridInfo() { this(2); } public GridInfo(int size) { mSize = size; mRow = new int[mSize]; } public int size() { return mSize; } void resize() { int resizedArray[] = new int[mSize * 2]; System.arraycopy(mRow, 0, resizedArray, 0, mSize); mRow = resizedArray; mSize *= 2; } void flickOn(int row, int col) { if(row + 1 \u0026gt;= mSize) resize(row); mRow[row] |= (2\u0026lt;\u0026lt;col); } void flickOff(int row, int col) { if(row + 1 \u0026gt;= mSize) resize(row); mRow[row] \u0026amp;= ~(2\u0026lt;\u0026lt;col); } boolean isFlicked(int row, int col) { if(row + 1 \u0026gt;= mSize) resize(row); return ((mRow[row] \u0026amp; (2\u0026lt;\u0026lt;col)) != 0); } } Solution #2 \u0026ndash; for a random-access array\nHere, the developer using this class may decide to look ahead for a value that may or may not exist. By resizing the array to 2 to the power of (log2(our desired row number\u0026rsquo;s)+1), we make sure that this yet uncharted territory exists.\nclass GridInfo { int mSize; int mRow[]; public GridInfo() { this(2); } public GridInfo(int size) { mSize = size; mRow = new int[mSize]; } public int size() { return mSize; } void resize(int row) { int l2 = 1 + (int)(Math.log(row + 1) / Math.log(2)); int pw = (int)Math.pow(2, l2); if(pw \u0026gt; mSize) { int resizedArray[] = new int[pw]; System.arraycopy(mRow, 0, resizedArray, 0, mSize); mRow = resizedArray; mSize = pw; } } void flickOn(int row, int col) { if(row + 1 \u0026gt;= mSize) resize(row); mRow[row] |= (2\u0026lt;\u0026lt;col); } void flickOff(int row, int col) { if(row + 1 \u0026gt;= mSize) resize(row); mRow[row] \u0026amp;= ~(2\u0026lt;\u0026lt;col); } boolean isFlicked(int row, int col) { if(row + 1 \u0026gt;= mSize) resize(row); return ((mRow[row] \u0026amp; (2\u0026lt;\u0026lt;col)) != 0); } } Of course, make sure to pick an initial value as close as possible to what you expect your array\u0026rsquo;s average size to be. \u0026ldquo;2\u0026rdquo; is not a very likely choice in most cases.\n","permalink":"http://zteo.com/posts/a-fast-low-memory-growable-array-for-android/","tags":null,"title":"A fast, low-memory growable array for Android"},{"categories":null,"contents":"In this post:\n  Google+ on your Mac, using its own credentials\n  Google+ as its own desktop app, with a nice icon\n  Using a complex GreaseMonkey script in Safari or Fluid\n  I really like Google+ but I have more than one Google account so it was a pain to use because Google\u0026rsquo;s cookies are shared among all Google services and I had to constantly switch accounts.\nI decided to turn it into its own application , with its own cookies.\nI could have run it in a different browser, such as Opera, but it seemed a tad overkill.\nSo, I finally decided to send some money Todd Ditchendorf\u0026rsquo;s way and spend the \u0026ldquo;outrageous\u0026rdquo; $4.99 required for a full version of Fluid, the application that turns web pages into their own desktop application.\nI did not use Prism because it seems to be all but abandoned. I did not use Bazinga or an automator script because both share their cookies with Safari, which Fluid\u0026rsquo;s full version offers not to.\nAfter downloading and registering Fluid, I created an application that load https://plus.google.com\nI gave it a nice icon thanks to Sean McCabe\u0026rsquo;s vector set, [available for free in his blog](http://boldperspective.com/2011/free-google-plus-icon- vector/).\nI could have declared victory at that point but I wanted to perform some customization; Fluid, like Safari, understands a subset of the GreaseMonkey API so that shouldn\u0026rsquo;t be too difficult (Safari requires GreaseKit or NinjaKit)\nJerome Dane wrote a great \u0026ldquo;G+ Tweaks\u0026rdquo; script, available at userscripts.org. Unfortunately, it uses a bit too much of GreaseMonkey\u0026rsquo;s built-in power and wouldn\u0026rsquo;t work at all in Fluid.\nIssues :\n  The script tries to load external JavaScript using the require command (not available)\n  It uses GreaseMonkey functions, such as GM_setValue(), that Fluid does not understand\n  I worked around (1) the ugliest way possible: I copy/pasted the external Javascript in the script itself.\nAs it turns out, it is not as bad as you may think: GreaseMonkey does not reload \u0026lsquo;required\u0026rsquo; scripts dynamically; it merges them internally at installation time, which means that we are doing something very similar.\nAnd (2) was a simple matter of adding a few bogus functions: a user called aeosynth posted a short version of those missing functions on userscripts.org\u0026rsquo;s forums.\nAnd now, if you are feeling brave enough, you can view the whole script by clicking the link below. You can copy and paste it into Fluid\u0026rsquo;s scripts editor, with the pattern \u0026lsquo;plus.google.com\u0026rsquo;\nThe script\n","permalink":"http://zteo.com/posts/google-on-your-desktopin-safari-user-script-just-working/","tags":null,"title":"Google+ on your desktop/in Safari + user script, just working"},{"categories":null,"contents":"This is your \u0026ldquo;up-to-date 5 minutes ago\u0026rdquo; guide on how to build CyanogenMod 7 using your Mac. Check the date: 05/10/2011.\nNote that, obviously, these instructions should also help you with building other ROMs.\nLet\u0026rsquo;s start with the good news :\n  This guide, found in the Cyanogen Wiki, still works (mostly) so we will follow it\n  And the guide would work with any CM7 target. Simply use your own target name; e.g. for Droid Incredible, replace \u0026lsquo;vision\u0026rsquo; with \u0026lsquo;inc\u0026rsquo;\n  Now, ahem, the bad news :\nYou will need to do a bit more work than what\u0026rsquo;s in that guide.\nNamely:\nThe most recent version of XCode, the one you paid for, will fail with this message:\n ld: illegal text reloc to DwarfCUImpl\n Fix:\nDownload an older, compatible version. Oh, and it\u0026rsquo;s free too. I found out (thanks Newsgroups!) that 3.2.4 could very well be the last version of XCode to work properly.\nGet it from [this page](http://connect.apple.com/cgi- bin/WebObjects/MemberSite.woa/wo/5.1.17.2.1.3.3.1.0.1.1.0.3.3.3.3.1). That\u0026rsquo;s the page you get when you go to connect.apple.com and select \u0026lsquo;Developer Tools\u0026rsquo;.\nYou will not find this page when visiting developers.apple.com!\nAfter downloading, install the package. You can install it next to your shinier XCode 4 by selecting an alternate destination on the \u0026lsquo;Installation Type\u0026rsquo; screen. I installed it in /Developer324\nI created this short script to build CM7. It replaces the guide\u0026rsquo;s \u0026lsquo;Compile\u0026rsquo; section:\ncd /Volumes/CyanogenModWorkspace/android/system/ sudo mv /Developer /Developer.new sudo mv /Developer324 /Developer time make -j`sysctl -an hw.logicalcpu` bacon sudo mv /Developer /Developer324 sudo mv /Developer.new /Developer If you build now, you will, however, get another error:\n ASSERTION FAILURE external/elfcopy/elfcopy.c:932: [ranges[i].start \u0026gt;= last_end]\n This fix is much faster: open external/elfcopy/elfcopy.c and add this before line 928:\nsort_ranges(section_ranges); Then\u0026hellip;oh, wait. That\u0026rsquo;s it. Run the make script and you\u0026rsquo;re done.\n","permalink":"http://zteo.com/posts/cross-compile-android-cm7-on-os-x/","tags":null,"title":"Cross-Compile Android (CM7) on OS X"},{"categories":null,"contents":"I am now opening [Tooredo](/posts/tooredo-a-friendlier-toodledo-user-interface- public-beta/tooredo.zteo.com) to public beta.\nI \u0026ndash; and others \u0026ndash; have been using it for several months without majors glitches so I think it\u0026rsquo;s time I shared the joy with you.\nWhat is Toodledo? Toodledo \u0026ndash; I am not affiliated with them in any way \u0026ndash; is an awesome web application that helps you write down and remember your tasks. Tasks can be organized in folders and contexts and tagged. You can even set goals for yourself.\nWhat sets them apart is twofold:\n1. Their connectivity. These guys offer a great backend for storing your tasks and an equally great API for developers to use it in their applications.\n2. Their web user interface. Either you embrace it unconditionally or you spend lot of time wondering why they didn\u0026rsquo;t choose to design a friendlier one.\nAs a result of #1, Toodledo is everywhere: if you are using a task manager on your smartphone or are a GTD fan, chances are that the program you are using at least offers the option to synchronize your data with Toodledo.\nAs a result of #2, I created Tooredo.\nWhat is Tooredo? Tooredo is a more intuitive user interface to create and manage tasks lists. It relies on Toodledo to store these tasks and you can switch between both applications as you please. In fact, you can even switch between Tooredo, Toodledo and your favourite task manager or even completely bypass the Toodledo web interface if you feel like it; although, Tooredo is not as full- featured as Toodledo\u0026rsquo;s interface.\nObviously, if you wish to give Tooredo a spin, you first need to register a free Toodledo account.\nWhen this is done, simply head to tooredo.zteo.com\nI suggest you use this post\u0026rsquo;s comment section for feedback and help.\n","permalink":"http://zteo.com/posts/tooredo-a-friendlier-toodledo-user-interface-public-beta/","tags":null,"title":"Tooredo: a friendlier Toodledo user interface -- Public Beta"},{"categories":null,"contents":"These last few days, the Linux world has paid quite a lot of attention to this kernel patch, written by Mike Galbraith.\nIts purpose is to make your desktop more responsive by grouping your tasks so that they have a better chance at getting their fair share of CPU time when some other task, notably a CPU hog, is running in the background. Lennart Poettering then offered [his own solution](http://www.webupd8.org/2010/11/alternative-to-200-lines-kernel- patch.html), which requires no tweak of the kernel itself.\nWhile Mike\u0026rsquo;s approach adds the concept of tty grouping to cgroup, Lennart\u0026rsquo;s one consists of grouping every task you launch under your own bash shell. The latter take actually offers better granularity.\nIt appears that this tweak just works. Hurray, then.\nSo..? On Reddit, the question was asked: Does any one know if this linked linux speed patch will work on an ( linux based) android phone?\nI\u0026rsquo;ve seen several replies that were quite off the mark so I added my own (I like being wrong too!)\nAllow me to expand on it a little here:\n\u0026ldquo;android has its own custom scheduler\u0026rdquo;\nActually, it appears that it does not :\nOut of curiosity, I did a line-by-line comparison of the scheduler code between three kernels: Linux stock 2.6.32.26, Android snapshot branch and HTC Incredible MR3 2.6.32.\nWell, they are all different. But the question is: how different? In this case, not different enough to be seen as \u0026ldquo;different schedulers.\u0026rdquo;\nOverall, the three branches use the fair scheduler. With these differences:\n  Unsurprisingly, the Android code cares about task freezing.\n  On the Android side, the real-time portion does not let you add a task to the head of the queue\n  It seems more concerned with proper IRQ handling\n  The Incredible code aligns its timing on the clock rather than raw CPU time, again \u0026ndash; I suppose \u0026ndash; out of care for overall sync., including IRQ timing (It also pushes the logic a bit further by making sure that it uses the high-res timer)\n  All tasks\u0026rsquo; iowait time is included in init \u0026lsquo;s own iowait time. My guess is for statistics purpose; possibly including battery life.\n  Tasks enqueuing is simplified to ignore the \u0026ldquo;migrate\u0026rdquo; flag. However, load balancing is implemented and CPUs can be found not eligible for process migration. If they are, the same algorithm is used as in the stock kernel.\n  When attaching a task, Android does not immediately check for ownership. It does, however, make up for this by testing that the process has the CAP_SYS_ADMIN Posix capability.\n  Oh, how exciting. So, what does this mean for Android? Can we just tweak a phone as we would a desktop machine?\nUnfortunately, the answer is no.\nEven though cgroups are alive and well in our phones, you do not log in on different ttys (best concise-yet-accurate comment winner), which means that the kernel patch would not really help. And we do not have a bash shell that we could rely on to apply Lennart\u0026rsquo;s tweak.\nOK, allow me to add a caveat : we may be able to group the applications you get from the market on one side and the phone\u0026rsquo;s system applications on the other. This would be a different tweak but in the same spirit.\nThis would not do anything to prevent market application \u0026ldquo;A\u0026rdquo; from starving market application \u0026ldquo;B\u0026rdquo;, though.\nAs far as I can tell, Android does not see strong enough a difference between activities and services for it to be useful either.\nNeed more cowbells! Note, too, that while Android\u0026rsquo;s code is ready to handle load balancing, this would not helps us much. Let\u0026rsquo;s have a look a the three current top sellers:\n[table id=1]\nOuch. Not much to balance against. This should change when the next generation of SnapDragon is released as it should have multiple cores.\n","permalink":"http://zteo.com/posts/so-is-android-using-the-linux-scheduler-can-i-patch-it/","tags":null,"title":"So, is Android using the Linux scheduler? Can I patch it?"},{"categories":null,"contents":"Like many Android developers, I recently realized that pushing a \u0026ldquo;lite\u0026rdquo; version of my application to the Android Marketplace would improve my application\u0026rsquo;s visibility.\n(My application: SplitAndTip; light version)\nIt\u0026rsquo;s not as easy as it seems because Android uses your application\u0026rsquo;s main class\u0026rsquo; full path to identify it. Therefore, simply compiling two versions of the same source code with, say, two different certificates \u0026ndash; the Adobe approach \u0026ndash; does not work.\nYou need to use different package names, potentially different databases, depending on your preference, etc.\nWhen I was looking for a solution I read this article with great interest.\nIt relies on Project Libraries and you need to re-organize your code into its own library, then simply invoke it from two different packages.\nIt\u0026rsquo;s a bit or work but nothing too horrible using Eclipse\u0026rsquo;s refactoring abilities.\nUnfortunately, what I realized after playing with it for a few hours is that this method is only available to you if you only care about devices running Froyo (2.2)\nPersonally, it is an absolute show stopper as I write my applications to be compatible with versions of the Android SDK dating back to version 1.5. Only supporting Froyo, according to Google\u0026rsquo;s own figures, means that your application is unavailable totwo-thirds of the Android market.\nMy approach, then, was to write a small script that will create a copy of my original application and modify what needs to be modified to turn this copy into a light version.\nI never modify the light version directly; instead I added a test to the original application that will be used at runtime to decide which application type we are running. Here it is, ready for consumption:\nthis.lite = context.getPackageName().toLowerCase().contains(\u0026#34;myliteapp\u0026#34;); Obviously you will want to replace \u0026ldquo;myliteapp\u0026rdquo; with your own package name.\nAnd here is the (Bash) script where all the magic takes place:\n[download id=\u0026quot;4\u0026rdquo;]\n.\n","permalink":"http://zteo.com/posts/android-create-a-lite-version-of-your-application/","tags":null,"title":"Android: Create a \"lite\" version of your application"},{"categories":null,"contents":"Once again, the \u0026ndash; otherwise very nice, I\u0026rsquo;m sure \u0026ndash; PHP people have done this thing that has made me miserable with my own open-source code and is now also affecting Mediawiki: in PHP 5.3.1, references passed to __call() are silently turned into values.\nApparently, this bug was fixed but a contract was broken in the process: even if packages such as Wikipedia or Drupal were wrong in the way they were passing references, this used to work. Now, when running the same code, not only is a warning issued \u0026ndash; good \u0026ndash; but the function is not called. The latter is quite hard to justify.\nOf course, this means that a simple \u0026ldquo;dot\u0026rdquo; upgrade can render your whole website unusable ; it\u0026rsquo;s a pill that\u0026rsquo;s a tad hard to swallow.\nIf you are running a LAMP stack, such as XAMPP, from ApacheFriends, you may feel that you are sorry out of luck. XAMPP, for instance, currently ships with PHP 5.3.1 and the Mediawiki updater encourages you to either upgrade or downgrade your version of PHP. How do you do this when running a full stack? XAMPP Beta, for instance, does not come with an upgrade path to the next release. I scoured the their forums and did not find much advice on how to get things back up and running without pain.\nSo, here is how to upgrade your PHP version -- and PHP only \u0026ndash; to 5.3.3, while Apache, MySQL, etc. remain untouched. Oh and that \u0026lsquo;s on Linux.\nGo to your XAMPP root directory. Typically:\ncd /opt/lampp Make a backup of your current PHP files (or not, it\u0026rsquo;s up to you):\ntar cvf BEFORE_php533.tar bin/php* etc/php* etc/pear* lib/* modules Download XAMPP Beta from http://www.apachefriends.org/en/xampp- beta.html\nExtract XAMPP Beta to, say, ~/Tmp/\nStop Apache:\n/opt/lampp/lampp stopapache Now, copy all the files you will need:\ncp -rf ~/Tmp/lampp/bin/* bin/ cp -f ~/Tmp/lampp/etc/p* etc/ cp -rf ~/Tmp/lampp/lib/php lib/ cp -f ~/Tmp/lampp/lib/libssl.so* lib/ cp -f ~/Tmp/lampp/lib/libcrypto.so* lib/ cp -f ~/Tmp/lampp/lib/libldap* lib/ cp -f ~/Tmp/lampp/lib/liblber* lib/ cp -rf ~/Tmp/lampp/modules lib/ Start Apache:\n/opt/lampp/lampp startapache I want something simpler OK, then. Simply download the \u0026ldquo;patch\u0026rdquo; below and extract it in your XAMPP root directory. You will still need to restart Apache.\nCaution! 15MB Download.\n","permalink":"http://zteo.com/posts/update-your-xampp-php-and-keep-mediawiki-drupal-happy/","tags":null,"title":"Update your XAMPP PHP and keep Mediawiki \u0026 Drupal happy"},{"categories":null,"contents":"My first Android application, SplitAndTip , makes splitting a restaurant check with your friends very easy.\nOne of its key features is that I wanted the user to be able to change any parameter without feeling like the program gets in their way. For instance, you can open the \u0026lsquo;Tax \u0026amp; Tip\u0026rsquo; drawer and quickly change these values.\nHowever, like many, I live and work at the edge of a couple counties and the county tax goes from 8.25% to a whopping 9.75% (L.A. County of course!)\nIt is a tedious proposition to re-enter the same two percentages every time I cross the \u0026ldquo;border.\u0026rdquo;\nOn a desktop computer, this is usually addressed through the use of a drop- down list. However the Android UI does not have room for a full-size selection component, unless you add more steps by popping one up every time you wish to adjust a value. This is no friendly user interface.\nThe solution I found is a text field that will provide suggestions based on past values, while remaining in the text field itself.\nImplementation I have created a new visual component that can be used in my XML layout file. This new component is unimaginatively called SuggestEditText\nEditText , the usual Android input component, is a thin layer on top of TextView , which contains everything we need to edit, clear and validate a text field.\nAll we need to do is subclass EditText , which already has edit controls enabled, and make it listen for update events.\nOur component will also implement the TextWatcher interface: we will write a version of afterTextChanged(Editable s) that performs the completion work itself.\nWe need to load an existing completion set, if any, and update it when necessary. I have decided to use a HashSet as it will transparently accept already existing strings and not duplicate them, and it provides an API for future improvements.\nYou can see, in this file, many calls to DataStore.instance(). It\u0026rsquo;s a piece you will need to replace with your own controller. Of course, ideally, said controller would be injected in our constructor.\nIn res/values/attrs.xml we define an extra attribute for our new component: key\nThis attribute will be used as a unique identified for our list of completion strings:\nWe can then use this attribute every time we include a SuggestEditText component in our XML layout:\nxmlns:voilaweb=\u0026#34;http://schemas.android.com/apk/res/com.voilaweb.mobile.splitandtiplite\u0026#34; [\u0026hellip;]\nWe also accept a dedicated listener type, TextChangedListener , that will be used when notifying a controller that its model needs to be updated with the new version of our completion set.\nBack to our TextWatcher interface; let\u0026rsquo;s have a look at afterTextChanged\u0026rsquo;s implementation:\n/** * Note: This callback will temporarily unregister from the listeners list * This is the cleanest way to make sure we do not go into an infinite loop; * however this is not the most efficient one. */ public void afterTextChanged(Editable s) { String curText = this.getText().toString(); if(this.hasFocus()){ if(prevText.length() \u0026lt; curText.length()) { int longestMatch = 0; String matchedValue = null; Iterator it = this.completions.iterator(); while(it.hasNext()) { String value = it.next(); if(value.startsWith(curText)) { int valueLen = value.length(); if(valueLen \u0026gt; longestMatch) { longestMatch = valueLen; matchedValue = value; } } } if(null != matchedValue) { int savedPos = this.getSelectionStart(); unRegisterListener(); this.setText(matchedValue); registerListener(); if(-1 != savedPos) { if(savedPos \u0026gt; longestMatch) { savedPos = longestMatch; } this.setSelection(savedPos, longestMatch); }\t} }\t} prevText = curText; } We do two things in this method:\n1. We look for an existing completion string that would match the text we just entered; if we find one, we do not consider our search complete as, for this component to work correctly, we need to provide the completion string that matches our current text most closely. We retain the completion that provides a match on the greater number of characters.\n2. We replace our field\u0026rsquo;s text with the matched completion string; however, this behavior would amount to a nuisance more than anything else, if we stopped here. After all, the user needs an easy way to tell our component that it is mistaken. To achieve this, we simply select the section of text that was added to what was already entered. A simple keystroke is enough to get rid of this suggested completion.\nNote that we only provide completion suggestions when \u0026ldquo;moving forward\u0026rdquo; i.e. this method does not do anything if the user is in the process of deleting characters. We do this by checking our new string length versus our previous measured length.\nAlso, this field\u0026rsquo;s text can be updated programmatically, for instance when the field is instantiated with an existing value. To avoid our code messing with these updates, we check that the field is currently focused before doing anything.\nIf you are curious regarding how our completion strings are persisted , here is how we do this in the controller:\nOur completion strings are, as seen before, stored as a HashSet\nWe store and retrieve each such set as a string. The \u0026ldquo;Stringification\u0026rdquo; is done through these two methods:\nstatic public String objectToString(Serializable object) { String str = new String(); try { str = Base64.encodeObject(object); } catch(IOException ex) { // here, I handle the exception  } return str; } static public Serializable objectFromString(String str) { Serializable ser = null; try { ser = (Serializable)Base64.decodeToObject(str); } catch(IOException ex) { // here, I handle the exception  } catch(ClassNotFoundException ex) { // here, I handle the exception  } return ser; } The conversion to- and from base 64 is performed using Robert Harder \u0026lsquo;s class found at http://iharder.net/base64\nThese strings are stored in a simple key-value pairs database.\nNote : If you are a new Android developer, then please do not get in the habit of serializing everything this way. There are better APIs available, for instance for storing your instance states when your activity is frozen or restarted by the system:\npublic void onSaveInstanceState(Bundle savedInstanceState) { savedInstanceState.putSerializable(\u0026#34;item_info_list\u0026#34;, this.itemInfoList); super.onSaveInstanceState(savedInstanceState); }\tJust make sure that your object this.instanceObject implements Serializable.\nYou can download the .java file below. Its license is CC Attribution Share- Alike. This license does not contaminate the rest of your code.\n[download id=\u0026quot;3\u0026rdquo;]\n","permalink":"http://zteo.com/posts/suggestedittext-android-auto-suggest-component/","tags":null,"title":"SuggestEditText: Android auto-suggest component"},{"categories":null,"contents":"I was reading [this article](http://lastplaceonthe.net/protect-jailbreakmecom- jailbroken-idevice-pdf-exploited/) and, in my opinion, it got the facts right but their conclusion is backwards:\n Meanwhile, whilst this particular unlock is the simplest, it also carries with it element of risk that you’re going to want to protect yourself against.\n What? No that\u0026rsquo;s not the correct conclusion. A conclusion that would make more sense is that everybody is at risk until this PDF hole is patched by Apple. Jailbroken and non-jailbroken phones alike.\nHowever, if you have jailbroken your phone, you have access to a fix now as described in the article reference above:\n1. Open Cydia\n2. Install \u0026ldquo;PDF Loading Warner\u0026rdquo;\n3. Reboot your phone\n","permalink":"http://zteo.com/posts/jailbroken-iphones-now-safer/","tags":null,"title":"Jailbroken iPhones now safer?"},{"categories":null,"contents":"Today, I am venturing outside my usual programming and open-source path and I am going to share my experience speeding up my iPhone with you.\nI am not going to write a long article where I copy/paste what everybody else has already written about how slow iPhone 3G\u0026rsquo;s can get when running iOS4. It is now a well established fact.\nRumor has it, iOS4.1 should really make your iPhone faster.\nIn the meantime, here is what I did. Note that the first two steps are already abundantly documented all over the internet; a good read can be found at \u0026lt;http://www.roughlydrafted.com/2010/07/07/how-to-speed-up-your- iphone-3g-running-ios4/\u0026gt;.\n1. Force your iPhone to rebuild its internal databases\n\nCourtesy: iClarified\nSimply rebooting your handset does just that: reboot. However, performing a complete reboot \u0026ndash; or \u0026ldquo;hard reset\u0026rdquo; \u0026ndash; forces it to actually clean up and rebuild all sorts of data structures. The benefit is twofold: less fragmented, they become faster to access. And, if any of your applications seems keen to crash \u0026ndash; for reasons other than the obvious \u0026ldquo;out of memory\u0026rdquo; error \u0026ndash; this could be due to a corrupt database. A hard reboot should fix that.\nTo perform a hard reboot, hold down both the sleep button and the home button until the phone turns off, then back on \u0026ndash; that\u0026rsquo;s when the Apple logo shows up.\nFor reasons beyond my comprehension, you may need to perform multiple hard reboots: usually two or three. I have no idea whether this is just a superstitious belief or there is an actual technical explanation for that. It just seems to help.\n2. Disable all Spotlight searches\nNoticed how Spotlight can make your Mac slower? Well, the problem is compounded on your underpowered iPhone. I have observed a tremendous speed bump after disabling all indexing.\nDisable Spotlight by opening the \u0026ldquo;Settings\u0026rdquo; application, then going to _General \u0026gt; Home Button \u0026gt; Spotlight search_and deselecting all search types.\n.\n3. Hacky hack hack\nThis one is not for the faint of heart. It should typically not cause your phone to spontaneously combust, but it requires some toying with the phone\u0026rsquo;s internals. Therefore, you need a jailbroken phone.\nNote, however, that it does not install any new software on your phone. That\u0026rsquo;s good news if you are \u0026ndash; justifiably so \u0026ndash; worried about uploading anything from an unknown party to your handset.\nHave a look at [this forum thread](http://forums.qj.net/developement-hacks- jailbroken-software/168817-ioverhellclock-rev-3-0063-7-a.html). You can download a file that contains two interesting hacks: first, a hack to overclock your phone. Then, a hack to enable virtual memory paging to the phone\u0026rsquo;s flash.\nLet\u0026rsquo;s get something out of the way immediately: I do not believe that the first hack does anything for you. It almost certainly provides no overclocking. It simply attempts to tell your phone to be less prone to slow down under some conditions. Both hacks use .plist files, therefore, as I said before, no trojan is installed on your phone. However, this also means that they can be easily inspected and I found nothing in the \u0026ldquo;overclock\u0026rdquo;-related one, that would speed up anything. It may, at worst, instruct your phone not to slowdowns when you are not doing anything with it, thus somewhat worsening its battery life. Amusingly, it contains many directives that have nothing to do with your iPhone, such as what to do when the lid is open(?) or which video card to use(!) but, to be fair, the same directives are found in the original .plist on your phone.\nThe new paging policy as defined in the second .plist file is much more interesting indeed. In a nutshell: it introduces your handset to the joys of swapping in and our of memory. When a program is pushed to the bottom of the phone\u0026rsquo;s \u0026ldquo;to-do\u0026rdquo; list, the memory pages that belong to that program can be \u0026ldquo;swapped out\u0026rdquo; the the flash, therefore out of the regular execution memory.\nWith this policy in place, even if your iPhone insits on loading Mail when opening the Maps application, for instance, the Mail app, running in the background, will be quickly removed from dynamic memory and your front application will be able to use much more memory. Suddenly, applications that used to be killed by a fairly touchy \u0026ldquo;out of memory\u0026rdquo; watchdog become much more stable.\nAnd this is all done by running a memory pager that is already available on your phone!\nThere are, of course, some drawbacks but I estimate that they are minor: sometimes your phone will freeze while trying to figure out where a chunk of virtual memory should be. Using a tool such as \u0026ldquo;Backgrounder\u0026rdquo; is not recommended as it will only make the pager work harder. You will, in theory, shorten the life of your phone, but this should take years since we are talking about flash memory failing after millions of read/write operations, each operation only performed when necessary. It is very likely that you will grow bored of your old iPhone 3G before its flash memory gets impacted at all.\nIn summary: install com.apple.dynamic_pager.plist , forget com.apple.SystemPowerProfileDefaults.plist!\nI setup this hack on my phone weeks ago and I have to say that my overall user experience has greatly improved. Of course, I hope iOS4.1 is the holy grail that was described to me by some enthusiastic Apple fans.\n","permalink":"http://zteo.com/posts/make-your-iphone-3g-faster-with-ios4-some-assembly-required/","tags":null,"title":"Make your iPhone 3G faster with iOS4 (some assembly required)"},{"categories":null,"contents":" _ Update:_ Now a few days later, Thesis has been GPL\u0026rsquo;d and there isn\u0026rsquo;t much left to say on this topic. However, for the sake of clarity, I would like to revisit a statement I made below: if Thesis contained *no* original WordPress code, considering that it is distributed on its own, and not shipped with a copy of WordPress, I am not sure how a court would see this. It is the intent of the GPL license that anything \u0026ldquo;linked\u0026rdquo; against GPL code becomes _de facto_ GPL ( _if the executable and GPL code \u0026ldquo;make function calls to each other and share data structures\u0026rdquo;_ ) but I am not aware of a case where \u0026ldquo;linking\u0026rdquo; was the only, successfully argued point.\nDisclaimer: I am a member of the Free Software Foundation and I work in a corporate environment so I\u0026rsquo;d like to think that my views on open source are fairly balanced.\nThe debate of whether Thesis should be licensed under the GPL (GNU Open-source license) has been ongoing for a while but lately it has gotten more traction following a fairly sad debate between Matt Mullenweg, founder of the WordPress software and web sites, and Chris Pearson, who co-authored and distributes the Thesis WordPress theme.\n[Watch the video (50 minutes!)](http://wordpress.tv/2010/07/15/mixergy- interview-pearson-mullenweg/)\nThis is another of these \u0026ldquo;debates\u0026rdquo; fueled by the notion that there are always two sides to every issue. In many unfortunate cases, it turns out that the two sides are \u0026ldquo;the facts\u0026rdquo; versus \u0026ldquo;stuff I just made up.\u0026rdquo;\nLet\u0026rsquo;s get out the way the phrase that seems to be causing all the confusion: it is claimed that Thesis works \u0026quot; on top of \u0026quot; WordPress. Well, that is just plain misleading.\nThemes do not work \u0026ldquo;on top of\u0026rdquo; WordPress. They are not just dumb HTML tags; they are PHP source code that is linked against WordPress\u0026rsquo;s framework.\n[Some bloggers](http://markjaquith.wordpress.com/2010/07/17/why-wordpress- themes-are-derivative-of-wordpress/) have talked about the fact Chris lifted some code from WordPress\u0026rsquo; original GPL\u0026rsquo;d code. Well, you know what? It is a good point, yet it does not even matter: even if that code was removed from Thesis, its author would still have a problem.\nWordPress is licensed under the GPL. The GPL stipulates that if you link against a piece of GPL\u0026rsquo;d code, and run in the same process space, then you have to GPL your code as well. This is very clearly stated in the FAQ:\n If license for a module Q has a requirement that\u0026rsquo;s incompatible with the GPL, but the requirement applies only when Q is distributed by itself, not when Q is included in a larger program, does that make the license GPL- compatible? Can I combine or link Q with a GPL-covered program?\nIf a program P is released under the GPL that means any and every part of it can be used under the GPL. If you integrate module Q, and release the combined program P+Q under the GPL, that means any part of P+Q can be used under the GPL. One part of P+Q is Q. So releasing P+Q under the GPL says that Q any part of it can be used under the GPL. Putting it in other words, a user who obtains P+Q under the GPL can delete P, so that just Q remains, still under the GPL.\nIf the license of module Q permits you to give permission for that, then it is GPL-compatible. Otherwise, it is not GPL-compatible.\nIf the license for Q says in no uncertain terms that you must do certain things (not compatible with the GPL) when you redistribute Q on its own, then it does not permit you to distribute Q under the GPL. It follows that you can\u0026rsquo;t release P+Q under the GPL either. So you cannot link or combine P with Q.\n Chris is, maybe on purpose, showing a lack of understanding of the GPL license. He argues that if you develop another application and wish to link it to WordPress, then WordPress\u0026rsquo;s license is, somewhat abusively, demanding that you GPL your whole application.\nThat is not exactly true and the distinction matters.\nTo be clear : GPL is not WordPress; it is disingenuous to paint WordPress as a dictator who decides how you should license your code. All WordPress\u0026rsquo; authors did was GPL WordPress\u0026rsquo; code, in effect saying \u0026ldquo;That\u0026rsquo;s the license we are adopting; please follow this license as well if you link to our product.\u0026rdquo;\nSo, back to GPL: GPL does not necessarily require you to also GPL your code. You have the alternative of NOT linking against GPL\u0026rsquo;d code. This is why the FSF maintains a list of licenses known to be incompatible with GPL.\n[GPL-Incompatible Licenses (gnu.org)](http://www.gnu.org/licenses/license- list.html#GPLIncompatibleLicenses)\nIn a nutshell, it is the oldest rule in a free market: if you do not like our product, do not use it.\nIf you do not like WordPress\u0026rsquo; license, then link your code against another CMS.\nIt is also very childish to claim that GPL cannot be enforced. Actually, claiming that violating your partner\u0026rsquo;ss license (WordPress\u0026rsquo; GPL) is like \u0026ldquo;getting away with a blowjob\u0026rdquo; is definitely not an argument that would hold water in a court of justice.\nMichigan Finds GPL To Be Enforceable\n[Cisco settles with FSF on GPL violations](http://www.linuxfordevices.com/c/a/News/Cisco-settles-with-FSF-on- GPL-violations/)\n[Big GPL copyright enforcement win in Paris Court of Appeals](http://arstechnica.com/open-source/news/2009/09/big-gpl-copyright- enforcement-win-in-paris-court-of-appeals.ars)\nAlso, Google is your friend. It is very difficult to claim ignorance when all the relevant information is so readily available.\n","permalink":"http://zteo.com/posts/wordpress-thesis-gpl-the-facts-are-simple/","tags":null,"title":"WordPress, Thesis, GPL: The Facts Are Simple"},{"categories":null,"contents":"I am happy to announce the release of the Wordpress plugin \u0026ldquo;Page-Theme\u0026rdquo; v1.3.\nThis version is a full rewrite.\nIts features are:\n  Define themes on a per-page basis\n  Define themes on a per-post basis ( ** new** )\n  Support for SEO-friendly permalinks\n  Support for basic permalinks ( ** new** )\n  Full integration with posts and pages screens in the admin control panel ( ** new** )\n  There should also be a lesser potential for Javascript interference as I removed the one external script I was invoking.\nHow do I use it? In the admin control panel, under \u0026ldquo;Appearance\u0026rdquo; there is a new link: \u0026ldquo;Page Theme\u0026rdquo;\nSelect the checkboxes for which screen you wish to integrate the plugin with.\nClick on the preview picture/theme name to change it.\nSelect a new theme for this page or post and click on \u0026lsquo;Set Theme\u0026rsquo;\n![](http://nexus.zteo.com/static/media/uploads/CFR/120188-matte-grey-square-icon-symbols-shapes- puzzle4-ps-128.png)\nIf you already have a previous version installed, you can go through Wordpress\u0026rsquo; update mechanism. If not, just head to the plugin page.\n","permalink":"http://zteo.com/posts/page-theme-v13-not-just-for-pages-anymore/","tags":null,"title":"Page-Theme v1.3: Not just for pages anymore..."},{"categories":null,"contents":"Until now, this freebie has been known only to my Twitter followers, but considering the positive feedback it received, I am going to put it out there for everybody: a few months ago, being disappointed with the lack of true rich-text editing provided by typical blog editing tools, I started work on mine.\nIt\u0026rsquo;s still a very unambitious thing but at least it does what every blog owner wants: it allows you to work on your posts in a convenient and intuitive way.\nThe new guy is unimaginatively called \u0026lsquo;Free Blog\u0026rsquo; and believe me it\u0026rsquo;s way better than the other potential names I came up with.\nAnd yes, I intend to add many features to it if you guys like it.\nMore info on Free Blog: Free Blog\u0026rsquo;s Page.\n","permalink":"http://zteo.com/posts/freebie-a-real-blog-editing-tool/","tags":null,"title":"Freebie: A real blog editing tool"},{"categories":null,"contents":"When you play with an 800-pound gorilla, sometimes, you have to accept that the gorilla will inadvertently stomp on you. After a couple months spent researching a possible strategic realignment, we have decided that it would not be reasonable to spend more time and money on Twitterified, at least not in its current incarnation.\nOn April 4th 2010, Fred Wilson, who is on Twitter\u0026rsquo;s board of directors, sent a very clear message to application developers: stop writing applications that \u0026ldquo;fill holes in the Twitter product.\u0026rdquo;\nEmphasizing his point, Twitter quickly went on to buy Tweetie and declaring it its official client.\nSo, what\u0026rsquo;s a bad position to be in today? Well, it would certainly not be a good idea to offer a product that handles longer Tweets and external pictures or captures video. Uh-oh.\nNow, do not get me wrong: there was a market for that and Twitterified\u0026rsquo; and other players\u0026rsquo; success clearly demonstrate that. But now, Twitter has looked at these extras, decided that they are good, and is taking over.\nOf course, they cannot be blamed for doing so: they have long been in search of a good business model therefore it would be foolish to begrudge them a (not-so) sudden change of direction. As Twitter\u0026rsquo;s popularity exploded, they have let third-party developers play with the platform while focusing on keeping up with their infrastructure growth.\nAs a company, Twitter is responsible to its shareholders and \u0026ldquo;filling the holes\u0026rdquo; through acquisitions seems to be just the most reasonable move they could have made this year.\nOther \u0026ldquo;long tail\u0026rdquo; companies, at least the ones who do not focus on \u0026ldquo;filling holes\u0026rdquo; but rather on using Twitter as part of an \u0026ldquo;open social\u0026rdquo; strategy, should not fear Twitter\u0026rsquo;s recent moves.\nOur other focus was to sell turnkey solutions to the enterprise; after all, Twitterified can be used with your private servers. The good people at Status.Net (formerly Laconi.ca) seem to have made this approach work for themselves. Unfortunately, it seems easy to overestimate the size of that market. Players like Yammer have been fairly successful thanks to an incredibly appealing approach to the enterprise market: let the employees easily build the network and management will follow. I am convinced that this was the right approach and these guys mastered it.\nSo, what\u0026rsquo;s going to happen to Twitterified?\n  The server infrastructure will remain in place in the foreseeable future. We may eventually open-source it.\n  The client itself was open-sourced several months ago and anyone is free to fork, modify and repackage it as long as the license is respected. Note that if you do work on the client, you will first need to modify it to work with oAuth.\n  I hope you, our users, do not feel sad about this. Twitterified was a very enjoyable ride and I am glad that you liked the product. You can contact me on Twitter if you wish, I always enjoy hearing from you.\nSincerely,\nChris F. Ravenscroft\n","permalink":"http://zteo.com/posts/twitterified-no-more/","tags":null,"title":"Twitterified no more"},{"categories":null,"contents":"I was quite surprised, when looking for a way to assign different themes to some pages, to not manage to find an easy way to do that. It is not baked into WordPress, and I could not find a suitable plugin either.\nI had, a while ago, created a tiny plugin that did just that for me but it was way too simple and unfriendly to configure. I eventually stumbled upon the \u0026lsquo;domain theme\u0026rsquo; plugin which, even though it does not do what I need, at least showed me that there is a way to perform a proper theme switch cleanly.\nNote: if you\u0026rsquo;ve been reading this intro, thinking: \u0026ldquo;But there is a way to switch templates!\u0026quot;, then you\u0026rsquo;re right because there is; however I am not talking about templates but themes. Templates are pre-recorded page structures whereas themes are about changing your blog\u0026rsquo;s complete look and feel, including logo, stylesheet, etc.\nHence, page-theme : a simple plugin with a friendly user interface that lets you specify a given theme for any of your pages. Here is what it looks like:\nTwo limitations you need to be aware of:\n  This plugin is called very early on during the process of rendering a web page; so early, in fact, that I had to come up with my own way to detect which page you are looking at. This works well as long as you are using \u0026ldquo;pretty links\u0026rdquo; (e.g. \u0026ldquo;yourdomain.com/2010/05/mypagename\u0026rdquo;) but will not work with the other type of links (e.g. \u0026ldquo;yourdomain.com/?p=5\u0026rdquo;)\n  Only pages are currently handled. Posts could also get their own theme, but I would need to modify the plugin to support this. Just let me know if you would like to see this feature implemented.\n  So, if you\u0026rsquo;re interested, go get it now:\nhttp://wordpress.org/extend/plugins/page-theme/\n","permalink":"http://zteo.com/posts/wordpress-plugin-page-themethemes-your-pages/","tags":null,"title":"Wordpress Plugin: Page-Theme...themes your pages!"},{"categories":null,"contents":" This is not a real article per se. It is more intended to be a conversation because Twitter would make this a tad difficult, with its 140 characters limit.\nTwo notes on moving to multisites:\n1. Wordpress 3.0 final has not been released yet; I have no idea whether a safe upgrade can be guaranteed after enabling multisites\n2. Multisites based on subdomains are possible; if you blog is not recent, you will not be offered directory-based sites\nFirst, edit wp-config.php, add towards the top:\ndefine(\u0026#39;WP_ALLOW_MULTISITE\u0026#39;, true); In the ACP, go to Tools \u0026gt; Network\nThis page shows how to modify your default wp-config.php and your .htaccess (for SEO links)\nDo not worry if some of the text looks similar to what you already have in your existing wp-config.php; it is, in fact, different and necessary.\nWhen this is done, your current blog should work as before; you may see some things that needs fixing if using some new features such as \u0026ldquo;make thumbnail.\u0026rdquo; See below.\nYour last step in the ACP, whether you are migrating from Wordpress or Wordpress MU, is to go to Super Admin \u0026gt; Update and let Wordpress update all your blogs.\nUpdate : Do not forget to also create, under wp-content/, a directory called blogs.dir and make it writable by your web server.\nNext, you may, for historical reasons, have some loose files lying around, e.g. images, which will not be displayed correctly anymore; for instance, Thumbnails.\nIf this happens, using the command-line again, go to where these files are located (typically /files/ or /wp-content/uploads/ ) and type:\ncp -R * ../wp-content/blogs.dir/1/files/ Now, let\u0026rsquo;s say your site can be found at http://example.com\nYour subdomains/blogs should be created at http://blog1.example.com http://anotherblog.example.com etc.\nYou can either place a wildcard record in your DNS configuration, e.g.:\n* 14400 IN A 1.1.1.1 where 1.1.1.1 is your IP address;\nOr you can create a new DNS entry for each subdomain.\nYou will also need to tell your web server that subdomains are enabled. The way to do this varies based on your web server and control panel. Or configuration files if you are more of the command-line creed.\nIf you wish to use different domains altogether, this is still untested but I will give it a try eventually; there are plug-ins, in the extend database, that map domains to sub-domains.\nWhat about SEO? I know. You\u0026rsquo;ve noticed that even your main blog now has slightly different URLs: where it used to be something like \u0026lsquo;www.example.com/2009/11/26/...' it now is \u0026lsquo;www.example.com/ blog/ 2009/11/26/\u0026hellip;\u0026rsquo;\nFear not! Wordpress is nice enough to keep these old links ready for any visitor following a link from elsewhere. The old address simply returns a \u0026lsquo;301\n Moved permanently\u0026rsquo; header which will tell search engines that your content has not disappeared but simply relocated, and where.  ","permalink":"http://zteo.com/posts/notes-on-enabling-multisites-in-wp30/","tags":null,"title":"Notes on enabling multisites in WP3.0"},{"categories":null,"contents":"That\u0026rsquo;s something I had to do myself recently. It was not quite as painful as I feared it to be.\nMy aging Wordpress install had certainly gone through its share of hacking: I started with a 1.x version, added multi-blog plugins, uninstalled them, moved to Wordpress MU, then back to single-blog Wordpress. In the process I wrote scripts to rename my tables, added multi- domains plugins\u0026hellip;all the while manually upgrading to various 2.x releases.\nThings stopped working. Helpful things, such as JavaScript, just about everywhere.\nNow, Wordpress 3.0 is about to be released, nightly builds are available, and migrating to 3.0 is going to prove a challenge on its own since it re- introduces multi-blogs support and, as a major release, existing Wordpress installed databases will be quite \u0026ndash; but hopefully gently \u0026ndash; re-shaped by the upgrade process.\nSo, here is what I consider the safest upgrade/clean-up path. I hope it works for you as well as it does for me. Everything is now back to stable and working and I am not seeing major incompatibilities with any of my existing plug-ins.\nCleaning-up the Database This is something I recommend doing if you have been using Wordpress MU or any other plug-in that renames your tables.\nFirst, dump your old database\u0026rsquo;s content into a temporary file:\nmysqldump old_database_name \u0026gt; tmp.sql If you need to rename tables, edit tmp.sql; in my case, I use vi (sorry!) and this command:\n:%s/wp_xxxxxx_/wp_/g where wp_xxxxxx_ represents the prefix used by your plug-in. For instance, when using Wordpress MU with the Nexus, it was something like _wp_nexus_zteo_com__\nIf you have a statistics plug-in, you may also reclaim a fantastic amount of space by removing its data from your export file.\nBTW, I have not tested it myself but there is a plug-in you might be interested in using before you dump your old database: Wordpress Cleanup, by Nisipeanu Mihai, discards comments tagged as spam as well as pages and posts revisions: [plugin page](http://wiki.nisi.ro/my-wordpress-plugins/cleanup- wordpress-plugin/).\nNew Install Create a new database, let\u0026rsquo;s call it \u0026ldquo;new_database_name.\u0026rdquo;\nYou need to create a new install with the same version of Wordpress you are currently running. It is very likely that you do not have the archive handy anymore. It\u0026rsquo;s not a problem: just go to http://wordpress.org/download/release-archive/ and download your version.\nNote: You can check your current version in the Dashboard in the ACP (\u0026ldquo;Right Now\u0026rdquo;)\nExpand the Wordpress archive to a new directory. By default, it will be wordpress/. You can rename it to something else if you need to but I will keep referring to it as wordpress/ in this post.\nNow, go to the link where your new \u0026ldquo;old\u0026rdquo; install can be found and install. Provide your new database\u0026rsquo;s info.\nWhen your pristine new blog is fully installed, import your cured file into the new database, clobbering whatever was installed just now:\nmysql new_database_name \u0026lt; tmp.sql Upgrade This is where the magic happens. We are going to left Wordpress upgrade your install.\nUntil Wordpress 3.0 reaches final status, we will use Peter Westwood\u0026rsquo;s plugin to perform the upgrade. Get it from http://wordpress.org/extend/plugins/wordpress-beta-tester/\nActivate the plug-in, then go to Tools \u0026gt; Beta Testing and select Nightly builds.\nFinally, choose Tools \u0026gt; Upgrade.\nBecause you installed Wordpress in a new place, but you wish to preserve your Google juice, you will want to make sure that your blog is still available at the \u0026ldquo;old\u0026rdquo; place. Doing so requires playing musical chairs with your directories. For instance:\nmv old_directory bogus_name mv wordpress old_directory But that\u0026rsquo;s not all! You need to inform Wordpress of its relocation. In MySQL:\nupdate wp_options set option_value=replace(option_value,\u0026#39;temporary_new_link\u0026#39;,\u0026#39;old_link\u0026#39;); For instance if your blog was originally found at http://example.com/blog and you expanded your new Wordpress install at the same level, this new blog should be found at http://example.com/wordpress.\nYou would therefore type, from the command-line (you may also use a web interface, simply adapt as needed):\nmv blog old_blog mv wordpress blog And in MySQL:\nupdate wp_options set option_value=replace(option_value,\u0026#39;www.example.com/wordpress\u0026#39;,\u0026#39;www.example.com/blog\u0026#39;); You could, alternately, just completely remove your old directory. But it\u0026rsquo;s good practice to keep it around until you know that everything is spick and span.\nHelp! It\u0026rsquo;s all messed up! Well, let me know, I may be able to assist with that.\nNote that thanks to the paranoid steps we just took, it is extremely easy to revert to your original install. Following the example we just used:\nmv old_blog blog Done!\n","permalink":"http://zteo.com/posts/clean-up-wordpress-and-upgrade-to-30/","tags":null,"title":"Clean-up Wordpress and upgrade to 3.0"},{"categories":null,"contents":"Google Analytics. I\u0026rsquo;m sure you\u0026rsquo;re already familiar with it. If not, just know that it\u0026rsquo;s a free service that gives you a pretty accurate idea of why people visit your blog, whether they, in fact, visit it at all, and what kind of demographics they represent. Unless you already use a better, but not free, analytics service, you really have nothing to lose, so just go ahead and sign up.\nAdding Analytics code to your blog is quite straightforward. You can either copy/paste the Javascript code to your template\u0026rsquo;s footer.php, or use one of the many plugins that will do just that. But toda, I would rather focus on the plugins that integrate Analytics reporting with your admin control panel.\nAdding Analytics Code to your page I will mention these two plugins so that you know where to got to collect your visitors\u0026rsquo; info. As I mentioned earlier, they are two among many plugins:\nGoogle Analytics 3 codes for WordPress\nhttp://www.prima-posizione.it/download/wp/google-analytics/\nUltimate Google Analytics\nhttp://www.oratransplant.nl/uga/\nThere isn\u0026rsquo;t much to say about these guys. They add the code necessary to track your visitors. They have nice admin control panel screens to configure who you wish to track, and how. That is, they offer to not count certain roles, differentiate outbound links, etc.\nI have tested these plugins against Wordpress 3.0 beta 2 which is about to be released and in the process found several of them to not work anymore.\nReporting Plugins Google Analyticator\nhttp://ronaldheft.com/code/analyticator/\nThis is the first plugin I will mention because when using this one, you can do without a \u0026ldquo;code\u0026rdquo; plugin as it will automatically do both jobs: insert the relevant code in your pages, and provide reporting.\nIt has the ability to not count visitors based on roles (administrator, editor, etc.)\nIts reporting capabilities are found in a dashboard widget which lists current trends, five top pages, referrers and seaches.\nIts support forums offer a very comprehensive FAQ and its community seems to be very active.\n[easyreview title=\u0026quot;Google Analyticator\u0026rdquo; cat1title=\u0026quot;Features\u0026rdquo; cat1detail=\u0026quot;Tracking, Roles, Support\u0026rdquo; cat1rating=\u0026quot;3\u0026rdquo; cat2title=\u0026quot;Compatibility\u0026rdquo; cat2detail=\u0026quot;With Wordpress 3 and Google Analytics\u0026rdquo; cat2rating=\u0026quot;5\u0026rdquo; overall=\u0026quot;false\u0026rdquo;]\nWordpress Analytics\nhttp://imthi.com/wp-analytics\nThis plugin requires its own dashboard page; as such, it does not work with the \u0026ldquo;one-stop\u0026rdquo; dashboard paradigm, but it makes up for this shortcoming by offering more information than a typical dashboard widget. It offers a fairly clear breakdown of visits versus geographic data. It also displays search keywords, traffic sources and browsers types.\nA couple nice features to be aware of:\n1. If it possible to navigate between dates using left and right arrow-shapes buttons; this lets you visualize much more data than the default ten entries displayed for each category;\n2. The visitors history map is interactive and you can quickly visualise any given day\u0026rsquo;s information\nMy only gripe with this plugin is that it does not integrate directly with Google Analytics by asking Analytics to authorize it. Instead, you have to enter your username and password in the plugin itself. It is not so bad, though, as you have the plugin\u0026rsquo;s source code that you can check if you are worried about it \u0026ldquo;calling home\u0026rdquo; with your information.\n[easyreview title=\u0026quot;Wordpress Analytics\u0026rdquo; cat1title=\u0026quot;Features\u0026rdquo; cat1detail=\u0026quot;Clear, Date ranges, Interactive\u0026rdquo; cat1rating=\u0026quot;4\u0026rdquo; cat2title=\u0026quot;Compatibility\u0026rdquo; cat2detail=\u0026quot;With Wordpress 3 and Google Analytics\u0026rdquo; cat2rating=\u0026quot;4\u0026rdquo; overall=\u0026quot;false\u0026rdquo;]\nGoogle Analytics Dashboard\n\u0026lt;http://www.ioncannon.net/projects/google-analytics-dashboard-wordpress- widget/\u0026gt;\nIt\u0026rsquo;s a misleading name for this plugin. But wait! It\u0026rsquo;s misleading in a good way: it actually is more than just a dashboard widget.\nThis plugin will also display analytics graphs next to each post. I would like to talk about the dashboard widget itself but it\u0026rsquo;s pretty much a run-of-the- mill widget with a few nice touches: you can select which roles have access to it (administrators, editors, etc.) and it can display Analytics goals.\nHowever, where it really shines is by providing an Analytics graph next to each post: it quickly tells you how many page views a post received, how many visitors left your site after reading this post and the tiny graph tells you about the post\u0026rsquo;s recent popularity history.\nYup\u0026hellip;not all posts are created equal\nNote that this login does not support direct Analytics integration either and also requires you to provide your Analytics information.\n[easyreview title=\u0026quot;Google Analytics Dashboard\u0026rdquo; cat1title=\u0026quot;Roles, Goals, Posts Details\u0026rdquo; cat1detail=\u0026quot;Features offered by this plugin\u0026rdquo; cat1rating=\u0026quot;4\u0026rdquo; cat2title=\u0026quot;Compatibility\u0026rdquo; cat2detail=\u0026quot;With Wordpress 3 and Google Analytics\u0026rdquo; cat2rating=\u0026quot;4\u0026rdquo; overall=\u0026quot;false\u0026rdquo;]\nThe ones that make me sad Tantan Reports\nhttp://tantannoodles.com/toolkit/wordpress-reports/\nOn paper, this plugin has it all: it comes with a widget that you can use to proudly show your stats to your visitors, it also reports on Feedburner\u0026hellip;\nUnfortunately, beyond the fact that it, too, requires your username and password, it happens to use a Google Analytics library written by the same author, and that library uses a hack to log in to Analytics that seems to be broken by a recent update to the Analytics website.\n[easyreview title=\u0026quot;Tantan Reports\u0026rdquo; cat1title=\u0026quot;Features\u0026rdquo; cat1detail=\u0026quot;Publish, Feedburner, Standard\u0026rdquo; cat1rating=\u0026quot;3\u0026rdquo; cat2title=\u0026quot;Compatibility\u0026rdquo; cat2detail=\u0026quot;With Wordpress 3 and Google Analytics\u0026rdquo; cat2rating=\u0026quot;0\u0026rdquo; overall=\u0026quot;false\u0026rdquo;]\niRedLog Google Analytics Stats\nhttp://iredlof.com/2009/04/iredlof-google-analytics-stats-wordpress-plugin/\nThis plugin displays several widgets using Flash. In fact, it would be more accurate to say that it tries to display them as I could not get it to work in any browser.\nSill, I tried to view its online demo at http://blog.iredlof.com/wp-admin/ but unfortunately that page does not offer to demo this plugin anymore.\nI have to assume that the plugin is not supported.\n[easyreview title=\u0026quot;iRedLog Google Analytics Stats\u0026rdquo; cat1title=\u0026quot;Features\u0026rdquo; cat1detail=\u0026quot;Beautiful, on paper at least\u0026rdquo; cat1rating=\u0026quot;3\u0026rdquo; cat2title=\u0026quot;Compatibility\u0026rdquo; cat2detail=\u0026quot;With Wordpress 3 and Google Analytics\u0026rdquo; cat2rating=\u0026quot;0\u0026rdquo; overall=\u0026quot;false\u0026rdquo;]\nLocal Analytics\nhttp://www.joycebabu.com/downloads/local-analytics\nThis would be an interesting concept, caching as much information as possible to make your pages not dependent on Google Analytics\u0026rsquo; web site connectivity; unfortunately this plugin has not been updated in two years. I hope someone picks up its development.\n[easyreview title=\u0026quot;Local Analytics\u0026rdquo; cat1title=\u0026quot;Features\u0026rdquo; cat1detail=\u0026quot;Tracking, Subdomains, Caching\u0026rdquo; cat1rating=\u0026quot;4\u0026rdquo; cat2title=\u0026quot;Compatibility\u0026rdquo; cat2detail=\u0026quot;With Wordpress 3 and Google Analytics\u0026rdquo; cat2rating=\u0026quot;0\u0026rdquo; overall=\u0026quot;false\u0026rdquo;]\nI will keep an eye on these plugins and update this blog if they get updated.\n","permalink":"http://zteo.com/posts/google-analytics-wordpress-plugins/","tags":null,"title":"Google Analytics Wordpress Plugins"},{"categories":null,"contents":"Also, ezEdit is very, very, very easy to install and use:\nYou can add the CMS to your existing website;\nYou can use it to mock-up updates to your site;\nIf you are a web designer, you can work on updates with your clients in real-time; and this is without installing anything: simply use the bookmarklet.\nezEdit works as either a very short bootstrap script or a bookmarklet.\nThe CMS back-end is in a self-contained file as well.\nCurrently the CMS works with static web pages but it even comes with a plugin architecture that makes it easy to write extensions to update the big guys (Drupal, Wordpress, etc.)\nezEdit is free , open-source and both community and, if demand arises for it, commercially supported.\nThe script has no dependencies on additional JavaScript: because it makes no assumption, it can cohabitate peacefully with jQuery, Prototype, YUI, etc.\nUsing the script is very straightforward as well: a simple hotkey , enter your credentials if security is enabled, and start editing any part of a web page.\nConfiguration is painless: you can even maintain an external configuration file if you do not with to open the back-end script.\nAnd, yes, that is correct: you can use the front-end script without the back- end script even being available.\nTo learn more about ezEdit and download the files or just get the bookmarklet, go to the project page:http://nexus.zteo.com/projects/ezedit/\n","permalink":"http://zteo.com/posts/ezedit-is-a-mini-cms-andor-a-prototyping-tool/","tags":null,"title":"ezEdit is a mini CMS and/or a prototyping tool"},{"categories":null,"contents":"I am a huge fan of SuperGenPass. There are so many obvious reasons why it\u0026rsquo;s a great concept that I won\u0026rsquo;t bore you with a rehash of all of them.\nUnfortunately, in Google Chrome, SuperGenPass chokes on some pages. I do not blame Chrome for that: it\u0026rsquo;s for security reasons.\nI\u0026rsquo;ve patched the basic version of SuperGenPass so that it can now work on those pages. I am not sure that it fixes everything for everybody but I hope it makes your life easier, like it does mine.\nJust go to this page and get the patched bookmark.\nIf you are using a customized bookmark, I am afraid that you will have to patch it yourself. Here is what the patch looks like:\nLook for\nvar%20FrameTest=window.frames[i].src; Replace with\nvar%20FrameTest=window.frames[i].src;var%20FrameTest=window.frames[i].src;FrameTest=window.frames[i].document.forms; Done!\n","permalink":"http://zteo.com/posts/supergenpass-patched-for-google-chrome/","tags":null,"title":"SuperGenPass patched for Google Chrome"},{"categories":null,"contents":" Ladies and gentlemen, gather \u0026lsquo;round! The Great Panini is going to perform an incredible illusion before your very eyes! You will tell your grandchildren of this day and they will not believe you! Take pictures!\nThe Great Panini will start with a pre-steam machines era CentOS 4 server. He will install two versions of Ruby and they will coexist peacefully! He will then use the blazing fast Lighttpd server to proxy queries to various Ruby frameworks and he will even make it look easy!\nHrm\u0026hellip;Sorry.\nI am going to tell you how I quickly updated a couple servers with Ruby 1.9.1 and Lighttpd. And it will look easy because it is, in fact, easy.\nThis article\u0026rsquo;s aim is to be practical but I will explain as we go along.\nThe first thing I did was update CentOS to a more recent version. This could take a while but it\u0026rsquo;s always a good idea to keep a server software up-to-date so I\u0026rsquo;m sure that your already are almost there:\nyum update In my case, after a couple hours (oops), the update was complete and I rebooted the servers.\nRuby 1.8.5\nThat\u0026rsquo;s the easy part because it\u0026rsquo;s the version of Ruby that currently comes with CentOS. Therefore you can install it using yum:\nyum install ruby ruby-devel ruby-irb ruby-rdoc ruby-ri Ruby 1.9.1\nDownload the package from ruby-lang.org:\nwget ftp://ftp.ruby-lang.org/pub/ruby/1.9/ruby-1.9.1-p0.tar.bz2 tar zxvf ruby-1.9.1-p0.tar.bz2 cd ruby-1.9.1-p0 The trick, here, is to give all 1.9.1 binaries a different name. Fortunately, configure offers an option for that:\n./configure --program-suffix=19 Build and install:\nmake \u0026amp;\u0026amp; make install Rubygems\nGet rubygems from Rubyforge:\nwget http://rubyforge.org/frs/download.php/60718/rubygems-1.3.5.tgz tar zxvf rubygems-1.3.5.tgz cd rubygems-1.3.5 Note that we are now using our brand new 1.9.1 binaries:\nruby19 setup.rb Now, make sure your gems are up to date:\ngem19 update Let\u0026rsquo;s see. We want to use two frameworks: Rails and Sinatra. Installing them could not be simpler:\ngem19 install rails gem19 install sinatra We will use thin to run our programs:\ngem19 install thin Let\u0026rsquo;s make sure that thin is run when the server boots up:\nthin install This will create /etc/init.d/thin which we can then link to the appropriate runlevels using chkconfig\nWe will, when creating Ruby applications, tell thin about the instances it needs to run. This will be done by adding yml files to /etc/thin/\nI am going, in this article, to create these applications in /home/yourdirectory/. Of course, use your own directory.\nRails\nLet\u0026rsquo;s create a Rails application:\nrails myrailsapp In the application\u0026rsquo;s config/ directory, let\u0026rsquo;s create our thin yml file ( thin_myrailsapp.yml )\nchdir:/home/yourdirectory/myrailsappaddress:127.0.0.1port:3000servers:4max_conns:1024timeout:30max_persistent_conns:512user:wwwgroup:wwwenvironment:developmentpid:tmp/pids/thin.pidlog:log/thin.logdaemonize:truechdir tells thin where our document root is located. Rails serves documents from document root/public/\naddress is localhost because that\u0026rsquo;s what will be used when proxying through Lighttpd\nservers is \u0026lsquo;4\u0026rsquo; which means that four servers will be instantiated, starting at , i.e. 3000, 3001, 3002, 3003\nUser and group : I am using the same user and group that Lighttpd runs as for simplicity sake.\nLet\u0026rsquo;s tell Lighttpd about this new application. Edit /etc/lighttpd/lighttpd.conf , or wherever your configuration file is:\n$HTTP[\u0026#34;host\u0026#34;] =~ \u0026#34;myrailsapp\\.yourdomain\\.com$\u0026#34; { $HTTP[\u0026#34;url\u0026#34;] =~ \u0026#34;^/((images|javascripts|stylesheets)/(.*)$)\u0026#34; { server.document-root = /home/yourdirectory/myrailsapp/public\u0026#34; } proxy.balance = \u0026#34;fair\u0026#34; proxy.server = (\u0026#34;\u0026#34; =\u0026gt; ( ( \u0026#34;host\u0026#34; =\u0026gt; \u0026#34;127.0.0.1\u0026#34;, \u0026#34;port\u0026#34; =\u0026gt; 3000 ) ) ) } I am using the \u0026ldquo;fair\u0026rdquo; load balancer because, as the default option, it tries to be\u0026hellip;fair, obviously, and isn\u0026rsquo;t too greedy: it does not compute a hash for each url.\nLet\u0026rsquo;s now tell thin about this application by simply creating a symbolic link in /etc/thin/ :\nln -s /home/yourdirectory/myrailsapp/config/thin_myrailsapp.yml /etc/thin/ Restart Lighttpd and start thin:\n/etc/init.d/lighttpd restart \u0026amp;\u0026amp; /etc/init.d/thin start I know\u0026hellip;supposedly I should be able to simply type \u0026lsquo;lighttpd reload\u0026rsquo; and it will reload its configuration files but that does not always seem to work.\nNow, the fun stuff:\nGo to http://myrailsapp.yourdomain.com:3000 and you should be greeted by Rail\u0026rsquo;s welcome page.\nNow, go to http://myrailsapp.yourdomain.com and you should see the same page, except this time it was proxyied by Lighttpd.\nSinatra\nCreate your application; e.g. the ubiquitous \u0026ldquo;hi\u0026rdquo; application. Again in /home/yourdirectory/mysinatraapp , create hi.rb :\nrequire \u0026#39;rubygems\u0026#39; require \u0026#39;sinatra\u0026#39; get \u0026#39;/\u0026#39; do \u0026#39;Hello world! I love kittens.\u0026#39; end Create a config/ subdirectory:\nmkdir config \u0026amp;\u0026amp; cd config In the config/ directory, let\u0026rsquo;s create our thin yml file ( thin_mysinatraapp.yml )\nrackup:/home/yourdirectory/mysinatraapp/config/mysinatraapp.ruchdir:/home/yourdirectory/mysinatraappaddress:127.0.0.1port:4567servers:4max_conns:1024timeout:30max_persistent_conns:512user:wwwgroup:wwwenvironment:developmentpid:/home/yourdirectory/mysinatraapp/thin.pidlog:/home/yourdirectory/mysinatraapp/thin.logdaemonize:trueStarting at port 4567 because, by convention, it\u0026rsquo;s Sinatra\u0026rsquo;s default port when started standalone.\nNotice the main difference? Sinatra will rely on rack for its setup, hence the ' rackup ' keyword.\nLet\u0026rsquo;s create that rack file ( mysinatraapp.ru )\nrequire \u0026#39;sinatra\u0026#39; Sinatra::Application.default_options.merge!( :run =\u0026gt; false, :env =\u0026gt; :development ) require \u0026#39;hi.rb\u0026#39; run Sinatra.application Do not forget Lighttpd:\n$HTTP[\u0026#34;host\u0026#34;] =~ \u0026#34;mysinatraapp\\.yourdomain\\.com$\u0026#34; { proxy.balance = \u0026#34;fair\u0026#34; proxy.server = (\u0026#34;\u0026#34; =\u0026gt; ( ( \u0026#34;host\u0026#34; =\u0026gt; \u0026#34;127.0.0.1\u0026#34;, \u0026#34;port\u0026#34; =\u0026gt; 4567 ) # room for more instances  ) ) } Of course, if you know that some directories will be dedicated to static content you can also check for these directory names and have Lighttpd serve them statically, as shown in myrailsapp\u0026rsquo;s example.\nRestart Lighttpd and thin:\n/etc/init.d/lighttpd restart \u0026amp;\u0026amp; killall -HUP thin Test it:\nGo to http://mysinatraapp.yourdomain.com:4567 and you should see the message returned by hi.rb.\nNow, go to http://mysinatraapp.yourdomain.com and you should see the same page, except, again. it was proxyied by Lighttpd.\nConclusion\nAs I wrote earlier, this is easy and actually fairly straightforward. It some of this is not working for you, it is likely because I glossed over something I really shoudln\u0026rsquo;t have. Post a comment and describe your issue and I will gladly help.\n","permalink":"http://zteo.com/posts/magic-ruby-185-191railssinatra-and-lighttpd/","tags":null,"title":"Magic: Ruby 1.8.5 + 1.9.1/Rails/Sinatra and Lighttpd"},{"categories":null,"contents":"[](http://www.flickr.com/photos/71813425@N00/2913018697/\u0026quot;Wordpress Schawg\u0026rdquo;)It seems that [tons of people](http://iphone.forums.wordpress.org/topic/xml-rpc-service-for-you-blog- cannot-be-found/) have the same complaint: the Wordpress application for iPhone does not discover their blog and, therefore, is of no use to them.\nThe same goes for many desktop-based applications.\nI, too, spent quite a lot of time trying to figure that one out but now that I have succeeded, here is how I would recommend working on this issue if your blog is affected:\n  Go to your blog home page and select \u0026ldquo;View source\u0026rdquo;\n  Look for \u0026lt; link ref=\u0026quot;EditURI\u0026rdquo;\u0026hellip; you will see that this line contains a URL ending with xmlrpc.php?rsd. Point your browser to that URL. A rather empty page should be displayed. Check its source; if it is XML, it\u0026rsquo;s all good.\n  If the previous step fails, go to the same URL but without ?rsd. If this fails too, you need to check that you have a file called xmlrpc.php and that: a. No rewrite rule messes up your URL; b. No plugin renders it invisible \u0026ndash; e.g. \u0026ldquo;private\u0026rdquo;\n  If both steps work well, it is VERY likely that the blog editor you are using \u0026ndash; or trying to use, more accurately \u0026ndash; is choking on malformed XHTML code. It is what seems to mystify most of us.\n  To convince your blog editor to \u0026ldquo;discover\u0026rdquo; your blog, we are going to give it a nicely formed XHTML page:\nFirst, make a copy of index.php: cp index.php index.o.php\nNow, create a new index.php page with this code:\nOf course, you need to replace all instances of nexus.zteo.com with your own blog\u0026rsquo;s information; for instance myblog.mydomain.com\nDiscover your blog using your favourite blog editor.\nRestore your index.php: cp index.o.php index.php\nDone!\n","permalink":"http://zteo.com/posts/help-blog-editors-reliably-discover-your-api/","tags":null,"title":"Help Blog Editors Reliably Discover Your API"},{"categories":null,"contents":"A quick note about Clic!Dev: it is now possible, in the admin control panel, to select Setup Hacks \u0026gt; enable 24 hour users to add an extra information dialog to the footer of your hosted board\u0026rsquo;s main page. This will end up looking like so (but obviously adapted to whatever skins you are using):\n","permalink":"http://zteo.com/posts/clicdev-display-last-24-hours-visitors/","tags":null,"title":"ClicDev: display last 24 hours visitors"},{"categories":null,"contents":"Here comes S2ajax v1.0!\nAnd it was long overdue. Six months already since I posted S2ajax says \u0026ldquo;hi()\u0026quot; I can hardly believe it.\nWhat I think of as v1.0\u0026rsquo;s main feature is that it is now possible to simply export classes in PHP and these classes can be instantiated in JavaScript. Whenever these instances are modified through asynchronous method calls, these modifications are transparently persisted server-side.\nThe concept Is it a PHP class? Is it a JavaScript class? Why, it\u0026rsquo;s both! The class is defined in PHP on the server. Instances of the class are created on demand using JavaScript on the client. Whatever modifications are made to an instance are serialized on the server.\nYou can create a complex application using as many classes and instances as you need.\nUnder the hood The PHP class is exported; the proxy JavaScript code is generated.\nWhenever the client needs to access one of the class\u0026rsquo; properties/methods, the proxy transparently talks to the class; the class lives server-side.\nThe Client\u0026rsquo;s point of view An arbitrary number of instances of the class can be created in JavaScript.\nThe only hint that you are using a client-server architecture is the fact that when invoking a method, its return value is obtained through a callback. This mechanism allows your client interface to remain responsive while the server is preparing a response.\nThe server\u0026rsquo;s point of view S2ajax automatically persists your instances\u0026rsquo; state and data between consecutive asynchronous calls. You still get the benefits of the \u0026ldquo;shared nothing\u0026rdquo; approach of PHP but complex objects can be manipulated through an unlimited number of clients requests.\nA code sample Server-side Let\u0026rsquo;s create a class that will increment an instance variable every time a method is invoked. Let\u0026rsquo;s keep it as simple as possible:\nclass CounterTester { private $counter; function __construct() { $this-\u0026gt;counter = 0; } public function increment_counter() { $this-\u0026gt;counter++; return $this-\u0026gt;counter; } } Clearly, every time increment_counter() is invoked, $counter will be incremented and its new value returned.\nClient-Side First, an instance of our class is created. Then, when a user click on the button labeled \u0026lsquo;Increment counter\u0026rsquo;, the instance\u0026rsquo;s increment_counter() method will be invoked and the new $counter value returned to our callback and displayed.\nIncrement counter\nNote that we could create as many instances of our class as we wish and provided we display the matching buttons, we could independently increment multiple counters.\nGet it now! Click our valiant friend \u0026ldquo;Octocat\u0026rdquo;, artistically represented below, to go to S2ajax\u0026rsquo;s Github page. If you just wish to use the library, look for the [Download] button:\n\nGit!\n","permalink":"http://zteo.com/posts/s2ajax-v10-connects-simply-php-and-javascript/","tags":null,"title":"S2ajax v1.0 connects simply PHP and JavaScript"},{"categories":null,"contents":"Last night I was trying to setup a @mail server but the installer kept choking when attempting to connect to my local database.\nI am posting here my quick workaround in case you too, dear reader, get a dreaded \u0026ldquo;PDO\u0026rdquo; error message complaining about your attempt to \u0026quot; connect to unix:// \u0026quot;\nHere is I how I solved the issue for @mail: I opened library/Zend/Db/Adapter/Pdo/Abstract.php , found the line that creates the PDO object (\u0026rdquo; new PDO(\u0026hellip; \u0026ldquo;) and, in this example, the first argument passed to the constructor was $dsn.\nThe problem is that PDO sees that this variables references \u0026quot; localhost \u0026quot; and decides that, since the database is local, it is going to use mysql.sock (hence the unix:// scheme)\nThis works as long as the file is found in its default location. If it is elsewhere, you are out of luck. This happens, for instance, if you use XAMPP.\nHere is my quick fix, inserted right before the creation of the PDO object:\n$dsn = str_replace(\u0026#39;host=localhost\u0026#39;, \u0026#39;unix_socket=/opt/lampp/var/mysql/mysql.sock\u0026#39;, $dsn); All done.\nNote: I have not investigated enough to know whether this is something missing in the Zend Framework or in @mail itself.\n","permalink":"http://zteo.com/posts/php-pdo-class-and-xamppexotic-mysql-configurations/","tags":null,"title":"PHP PDO class and XAMPP/\"exotic\" MySQL configurations"},{"categories":null,"contents":"[](http://www.flickr.com/photos/68502457@N00/2221300134/\u0026quot;Mozilla pins (wallpaper)\u0026quot;)\nBeta 4 is out and it is very sweet. It even offers Gmail integration like never before.\nWell, if you have a @gmail.com account, that is.\nBut don\u0026rsquo;t worry! If you have a Google App account, it can be made to work with little extra work. Here is how:\n1. You need a standard @gmail.com account. Create a bogus one if necessary.\n2. You will not want to do anything with this account. Not really. Thus, in Thunderbird, go offline: File \u0026gt; Offline \u0026gt; Work Offline.\n3. Select File \u0026gt; New \u0026gt; Mail Account\u0026hellip;\n4. Enter the information for your @gmail.com account. Thunderbird will recognize the address and automatically fill out the following box with the correct GMail information: imap.googlemail.com , etc. Green dots all around! Just click [Create Account]\n5. Now, in the left-hand tree, right-click on your account name and select ' Settings\u0026hellip; '\n6. Change your account name to something meaningful, then click [OK] -- If you do not do this and exit the dialog, the other screens will not be updated correctly.\n7. Re-open the dialog, select ' Server Settings ' and enter your Google App email account where your @gmail.com account is currently displayed.\n8. Select ' Outgoing Server (SMTP) \u0026lsquo;, then ' Google Mail - smtp.googlemail.com ' and click [Set Default]\n9. Click [OK] , leave offline mode, restart Thunderbird to be on the safe side.\n10. All set! Thunderbird will start synchronizing with your Google App account using these optimum settings.\n","permalink":"http://zteo.com/posts/add-your-google-app-account-to-thunderbird-3-beta-4/","tags":null,"title":"Add your Google App account to Thunderbird 3 beta 4"},{"categories":null,"contents":"If, like me, your company\u0026rsquo;s insistence on using Sharepoint as an Intranet tool contributes to rapid neurons death, there is as least a glimmer of hope: you can still use Firefox without being punished by having to type raw HTML code when editing a page (Sharepoint, unsurprisingly, only likes IE)\nSimple steps to use your own rich-text editor:\n  Install Xinha\n  Edit SharePoint page\n  Right-click, select \u0026ldquo;Open Xinha here!\u0026rdquo;\n  Edit! then click [OK]\n  Now, submit page with all its HTML code. Note: You can edit existing pages as well.\n  Done!\n","permalink":"http://zteo.com/posts/rich-text-editor-in-sharepoint-with-firefox/","tags":null,"title":"Rich-text editor in Sharepoint with Firefox"},{"categories":null,"contents":"This is a cross-posting with the nextBBS support board.\nSome of you already know about this but keep reading\u0026hellip;\nDevelopment of nextBBS v2 was steered in a new direction about two months ago and this is for the better.\n\u0026ldquo;n2\u0026rdquo; is the software\u0026rsquo;s new code name. And the change is more than skin-deep because it is actually the result of the merger of three different pieces of software:\n+ wtcBB\n+ nextBBS v2 \u0026ldquo;current\u0026rdquo;\n+ My own PHP framework called \u0026ldquo;Lenses\u0026rdquo;\nThe result is a very fast, very user and admin-friendly board with easy install and localization across the board.\nThis new direction is very exciting for at least two reasons:\n1. It allows me to work without being hindered by \u0026ldquo;youthful\u0026rdquo; mistakes I had made when developing nBBS v1 such as SEO being an afterthought and an Admin Control Panel that was too intimidating\n2. wtcBB and nextBBS share a common philosophy on many levels and integrating both programs allows me to pick the best implementation. A few examples are BBCode editor, sub-sub forums, micro-caching, high logging granularity, editing look and feel in the admin cp\u0026hellip;\nYou can follow progress through my submits and the issues tracker.\nGo to my original post to see a few screenshots. I should bring a demo online soon.\n","permalink":"http://zteo.com/posts/n2-message-board-software-update/","tags":null,"title":"\"n2\" Message Board Software: Update"},{"categories":null,"contents":"I have no idea why but sometimes a .dmg file will just-not-mount.\nFor instance I just downloaded the latest PostBox from http://postbox-inc.com/ and the silly little image will not cooperate.\nMy amazingly quick\u0026rsquo;nt dirty workaround? Convert it to another format file (using the command-line)!\nhdiutil convert postbox-1.0b12-mac.dmg -format UDTO -o postbox_iso ","permalink":"http://zteo.com/posts/mount-a-recalcitrant-dmg-file/","tags":null,"title":"Mount a recalcitrant .dmg file"},{"categories":null,"contents":"Close to two years ago, after quickly putting together my own FLV Player plugin for Wordpress (original post) I added it to Wordpress.org\u0026rsquo;s already impressive list of plugins. Who knows? Someone else might find it useful (it\u0026rsquo;s been downloaded more than 4,500 times since then so I guess that means someone did)\nYesterday a few people commented on that original post, thus reminding me of that plugin. It shamed me when I revisited its packaging to find out that it required from its users to download more pieces left and right. So, here it is , brand new v2.0 , with everything included, and this means brand new SWF wrapper and brand new Flash file. Hope you forgive the fact that it took me all this time to provide a real self-contained archive.\nGo to the Plugin Page\nOh, and there is something I would like to address about this plugin. It\u0026rsquo;s actually a reply to one of the comments I received recently:\n What do you mean by \u0026ldquo;a flash stream\u0026rdquo;? Does it stream an flv or use progressive download? To stream flash, you need a streaming media server. You should be clear and say what you mean - stop contributing to peoples\u0026rsquo; ignorance.\n Well, I hope it helps you feel a little less ignorant to know that the answer is \u0026ldquo;both.\u0026rdquo; This plugin can stream both types, depending on your use of a http- type or a rtmp-type URI. It can also play live streams. More information can be found here.\n","permalink":"http://zteo.com/posts/wordpress-flv-player-plugin-v20/","tags":null,"title":"Wordpress FLV Player Plugin v2.0"},{"categories":null,"contents":"Sunday Hacking is going to be this new and irregular feature, where I blather about how I made my week-end a bit geekier by doing such or such hardware hack. I do not guarantee originality, nor much software-related content. If you\u0026rsquo;re not into that kind of thing, I promise that it shouldn\u0026rsquo;t feel much worse than a flu shot.\nI like hacking on Sundays; that\u0026rsquo;s how I ended up with a stack of Wiimotes even though I did not own a Wii.\nAnyway, I was in the process of sorting my various cables when I found her. And by \u0026ldquo;her\u0026rdquo; I mean my USB Cue:Cat.\nThis gave me an idea: my friend Tom and I both swear by Delicious Library. Now, there are two things you really need to know about Tom:\n  He does not hesitate to spend money when he needs a good quality product\n  He is insanely competitive\n  Regarding #1: he bought a nice barcode reader because it works better than an iSight.\nRegarding #2: if I can come up with a cheaper barcode reader, it will totally feel like victory!\nSo, I googled \u0026ldquo;cuecat\u0026rdquo; and \u0026ldquo;delicious\u0026rdquo; and, of course, it\u0026rsquo;s easy to use the feline with Delicious Library.\nStep #1 : If you do not already have a Cue:Cat, you need to get one. It\u0026rsquo;s very easy: more than 2 million Raminagrobis were distributed before Digital Designs\u0026rsquo; predictable demise (it\u0026rsquo;s one of those times when it\u0026rsquo;s not just hindsight, that should have been 20/20) \u0026ndash; Make sure you get a USB model.\nStep #2 : Now, to \u0026ldquo;fix\u0026rdquo; it! By default, the device was dedicated to Digital Designs applications and this was achieved through the use of a very simple protocol (originally described by Steven Satchell)\n[Obviously, this is going to be confusing for programs that expect standard barcode information.\n[Hmmm\u0026hellip;bad kitty!\n[All you need if a wife who\u0026rsquo;s a med or a vet student and \u0026ndash; voila! \u0026ndash; you have a very convenient scalpel that you can use to remove pin #5 of the 8-bit chip labeled \u0026lsquo;HMS91C7316\u0026rsquo;\n[The circle shows where you need to remove pin #5. The arrow shows which way to go when counting pins (counter-clockwise)\nAnd that\u0026rsquo;s it! Your malkin will now deliver compatible messages:\n[Amusingly, it is seen by your Mac as some kind of keyboard (not doubt through USB-HID); therefore, each scan operation will be an opportunity for your computer to play the bongos.\nYou can check what\u0026rsquo;s happening by scanning a barcode while in TextEdit rather than Delicious Library.\n","permalink":"http://zteo.com/posts/sunday-hacking-cuecat-delicious-library/","tags":null,"title":"Sunday Hacking: Cue:Cat, Delicious Library"},{"categories":null,"contents":"[Well, this title says it all!\nFind the announcement here.\nAnd, of course, find the source code at GitHub: here.\n","permalink":"http://zteo.com/posts/twitterified-client-now-fully-open-source/","tags":null,"title":"Twitterified Client now fully Open-Source"},{"categories":null,"contents":"I was reading Paul Gregg\u0026rsquo;s very clear explanation of \u0026ldquo;classless\u0026rdquo; ranges comparison when I realized that his code was not as \u0026ldquo;bare metal\u0026rdquo; as could be.So, here is the code I\u0026rsquo;ve been using in nextBBS.It only accepts ranges in the form \u0026ldquo;x.x.x.x/b\u0026rdquo; but it\u0026rsquo;s short and all I needed, really.\nfunction isSubnet($subnet, $ip) { // Classless (in more than one way) comparison $cursubnet = explode(\u0026#39;/\u0026#39;, $subnet); $longsubnet = ip2long($cursubnet[0]); $longip = ip2long($ip); if(count($cursubnet){ // Compare IP itself return ($longip==$longsubnet); } // IPv4 only! $subnetmask = 0xffffffff \u0026lt;\u0026lt; (32-$cursubnet[1]); return (($longip \u0026amp; $subnetmask) == ($longsubnet \u0026amp; $subnetmask)); } ","permalink":"http://zteo.com/posts/determining-if-an-ip-is-within-a-specific-range-redux/","tags":null,"title":"Determining if an IP is within a specific range: redux"},{"categories":null,"contents":"bespin is really an intriguing project. Since I\u0026rsquo;ve grown frustrated with the inconsistencies between the various code editors that I have been using \u0026ndash; I work on Leopard at home and Ubuntu at work \u0026ndash; I thought that creating my own editor would be the answer to that. Nothing fancy, mind you. Just something consistent.\nMy first impulse was to use Flex. And it almost worked! Using mx:html I was able to wrap a nice web page in an otherwise very ActionScript-y application.\nAnd then, catastrophe! Flex Webkit\u0026rsquo;s canvas implementation is subpar and I could only get a very mamed version of bespin. Nothing usable, anyway.\nThus, I turned to Titanium.\nAfter some light trial and error, I got it to work!\nUnfortunately, the result is less than awesome: Titanium\u0026rsquo;s Webkit gets easily overwhelmed and, worse, crashes reliably ( :g: ) as soon as I ask it to do some medium lifting.\nThis video shows the original victory followed by the vexing defeat:\nNote that, to get it to work, I replaced embed.js with my own version that works around any dojo.request()/eval issue:\n(function() { // -- Load Script  var loadme = new Array(); var loadScript = function(src, onload) { var embedscript = document.createElement(\u0026#34;script\u0026#34;); embedscript.type = \u0026#34;text/javascript\u0026#34;; embedscript.src = src; embedscript.onload = onload; document.getElementsByTagName(\u0026#34;head\u0026#34;)[0].appendChild(embedscript); } var onScriptLoaded = function() { var src = loadme.shift(); if(src) loadScript(src, onScriptLoaded); } var componentRequires = function() { dojo.require(\u0026#34;bespin.bespin\u0026#34;); dojo.require(\u0026#34;bespin.util.canvas\u0026#34;); dojo.require(\u0026#34;bespin.util.keys\u0026#34;); dojo.require(\u0026#34;bespin.util.navigate\u0026#34;); dojo.require(\u0026#34;bespin.util.path\u0026#34;); dojo.require(\u0026#34;bespin.util.tokenobject\u0026#34;); dojo.require(\u0026#34;bespin.util.util\u0026#34;); dojo.require(\u0026#34;bespin.util.mousewheelevent\u0026#34;); dojo.require(\u0026#34;bespin.util.urlbar\u0026#34;); dojo.require(\u0026#34;bespin.client.filesystem\u0026#34;); dojo.require(\u0026#34;bespin.client.settings\u0026#34;); dojo.require(\u0026#34;bespin.client.status\u0026#34;); dojo.require(\u0026#34;bespin.client.server\u0026#34;); dojo.require(\u0026#34;bespin.client.session\u0026#34;); dojo.require(\u0026#34;bespin.editor.actions\u0026#34;); dojo.require(\u0026#34;bespin.editor.clipboard\u0026#34;); dojo.require(\u0026#34;bespin.editor.cursor\u0026#34;); dojo.require(\u0026#34;bespin.editor.editor\u0026#34;); dojo.require(\u0026#34;bespin.editor.events\u0026#34;); dojo.require(\u0026#34;bespin.editor.model\u0026#34;); dojo.require(\u0026#34;bespin.editor.toolbar\u0026#34;); dojo.require(\u0026#34;bespin.editor.themes\u0026#34;); dojo.require(\u0026#34;bespin.editor.undo\u0026#34;); dojo.require(\u0026#34;bespin.syntax.base\u0026#34;); dojo.require(\u0026#34;bespin.syntax.simple._base\u0026#34;); dojo.require(\u0026#34;bespin.cmd.commandline\u0026#34;); dojo.require(\u0026#34;bespin.cmd.commands\u0026#34;); dojo.require(\u0026#34;bespin.cmd.editorcommands\u0026#34;); dojo.require(\u0026#34;th.helpers\u0026#34;); // -- Thunderhead... hooooo  dojo.require(\u0026#34;th.css\u0026#34;); dojo.require(\u0026#34;th.th\u0026#34;); dojo.require(\u0026#34;th.models\u0026#34;); dojo.require(\u0026#34;th.borders\u0026#34;); dojo.require(\u0026#34;th.components\u0026#34;); } loadScript(\u0026#34;js/dojo/dojo.js.uncompressed.js\u0026#34;, function() { dojo.require = function(src) { loadme.push(\u0026#39;js/\u0026#39; + src.replace(/\\./g, \u0026#39;/\u0026#39;) + \u0026#39;.js\u0026#39;); } componentRequires(); dojo.require(\u0026#34;bespin.editor.component\u0026#34;); loadScript(loadme.shift(), onScriptLoaded); }); })(); As you can see, I override dojo.request() with my own, stack up all the component names, then load them one by one, waiting for each to be fully loaded before moving on.\n","permalink":"http://zteo.com/posts/bespin-in-titanium-from-the-jaws-of-victory/","tags":null,"title":"Bespin in Titanium: From The Jaws Of Victory..."},{"categories":null,"contents":"Well, the title pretty much says it all: v1.3 is out and it\u0026rsquo;s an evolutionary release.\n  Bug fixes - lots of \u0026lsquo;em\n  Usability improvements, such as text overflow indicator\n  Support for the awesome Present.ly Twitter-compatible protocol\n  Get it while it\u0026rsquo;s hot!\n(If you are confused as to where to get it, all you need is to go to http://twitterified.com, log in and follow this link)\n","permalink":"http://zteo.com/posts/twitterified-v13-is-out-bug-fixes-usability-improvements-presently-support/","tags":null,"title":"Twitterified v1.3 is out: bug fixes, usability improvements, Present.ly support"},{"categories":null,"contents":"Winners:\nribbit Innovative Technology\ntubemogul Video\nweardrobe Social Network\npopcuts Music\nHigh hopes:\nmoontoast Very nice concept for remote learning.\nzoomorama Very useful technology.\nklout Great concept but there are concerns over cost.\nNeutral:\nspawn labs\nechodio Impressive technology but confusion regarding their business model.\ngigotron Cool app but suffers competition from turn2live\nmugasha\nLukewarm:\notherinbox Another inbox? Why? Does it work with Microsoft products? Are they going to sell my data?\ncubeless What makes you different from all the other players in this market?\npiryx Apparently the founder was a bit too confrontational for the judges\u0026rsquo; taste.\nmotionnotes Both judges and audience were, it seems, wondering, what their differentiators are.\nhourville Successively compared to linkedin, craig\u0026rsquo;s list, guru.com\u0026hellip; Business model not clearly articulated. Obviously these short sessions (2mn + 10mn) are killers.\n","permalink":"http://zteo.com/posts/sxsw-09-microsoft-accelerator-tally/","tags":null,"title":"SXSW '09 Microsoft Accelerator Tally"},{"categories":null,"contents":"I should be able to release this new client tomorrow or day after tomorrow.\nI am currently battling a couple bugs with beta support for Present.ly:\n  Time zone discrepancy: all posts appear as seven hours behind\n  Avatars are too big!\n  ","permalink":"http://zteo.com/posts/twitterified-client-v13-almost-ready/","tags":null,"title":"Twitterified Client v1.3 Almost Ready"},{"categories":null,"contents":"Sajax is a ‘managed’ AJAX framework that was created by the fine folks at Modern Method a few years ago.\nWhat’s so great about it is the seamless communication between your back-end and the web page itself: you write your PHP code, tell Sajax which functions to export and they are now accessible from Javascript.\nFor instance \u0026ndash; from the ‘example_types.php’ file:\nfunction return_string() { return \u0026#34;Name: Tom / Age: 26\u0026#34;; } The corresponding Javascript call would be:\nReturn as string  OK so this is a pretty great package, no doubt.\nUnfortunately there are exactly three things that bother me here:\n  The choice to prefix all remote calls with ‘x_’ which feels less natural, even though it is a convenient way to avoid namespace collisions.\n  More importantly, Sajax does not support PHP classes and I am not comfortable working with strictly procedural code. After all, object-oriented PHP has been around for quite some time now.\n  Of course, it would seem that the last Sajax release happened sometime in 2006, which would explain #2\n  Thus, S2ajax was born.\nIf supports classes and methods, does not require prefixing and the export() calls are now more powerful.\nThe syntax is still very straightforward and relies on clean Javascript code.\nAnd the license, obviously, is still the very open BSD.\nAdditionally, this S2ajax can be easily integrated with PHP 5’s magic class and methods loading. For instance, it works with my own PHP framework.\nAs usual, all this goodness is available at github.com!\n","permalink":"http://zteo.com/posts/php-classes-and-javascript-s2ajax-says-hi/","tags":null,"title":"PHP classes and Javascript: S2ajax says \"hi()\""},{"categories":null,"contents":"First of all, that\u0026rsquo;s an awesome plugin that will allow your visitors to have a look at external links while retaining the ability to comment locally on your blog. Get it!\nUnfortunately, if you have modified your Wordpress database prefix, for instance because you are using Wordpress MU or the Virtual Module, the toolbar will fail to display.\nHere is my very modest fix that will make it work.\n1. Open wordpress-toolbar/toolbar.php\n2. Find, near the top of the file:\n$resultset = $wpdb-\u0026gt;get_results(\u0026#34;SELECT * FROM wp_options where option_name in (\u0026#39;wordpress_toolbar_social\u0026#39;,\u0026#39;wordpress_toolbar_excludedomains\u0026#39;,\u0026#39;wordpress_toolbar_skin\u0026#39;,\u0026#39;wordpress_toolbar_custom\u0026#39;)\u0026#34;); Replace with:\n$resultset = $wpdb-\u0026gt;get_results(\u0026#34;SELECT * FROM {$wpdb-\u0026gt;options} where option_name in (\u0026#39;wordpress_toolbar_social\u0026#39;,\u0026#39;wordpress_toolbar_excludedomains\u0026#39;,\u0026#39;wordpress_toolbar_skin\u0026#39;,\u0026#39;wordpress_toolbar_custom\u0026#39;)\u0026#34;); 3. That\u0026rsquo;s it!\n","permalink":"http://zteo.com/posts/wordpress-toolbar-plugin-and-wordpress-prefixes-a-fix/","tags":null,"title":"Wordpress Toolbar Plugin and Wordpress Prefixes: A Fix"},{"categories":null,"contents":"Let\u0026rsquo;s say that you renamed your Wordpress tables.\nThere may be several reasons for this. For instance, you installed [Virtual Multiblog](http://striderweb.com/nerdaphernalia/features/virtual- multiblog/?cp=21#comments) to support more than one blog with the same setup.\nAnd now, you are facing the dreaded \u0026ldquo;You do not have sufficient permissions to access this page\u0026rdquo;\nWhat to do, what to do?\nTurns out, after some research, I found out that there is a proper procedure for us lazy webmasters:\n1. Download the [force- upgrade](http://markjaquith.wordpress.com/2006/03/28/wordpress-error-you-do- not-have-sufficient-permissions-to-access-this-page/#comment-89003) script and run it. It\u0026rsquo;s a fairly old script but since it all it does is invoke Wordpress\u0026rsquo; upgrade mechanism, it still works very well with 2.7. I know, it\u0026rsquo;s not an upgrade! But you can also run the script to right some wrongs\u0026hellip;\n2. Using your favourite SQL editor, edit the \u0026ldquo;usermedata\u0026rdquo; table. Let\u0026rsquo;s say that your old table prefix was \u0026lsquo;wp_\u0026rsquo; and your new prefix is \u0026lsquo;wp_new_\u0026rsquo; you would type this simple SQL command to make sure that your first user is still admin:\nupdate wp_new_usermeta set meta_value=\u0026#39;a:1:{s:13:\u0026#34;administrator\u0026#34;;b:1;}\u0026#39; where meta_key=\u0026#39;wp_new_capabilities\u0026#39; and user_id=1; You\u0026rsquo;re all set.\n","permalink":"http://zteo.com/posts/fixing-permissions-after-a-wordpress-prefix-change/","tags":null,"title":"Fixing permissions after a Wordpress prefix change"},{"categories":null,"contents":"I do not get it. I am a big fan of Smashing Magazine and I think that it was very nice of @jdevalk to write a plug-in that gives us full control over \u0026ldquo;Tweetbacks\u0026rdquo;. See this [blog entry](http://yoast.com/tweetbacks- wordpress/).\nWhere Smashing Magazine and the author lose me, though, is that I have not seen any reaction, either on the magazine\u0026rsquo;s web site, or the author\u0026rsquo;s blog, regarding the issue that many blogs who installed the plug-in seem to now be suffering: they are being inundated with thousands of spammy Tweetbacks, most of them containing text like \u0026ldquo;This is a test\u0026rdquo;, presaging a potentially much more virulent attack when the spammers get their tool working.\nIn fact, it may not be spam, but simply some tests gone wrong, but whatever the reason it caused grief to many blog owners \u0026ndash; including me.\nAfter de-activating the plug-in, here is the SQL command you can use to get rid of these Tweetbacks:\ndelete from wp_comments where comment_author_url like \u0026#39;http://twitter.com/%/statuses/%\u0026#39;; If you do not have access to your database, contact me, I may end up writing a short plug-in that will wrap this query.\nAgain, I really like Smashing Magazine and that is why I am very surprised by their silence on this issue.\n","permalink":"http://zteo.com/posts/a-quick-fix-for-the-tweetback-spam-issue/","tags":null,"title":"A quick-fix for the Tweetback spam issue"},{"categories":null,"contents":"About 10 months ago, I released this tool, allowing developers to handle ExtJS like \u0026ldquo;managed\u0026rdquo; code in PHP: [ExtPHP](http://nexus.zteo.com/2008/03/04/extphp-an-extjs-converterwrapper- for-php-developers/).\nShortly thereafter, Jack Slocum changed ExtJS\u0026rsquo; licensing model and it all became very muddy but my main question was: \u0026ldquo;As a commercial user, what would the status of the extensions be?\u0026rdquo;\nIt seems that it\u0026rsquo;s OK to create an extension and not GPL it as long as it doesn\u0026rsquo;t contain any ExtJS original code. The claim is that most extensions now fall under that category. Of course, there is still the risk of an extension still containing ExtJS code \u0026ndash; hint: that\u0026rsquo;s very likely \u0026ndash; and the company who paid for ExtJS commercial licensing is now burdened with\u0026hellip;what? De-facto GPL code? Or does the code that was reused considered \u0026ldquo;commercially licensed\u0026rdquo; as well? Even though it is part of an open-source extension?\nTen months later, I am not getting a sense that things were clarified well enough. Look at this topic on ExtJS\u0026rsquo; forums. It looks like, after September, everybody gave up.\nSo, what now?\nWell, if anyone could point me to a comprehensive answer regarding this issue, that will sure help me decide whether to revisit my decision to give up on ExtJS from a commercial standpoint.\nIn the meantime, ExtPHP is nowavailable at Github.\n","permalink":"http://zteo.com/posts/extphp-now-on-github/","tags":null,"title":"ExtPHP now on Github"},{"categories":null,"contents":"[It\u0026rsquo;s no secret that Git , as a source code control tool, has become quite popular in 2008, in part boosted by the success of the socially oriented github.com Here is a list of six resources that will help you get more comfy with Git, whatever your current knowledge of the tool. Let me know if you think that, after reading these six documents, you can still point to a few stones left unturned.\n[3 Reasons To Switch To Git From Subversion ](http://markmcb.com/2008/10/18/3-reasons-to-switch-to-git-from-subversion/)\nA to-the-point document, created by Mark McBride, that covers several scenarios and for each scenario, shows how Git could make your life easier if you are not using it yet.\n[My Git Cheatsheet A concise guide for the absolute beginner who wants to hit the ground running. Go through the exercises and you will end up with a pretty good picture of what Git can do.\n[Everyday GIT With 20 Commands Or So A quick cheat sheet: start with the section corresponding to your role (individual developer, contributor, integrator\u0026hellip;) You will not learn a lot about Git\u0026rsquo;s philosophy, but you will certainly get the job done.\n[Git Magic Ben Lynn wrote a whole book covering not just cloning and branching but also some precious recipes: What to do when something goes wrong? What if my commit is too big? Remote access magic, history digging\u0026hellip;Even Git\u0026rsquo;s shortcomings and their workarounds are covered.\n[Git from the bottom up John Wiegley makes a convincing case that approaching Git from a 10,000 ft level is not the best way to understand the tool\u0026rsquo;s philosophy. Rather, building your knowledge of the tool based precisely on the very concepts that it uses make it much easier to get an overall grasp of Git\u0026rsquo;s world.\n[Using Git to Maintain Your Website Using source code control has always been an effective tool to maintain a web site, especially avoiding these \u0026ldquo;Uh-oh I clobbered something I shouldn\u0026rsquo;t have\u0026rdquo; moments. But Git is particularly well suited to this task, due to its self- sufficient nature. Daniel Miessler shows us how to do just that using Git hooks.\n[","permalink":"http://zteo.com/posts/six-resources-to-study-and-master-git-source-control/","tags":null,"title":"Six Resources To Study And Master Git Source Control"},{"categories":null,"contents":"A couple years ago, some lad going by the pseudonym of @binderskagnaes, at DeviantArt, released a set of icons on a dark background lovingly named \u0026ldquo;Blaqua.\u0026rdquo;\nThen, he ventured to a great forest and got devoured. Or something.\nWhatever the reason, he never created more icons, which frankly is a pity.\nI am still using his icon set in my Dock, unfortunately the set was created before Twitter got popular, uTorrent or Evernote were released on OS X, etc.\nSo, I took a few hours to re-create an original dark PSD and put together a pack of 24 new icons.\nI will create more packs if my beloved readers suggest more applications.\nIn the meantime, go get it!\n","permalink":"http://zteo.com/posts/more-blaqua/","tags":null,"title":"More Blaqua"},{"categories":null,"contents":"I know, it\u0026rsquo;s a bold assertion. But, please, bear with me: as a longtime Unix- head, I need a tool that allows me to zoom through my emails rather than click-glance-click-glance-click-yawn-right-click-delete, etc.\nFor years I\u0026rsquo;ve been happy with Mutt because nothing compares with using the arrow keys to navigate through my emails, ALT-O to open a folder, SHIFT- O-R to do a reverse-sort, M for a new message, etc.\nThat, and using Visor, give me the comfort of a HUD-based email management tool whose speed is quite unbeatable.\nUnfortunately, with today\u0026rsquo;s evolution of mail, everything is more or less HTML-based, which really doesn\u0026rsquo;t work well with Mutt \u0026ndash; even using V to open in a text-based browser isn\u0026rsquo;t that good. If I ask Mutt to open a full-fledged browser instead, there goes the speed advantage\u0026hellip;\nSo, I have reluctantly moved to a pure Google Mail solution and my experience has been positive so far: I run GMail as a standalone program using Fluid -- on another platform I would use Prism -- and I can keep using keyboard shortcuts for all my tasks!\nIf you wish to give it a try, start with only this subset of GMail\u0026rsquo;s keyboard shortcuts: JKEX#[ENTER]U are all you need to replicate 99% of your Mutt experience\u0026hellip;\nK / J : cursor up/down\nX : select message\nE : archive messages\n# : delete messages\nENTER : read message\nU : back to messages list\n","permalink":"http://zteo.com/posts/gmail-is-the-new-mutt-shortcuts-galore/","tags":null,"title":"GMail is the new Mutt! Shortcuts galore."},{"categories":null,"contents":"I built this driver in 2007, to support Leopard Darwin on my wife\u0026rsquo;s laptop (hmmm where\u0026rsquo;s the \u0026ldquo;wink wink nudge nudge\u0026rdquo; smiley when you need it?)\nI am offering a full driver for download, but it\u0026rsquo;s only so that you could use my keyboard fix if you do not currently have an ApplePS2Controller.kext that support plug-ins.\nThe point of this driver really is to provide keyboard support for laptops that see their built-in keyboard as PS2 -- ie the vast majority. Therefore the piece that is really interesting to you is ApplePS2Keyboard.kext (in ApplePS2Controller.kext/Contents/PlugIns/)\nThere are other drivers that do just that, out there, but unfortunately many of them fail to properly detect the keyboard.\nSo, here goes. If you have a laptop running Leopard Darwin but your built- in keyboard is not working, give this driver a try.\n[download#1#image]\nps: Come to think of it, you may find this kext useful if you are using a desktop with a recalcitrant PS2 keyboard as well.\npps: Miracle! After a year of having misplaced the source code, I found it on a USB stick. It\u0026rsquo;s now available at Github.\n","permalink":"http://zteo.com/posts/a-driver-for-your-darwin-based-keyboard-woes/","tags":null,"title":"A driver for your Darwin-based keyboard woes"},{"categories":null,"contents":"Based on the very helpful feedback I received from the Twitterified client users, here is version 1.2\u0026rsquo;s log:\n- Multiple accounts support:\n-- Multiple accounts using the same server\n-- Accounts using multiple servers (Twitter, Identi.ca\u0026hellip;)\n-- Underlying architecture to eventually support any third-party server as long as they are compatible\n- Better error reporting\n- Better error recovery\n- Mouse Gestures support\n- Tweets can now be marked \u0026quot; read \u0026quot;\n- Obviously new tweets are now easily identifiable\n- The application window height is now a setting\n- It is now possible to \u0026quot; ignore \u0026quot; someone using the collapsable boxes\nDue to the client\u0026rsquo;s support for multiple accounts, if you are upgrading, you will have to re-enter your credentials. It\u0026rsquo;s a one-time thing.\nNote, too, that starting with v1.1, the client offers to update automatically when a new version is out.\n[Showing two accounts\u0026hellip; [Sorry, Jeremiah, ignoring you for the purpose of this demo\u0026hellip;\n-\n[Use Mouse Gesture to mark all Tweets \u0026ldquo;read\u0026rdquo;\nIf you are not using Twitterified yet, go get it!\n","permalink":"http://zteo.com/posts/twitterified-12-is-out-multi-accounts-mouse-gestures-visual-ignore/","tags":null,"title":"Twitterified 1.2 is out: multi-accounts, mouse gestures, visual ignore..."},{"categories":null,"contents":"Somehow, seemingly out of nowhere, Twitterers have started to notice Twitterified. I guess a few positive reviews help.\nBut would Twitterified have received these positive reviews, had it not moved to open beta? I think not. The service was in closed beta for a couple months, which allowed me to kill a few gremlins I found in the system, but even so it did not attract enough adventurous users for its own good. So, I followed the \u0026ldquo;old\u0026rdquo; web 2.0 advice: release the product ( early ), even if you feel that it is not ready. Of course, I need to keep an eye on all feedback and fix problem s as soon as they are reported. I do not think that an open beta can work any other way. Fortunately, due to the tool\u0026rsquo;s nature, feedback can be found in a very obvious place :)\nI consider myself lucky because I already have some experience with scaling applications \u0026ndash; thanks to clicdev.com and past experience as a web host \u0026ndash; and as a very clueless user interface \u0026ldquo;victim\u0026rdquo; I do spend a lot of time thinking about all the ways that an application could confuse me. But even so, that\u0026rsquo;s no reason to dwell in closed beta country. When I look around, it seems that no matter how talented and how successful web entrepreneurs have been, products launched as closed beta have always had a hard time making it as a mainstream product.\nNot that I am thinking of Twitterified\u0026rsquo;s minuscule critical success as anything mainstream, or that I would dare compare its audience to Pownce! But, interestingly, when I look at Pownce and who its backers are, it doesn\u0026rsquo;t seem to have achieved the success it seemed poised to. Of course, I am not singling out Pownce. It just happens to be one of the projects I found really interesting.\nIn conclusion, I do not think that I will every launch anything in closed beta again. It\u0026rsquo;s just not worth it!\n","permalink":"http://zteo.com/posts/twitterified-taking-off-is-private-beta-a-mistake/","tags":null,"title":"Twitterified taking off: is private beta a mistake?"},{"categories":null,"contents":"Just a quick note: I use VirtualBox daily at work. It provides excellent emulation for my original XP install (the one that came pre-installed on my Dell box!) while my main OS is Ubuntu. Setting up networking is not as straightforward as with VMWare, so here is what I had to do:\nFirst, edit /etc/udev/rules.d/20-names.rules and make sure this line exists:\nKERNEL=\u0026#34;tun\u0026#34;, NAME=\u0026#34;net/%k\u0026#34; Then create this script - you will run it whenever you wish to reconfigure your network:\n#!/bin/bash echo \u0026#34;Erasing old configuration\u0026#34; sudo route del default sudo ifconfig tap0 down sudo ifconfig eth0 down sudo ifconfig br0 down sudo brctl delbr br0 sleep 1 echo \u0026#34;Creating virtual interface\u0026#34; sudo chown chris /dev/sdc1 sudo tunctl -t tap0 -u chris sleep 1 echo \u0026#34;Creating bridge interface\u0026#34; sudo brctl addbr br0 sleep 1 echo \u0026#34;Making physical interface promiscuous\u0026#34; sudo ifconfig eth0 0.0.0.0 promisc sleep 1 echo \u0026#34;Binding bridge to physical interface\u0026#34; sudo brctl addif br0 eth0 sleep 1 #sudo ifconfig br0 10.255.203.34 netmask 255.255.255.0 echo \u0026#34;Configuring IP address\u0026#34; sudo ifconfig br0 198.206.186.210 netmask 255.255.255.0 # sudo dhclient br0 # The new way! sleep 1 echo \u0026#34;Binding bridge to virtual interface\u0026#34; sudo brctl addif br0 tap0 sleep 1 echo \u0026#34;Enabling virtual interface\u0026#34; sudo ifconfig tap0 up sleep 1 #sudo route add default gw 10.255.203.254 echo \u0026#34;Adding default route\u0026#34; sudo route add default gw 198.206.186.254 echo \u0026#34;All done!\u0026#34; What\u0026rsquo;s that, then?\nWe start by getting rid of any existing configuration; then I change my virtual interface device\u0026rsquo;s owner to my own user, since I am logged in as a non-root user. Obviously you need to replace \u0026lsquo;chris\u0026rsquo; with your own user name. From now on, tap0 will be the virtual interface seen by VirtualBox.\nI make sure that my real interface is in promiscuous mode, which then allows me to bind it with a bridge interface.\nAll that is left to do it configure my bridge interface so that it can take over communicating with the rest of the world!\n","permalink":"http://zteo.com/posts/how-i-setup-networking-for-virtualbox-on-ubuntu/","tags":null,"title":"How I setup networking for VirtualBox on Ubuntu"},{"categories":null,"contents":"I love the idea of Switzerland, the new EFF tool for checking ISP throttling ; unfortunately as of release Zero.0.5, Leopard seems to still be a mere afterthought. Here is how I worked around the few things that were not working out of the box.\nFirst, Switzerland is written in Python and will require Psyco. It\u0026rsquo;s a good thing since Psyco is all about performance. If you do not have it already installed:\nsvn co http://codespeak.net/svn/psyco/dist/ psyco-dist cd psyco-dist/ sudo python setup.py install cd .. Download Switzerland from https://sourceforge.net/project/showfiles.php?group_id=233013\nExtract it and change to its directory; eg\ntar zxvf switzerland-0.0.5.tgz cd switzerland-0.0.5 The FastCollector provided doesn\u0026rsquo;t work. So\u0026hellip;\nrm bin/FastCollector.darwin Now when we build FastCollector, it will be available in /usr/local/bin/FastCollector\nHere comes the only moderately scary thing for non-developers. Use the patch command to modify switzerland/client/PacketListener.py. This is the input for patch:\ndiff --git a/switzerland/client/PacketListener.py b/switzerland/client/PacketListener.py index 211b68f..dc0bbcc 100755 --- a/switzerland/client/PacketListener.py +++ b/switzerland/client/PacketListener.py @@ -93,8 +93,7 @@ class PacketListener(threading.Thread): p = platform.system() # Implementing the recommendations from # http://www.net.t-labs.tu-berlin.de/research/hppc/ - if p[-3:] == \u0026#34;BSD\u0026#34; or p == \u0026#34;Darwin\u0026#34;: - print p + if p[-3:] == \u0026#34;BSD\u0026#34;: cmd = [\u0026#34;sysctl\u0026#34;,\u0026#34;-w\u0026#34;,\u0026#34;net.bpf.bufsize=10485760\u0026#34;] try: # Recent FreeBSDs proc = Popen(cmd, stdin=PIPE, stdout=PIPE) @@ -110,6 +109,14 @@ class PacketListener(threading.Thread): proc = Popen(cmd, stdin=PIPE, stdout=PIPE) assert proc.wait() == 0 + elif p == \u0026#34;Darwin\u0026#34;: + cmd = [\u0026#34;sysctl\u0026#34;,\u0026#34;-w\u0026#34;,\u0026#34;debug.bpf_bufsize=10485760\u0026#34;] + proc = Popen(cmd, stdin=PIPE, stdout=PIPE) + assert proc.wait() == 0 + cmd[2] = \u0026#34;debug.bpf_maxbufsize=10485760\u0026#34; + proc = Popen(cmd, stdin=PIPE, stdout=PIPE) + assert proc.wait() == 0 + elif p == \u0026#34;Linux\u0026#34;: vars = [(\u0026#34;/proc/sys/net/core/rmem_default\u0026#34;, \u0026#34;33554432\u0026#34;), (\u0026#34;/proc/sys/net/core/rmem_max\u0026#34;, \u0026#34;33554432\u0026#34;), Let\u0026rsquo;s build and install everything:\nsudo python setup.py install Well, it was easy (if it worked!)\nLet\u0026rsquo;s create a log directory for Switzerland:\nsudo mkdir /var/log/switzerland-pcaps sudo chmod a+wx /var/log/switzerland-pcaps And finally let\u0026rsquo;s run it:\nsudo switzerland-client or if you wish to run your own server (you need to advertise it too!)\nsudo switzerland-client --server yourserveraddress Questions?\n","permalink":"http://zteo.com/posts/how-to-make-the-eff-isp-throttling-tool-work-on-leopard/","tags":null,"title":"How To Make The EFF ISP Throttling Tool Work On Leopard"},{"categories":null,"contents":"I cannot believe that it took me so long to get my ducks in a row.\nFirst, Twitterified was entirely written in Javascript, like most AIR clients. But some testing showed that rewriting in AS3 would dramatically increase responsiveness.\nThen, I had to work on my web framework while creating twitterified.com. And finally I was only able to offer a decent video thanks to the overall godness offered by Vimeo.\nBut hey, here it is! For a limited period of time, if you go to the invite page and enter the code \u0026ldquo;nexus\u0026rdquo;, you will be automatically added to the private beta program.\nTwitterified powers up your Twitter experience, allowing it to compete with the \u0026ldquo;new kids\u0026rdquo;: Pownce, Friendfeed, etc.\n","permalink":"http://zteo.com/posts/twitterifiedat-last/","tags":null,"title":"Twitterified…at last!"},{"categories":null,"contents":"For my new projects, I have decided to use PHP5 , mostly because at least a couple projects will be worked on by a team and the learning curve is fairly forgiving.\nI decided, however, to follow the model offered by Rails. I looked into a few PHP frameworks, such as Akelos, but realized that they were too constraining for our purpose. That\u0026rsquo;s when I decided to develop my own thin layer framework.\nAn excellent productivity tool is the ActiveRecord pattern. After all, it doesn\u0026rsquo;t matter what it is, that\u0026rsquo;s being mapped; whether it\u0026rsquo;s database tables or web services should not be relevant to the controller.\nI have, in the past, used adodb successfully and I was happy when I realized that it comes with a ADOdb_Active_Record class.\nUnfortunately, that class does a very basic job of mapping one class to a database table and that\u0026rsquo;s it. Therefore, support for has_many or belongs_to clauses.\nI know that AR offers more features that those but I thought that these fit the very minimum requirement for them to be useful.\nAnd that\u0026rsquo;s how I ended up modifying ADOdb_Active_Record to support these.\nThis article is mostly a series of listings that show the modifications-a bit- and how to use them-a bit more. First, here is how I am using them in my framework:\nLet\u0026rsquo;s imagine a database that contains songs, artists and genres. Let\u0026rsquo;s look at the definition of a Song object:\nbelongsTo(\u0026#39;artist\u0026#39;); $this-\u0026gt;belongsTo(\u0026#39;genre\u0026#39;); } } ?\u0026gt; and an Artist object:\nhasMany(\u0026#39;songs\u0026#39;); } } ?\u0026gt; let\u0026rsquo;s have a look at a very basic controller that will allow us to retrieve our artists. Their songs will also be retrieved, since artists are defined as having many songs:\nartists = \u0026amp;$artist-\u0026gt;find(ALL, \u0026#34;artists.id=1\u0026#34;, array(\u0026#39;loading\u0026#39;=\u0026gt;ADODB_LAZY_AR)); } } ?\u0026gt; Through the magic of my framework, which is outside the scope of this post, we will then be able to display our artists with their respective songs like so:\n{$artist-\u0026gt;name} \u0026#34;; foreach($artist-\u0026gt;songs as $song) { print \u0026#34; TITLE:{$song-\u0026gt;title} \u0026#34;; } } ?\u0026gt; Note that, for this example, I removed as many irrelevant pieces of code as possible. For instance, we are always retrieving artist #1. The array that we are passing to the find() statement allows us to configure some of AR\u0026rsquo;s behaviours. In this example, we are passing ADODB_LAZY_AR, which is a hint that we do not wish to perform massive joins, but retrieve related objects on demand. If we wished to retrieve everything upfront, we could have used ADODB_JOIN_AR instead.\nNow, our model classes are subclasses of ActiveRecord, which is another one of my framework classes, which provides a light abstraction on top of ADOdb_Active_Record. The relevant piece, for you, would be this one since we invoke it:\nfunction find($mode, $condition=null, $extra=array(), $bindArr=false, $pKeyArr=false) { // id? if(ctype_digit($mode)) return $this-\u0026gt;load($mode); // return one row if(FIRST == $mode) return parent::load($condition); // Assumption: ALL == $mode - return multiple rows return parent::find($condition, $bindArr, $pKeyArr, $extra); } It is interesting because the last line contains the actual call to ADOdb_Active_Record\u0026rsquo;s find() method.\nIn adodb itself, two files were modified: adodb-active-record.php and adodb.inc.php.\nThe former now contains two new structures: _hasMany and _belongsTo. ARs are now aware of the concept of foreign name, which is the name by which this object will be known to another object if a relationship is defined. This allows us, among other things, to naturally inflect tables names.\nThe latter was modified so that it accepts extra parameters, for instance in GetActiveRecordsClass(), and handle massive joins. Note that joins can be deferred through the use of ADODB_LAZY_AR. In which case I will use the model objects\u0026rsquo; __get() method to load missing properties on-demand.\n\u0026ldquo;Buyer Beware\u0026rdquo;\nI hope to publish my full PHP framework in the near future; in the meantime, this hacked version of adodb has been very helpful in my work. I hope you too find it helpful. Beware, though: this is an early work and I would rather offer it to John Lim and let him integrate it in adodb-or can it if he\u0026rsquo;s too horrified!\nI am aware of at least one bug, which may happen when using the join method on belongs_to objects. It could also do more things for you. Definitely not the cat\u0026rsquo;s meow.\nBut if you like it and need help, drop me a line.\n[](http://twitterified.com/file/get/adodb- ext-ar.zip \u0026ldquo;Download patched adodb files\u0026rdquo;)\n","permalink":"http://zteo.com/posts/how-i-added-real-activerecord-support-to-adodb/","tags":null,"title":"How I added real ActiveRecord support to adodb"},{"categories":null,"contents":"It\u0026rsquo;s a new feature! I spend way too much time reading interesting papers\u0026hellip; I should not be so selfish as to not share them.\n[Steve Yegge\u0026rsquo;s ramblings](http://steve-yegge.blogspot.com/2008/03/get-that- job-at-google.html) will enlighten you or depress you, but at least they are enjoyable. There, on my list, right under Joel Spolsky (all-time Nerd Superstar).\nClustering and Cloud Computing\nThe Helmer Cluster, but only because I can also be a hardware nerd.\nDr Queue, not the only one, but a queue manager that proved its worth.\nTerracotta because I have a big Java project that needs scaling and I believe that scaling out is a more\u0026hellip;er\u0026hellip;scalable approach.\nPerformance\nI mean raw performance;Ã‚Â as in scaling up, this time.\nTokyo Cabinet seems to be the best tree-based database available these days. Takes me back to when I was using C-ISAM from Informix. NO, not all problems need a big OORDB thrown at them. In fact, transitioning some of your data to Tokyo Cabinet seems like a good application of \u0026ldquo;write first, optimize later.\u0026rdquo;\n\u0026ldquo;How do they do it?\u0026rdquo; LinkedIn are kind enough to [expose their architecture](http://cookiesareforclosers.com/blog/2008/06/linkedin- architecture).\nTwitter! Sorry, no link. Oh, well, maybe one. Oh, no, wait it\u0026rsquo;s down. No it\u0026rsquo;s back up! Wow, the Twitter API is currently capped to 10 requests per hour. Application developers: keep your calls to no more than one every 6 minutes\u0026hellip;except for the public timeline, unless they decide to restrict its usage as well.\nWireframing, Blueprinting and A/B Testing\nI need to post links here. Keep an eye on this blog entry.\nAnyway, Yahoo now conveniently provides stencils for web mockups.\nErlang\nIt\u0026rsquo;s beautiful. I\u0026rsquo;m just getting started, though.\nGit\nFor so-called \u0026ldquo;virtual companies\u0026rdquo; this would be the ultimate in source code management. Even if you\u0026rsquo;re not \u0026ldquo;virtual\u0026rdquo;, you may want to give it a try. I absolutely love how it allows me to try the craziest framework modifications without having to suffer any consequence.\nEasy Git -- \u0026ldquo;git for mere mortals\u0026rdquo;\nInteract with your Subversion code base - man, I want the same thing for Perforce!\nEducate yourself. Well, seems to work for me\u0026hellip;\nThe \u0026ldquo;If I had more time\u0026hellip;\u0026rdquo; section\nNestedVM:Ã‚Â whatever your source language, cross-compile to MIPS .o files, then convert to pure Java.\nReally optimized image colorization.\n","permalink":"http://zteo.com/posts/current-obsessions-june-08/","tags":null,"title":"Current Obsessions, June ‘08"},{"categories":null,"contents":"I received this email today:\n Your AdWords Google Account is stoped.\nDear Google AdWords Customer,\n    We were unable to process your payment.\nYour ads will be suspended soon unless we can process your payment.\nTo prevent your ads from being suspended, please update your payment information.\n    Please sign in\nto your account at http://adwords.google.com/select/login,\nand update your payment information.\n Of course I got suspicious right away, when I noticed the spelling of \u0026lsquo;stopped\u0026rsquo;. But, hey, consider yourselves warned.\n","permalink":"http://zteo.com/posts/beware-google-adwords-phishing/","tags":null,"title":"Beware: Google Adwords Phishing"},{"categories":null,"contents":"When things start smelling \u0026ldquo;funny\u0026rdquo; in the open-source community, they tend to go to the dogs with the haste of a drunk marching band.\nToday\u0026rsquo;s drama is brought to you by your friendly ExtJS community. For those of you not familiar with ExtJS, it is a professionally made Javascript library that allows web application developers to create very elaborate desktop-like applications. Jack Slocum originally started this project as a YUI extension. That extension being open-source. He\u0026rsquo;s then regularly improved it by adding support for different building stones such as JQuery and finally a full-ExtJS solution, reaching ExtJS 2.0. For those of you who have managed not to fall asleep while reading my ramblings, you already know that I\u0026rsquo;ve used ExtJS myself, for instance when I created the ExtPHP wrapper.\nWhere this gets complicated is that Jack decided to license the assets under a different license, allowing him to retain all rights. I would like to make very clear that it\u0026rsquo;s his work and he can do whatever he wants with it. I am just narrating, here. He also added a clause that supposedly completely voids the LGPL license if someone attempted to use his work to create a derivative framework.\nAfter a lot of moaning in the community - to the drum of \u0026ldquo;that\u0026rsquo;s a GNU license, man, the whole idea is that you cannot add restrictions!\u0026quot;, he decided to change the LGPL license to a pure GPL one, while retaining a pure commercial license on the side. I\u0026rsquo;ll bet he thought, at that point, \u0026ldquo;At least now things are clear.\u0026rdquo;\nWell, that was only the beginning of a real sh*tstorm that threatens to cause a lot of damage to everyone involved, culminating -fleetingly, to be sure- with Sanjiv Jivan\u0026rsquo;s scathing blog post. Sanjiv, if I am correct, wrote a Ext \u0026ldquo;compiler\u0026rdquo; for the GWT library, called GWT-Ext - note that there is another project, apparently endorsed by Jack, that connects ExtJS and GWT. Sanjiv decided that he would fork the last LGPL release of ExtJS and start a new project. You may remember that Jack tried to prevent this by adding a provision in his license agreement.\nThe crux of Sanjiv\u0026rsquo;s beef with Jack Slocum is this: Jack created a great product, led people to believe that it was truly open-source when it wasn\u0026rsquo;t, and doesn\u0026rsquo;t understand open-source licenses. Jack is greedy. Now, the crux of Jack\u0026rsquo;s beef with Sanjiv is this: Sanjiv created a nice tool based on hits product, doesn\u0026rsquo;t understand open-source licenses and, oh, is greedy.\nSo, our protagonists are not talking to each other. This love story was consumed a long time ago. And potential \u0026ldquo;corporate\u0026rdquo; customers, like me, are revisiting the possibility of building their product on top of pure JQuery extensions and living happily ever after.\nNow, in a move that would shame any seasoned soap opera writer, a new character enters left stage. And her name is OpenEXT. Contrary to what Dion Almar wrote, it is not a fork: the idea is to create patches that can be dropped on top of ExtJS. Now, I am curious: was Dion right when he posted his own piece on the topic? After all, things seem to change at a meteoric pace around here.\nAnyway, stay tuned for even more implausible developments!\n","permalink":"http://zteo.com/posts/ext-licensing-oh-what-a-mess/","tags":null,"title":"Ext Licensing: Oh, what a mess."},{"categories":null,"contents":"It is something that I had to think about in my day job, because my team is migrating to PHP for web development and I believe that we simply do not have enough time for them to learn JavaScript\u0026rsquo;s intricacies, I needed to be the one person who would have to wrestle JavaScript when problems happened. I therefore needed a way to insulate them from the gory details, which is why I created ExtPHP.\nAs you may have guessed from subtle hints, such as this entry\u0026rsquo;s 12-feet tall header, ExtPHP creates a PHP wrapper for ExtJS.\nI noticed, at dzone.com, that the last time someone created a wrapper for JavaScript, many readers complained about how intrusive his approach was. Well, be assured that ExtPHP does not foil ExtJS\u0026rsquo; non-intrusive take. Of course, with ExtJS itself, it\u0026rsquo;s up to the developer to decide what kind of style they wish to adopt, and ExtPHP follows suit.\nI guess the introduction I wrote in ExtPHP\u0026rsquo;s documentation explains fairly clearly what the idea is: \u0026ldquo;ExtPHP is a wrapper for ExtJS. This is version 0.1, so I expect that a lot of things can be improved upon and your feedback is greatly appreciated. ExtPHP can be used to write both intrusive and non- intrusive Javascript, just like ExtJS itself. Use it responsibly. One of the many advantages of this design is that unknown/misspelled/misused methods are detected in your PHP editor rather than forcing you to debug your JavaScript code in your web browser. \u0026quot;\nDocumentation? Indeed, I took some time to write a much-needed PDF document. Let me know how I can improve it, I am sure that you will find it lacking - because it is.\nAnyway, I am releasing this as a \u0026ldquo;Technology Preview\u0026rdquo; and I will greatly appreciate your help beta-testing it.\nCheers.\n\n","permalink":"http://zteo.com/posts/extphp-an-extjs-converterwrapper-for-php-developers/","tags":null,"title":"ExtPHP: An ExtJS Converter/Wrapper for PHP Developers"},{"categories":null,"contents":"UPDATE\nMJ7\u0026rsquo;s post, below, reminded me of the existence of this long forgotten post.\nAs I had written in the comments, this tongue-in-cheek post was not meant to be taken seriously. Please, do not do this.\nJSON, or JavaScript Object Notation, is fairly popular.\nThis is just my modest take on a \u0026lsquo;PHP Object Notation\u0026rsquo; implementation.\nNote that it is meant to follow how your mind works rather than being syntactically correct; therefore, associative arrays are used in a loose manner where you have to worry about associative syntax as little as possible.\nBasically, type away until your object is fully described.\nHere is a notation sample:\narray( \u0026#39;root level\u0026#39; =\u0026gt; array( \u0026#39;sublevel 1\u0026#39; =\u0026gt; array( \u0026#39;sublevel 2\u0026#39; =\u0026gt; \u0026#39;sublevel 3\u0026#39;, ), ) ); This syntax can then be used the same way JSON is used, using eval. Here is how and you will immediately notice how the eval() syntax has to differ from the JavaScript one:\n$remote_str = \u0026lt;\u0026lt; array( \u0026#39;sublevel 1\u0026#39; =\u0026gt; array( \u0026#39;sublevel 2\u0026#39; =\u0026gt; \u0026#39;sublevel 3\u0026#39;, ), ) ); EOB; // ... eval(\u0026#39;$local_str=\u0026#39;.$remote_str.\u0026#39;;\u0026#39;); Feels a bit clumsy. Fortunately, starting with PHP4, if you are not too sad about introducing a statement in your remote string, you can rewrite it like this:\n$remote_str = \u0026lt;\u0026lt; array( \u0026#39;sublevel 1\u0026#39; =\u0026gt; array( \u0026#39;sublevel 2\u0026#39; =\u0026gt; \u0026#39;sublevel 3\u0026#39;, ), ) ); EOB; // ... $local_str = eval($remote_str); Better, isn\u0026rsquo;t it?\nIn this last listing, you will find the very simple code I wrote to traverse the object. Note that I invoke a callback for every element, otherwise this code would not be very helpful.\nNote that this is just a concept for something I needed to throw together quickly therefore there are some limitations ; for instance, you cannot have numeric keys since in this context their \u0026ldquo;keyness\u0026rdquo; is ignored and even feared.\n$children) { if(!is_numeric($level)) { $my_uid = $callback($level, $padding, $uid); traverse_tree($callback, $children, $curdepth + 2, $my_uid); } else { $callback($children, $padding, $uid); } } } function do_something($name, $padding, $uid) { $iid = 0; // Bogus value print $padding.$name.\u0026#34; ($iid)n\u0026#34;; return $iid; } // ----------------------------------------------------------- // Here we go // ----------------------------------------------------------- if(count($argv) != 2) die(\u0026#34;nSyntax: \u0026#34;.$PHP_SELF.\u0026#34; \u0026#39;root_node_name\u0026#39;nn\u0026#34;); $rootnodename = \u0026amp;$argv[1]; $INS = array( $rootnodename =\u0026gt; array( \u0026#39;Bikes\u0026#39; =\u0026gt; array( \u0026#39;Yamaha\u0026#39; =\u0026gt; \u0026#39;Fz\u0026#39;, \u0026#39;Honda\u0026#39;, \u0026#39;Norton\u0026#39; ), \u0026#39;Trikes\u0026#39;, \u0026#39;Cars\u0026#39; =\u0026gt; array( \u0026#39;Chevrolet\u0026#39; =\u0026gt; array( \u0026#39;Corvette\u0026#39; =\u0026gt; array(\u0026#39;Z06\u0026#39;, \u0026#39;Convertible\u0026#39;, \u0026#39;Coupe\u0026#39;), \u0026#39;Camaro\u0026#39;, \u0026#39;Jimmy\u0026#39; ), \u0026#39;Ford\u0026#39; =\u0026gt; array( \u0026#39;Mustang\u0026#39; =\u0026gt; array(\u0026#39;GT\u0026#39;, \u0026#39;Premium\u0026#39;, \u0026#39;Shelby\u0026#39;, \u0026#39;Other\u0026#39;=\u0026gt;\u0026#39;Roush\u0026#39;), \u0026#39;Explorer\u0026#39;, \u0026#39;Crown Victoria\u0026#39; ), \u0026#39;Chrysler\u0026#39; =\u0026gt; array( \u0026#39;Dodge\u0026#39; =\u0026gt; \u0026#39;Charger\u0026#39;, \u0026#39;300X\u0026#39;, \u0026#39;Le Baron\u0026#39; ), ) ) ); traverse_tree(do_something, $INS, 0, 1); print \u0026#34;DONE\\n\\n\u0026#34;; ?\u0026gt; Invoke with:\nphp my_php_script.php \u0026#34;Vehicles\u0026#34; \u0026ldquo;What is this $iid variable?\u0026rdquo; you may ask.\nYou will notice that this piece of code is particularly convenient if you want to add a whole tree structure to your database. Say the you are using MySQL and want to create categories and sub-categories, using the column \u0026lsquo;pid\u0026rsquo; as a category\u0026rsquo;s parent id. You would rewrite do_something :\nfunction do_something($name, $padding, $uid) { mysql_query(\u0026#34;INSERT INTO my_cat_table(pid, title) VALUES({$uid}, \u0026#39;{$name}\u0026#39;)\u0026#34;); $iid = mysql_insert_id(); print $padding.$name.\u0026#34; ($iid)n\u0026#34;; return $iid; } Voila!\n","permalink":"http://zteo.com/posts/pon-or-php-object-notation-is-already-here/","tags":null,"title":"PON or “PHP Object Notation” Is Already Here"},{"categories":null,"contents":"Well, this is exciting:\nPaul Bakaus, lead jQuery UI developer, [announced today that he was hired](http://jquery.com/blog/2008/01/23/jquery-ui-and-beyond-the-jquery- liferay-partnership/) by Liferay, Inc., of L.A., to work full time on his baby.\nAs an early adopter, I am very happy to see the project evolve this way. In case you are not familiar with Liferay, they develop open-source products, so all is well :)\n","permalink":"http://zteo.com/posts/jquery-ui-now-professionally-maintained/","tags":null,"title":"jQuery UI now professionally maintained!"},{"categories":null,"contents":"Great news: with Leopard, there is no need for iCalFix anymore!\nBad news: iCalFix is not compatible with the new version of iCal and the latter keeps complaining about the former.\nA lot of people have asked the author -BTW: thanks again, Robert, for creating iCalFix when it was needed- how to remove iCalFix but never got a reply.\nHere is a veeery simple fix:\nSimply remove the input manager from /Library/InputManagers\nUsing the shell:\nsudo rm -rf /Library/InputManagers/iCalFix\n","permalink":"http://zteo.com/posts/leopard-quick-removal-of-icalfix/","tags":null,"title":"Leopard: Quick Removal of iCalFix"},{"categories":null,"contents":"Kodachi v0.5.1 is out! It\u0026rsquo;s good news for developers who want to write plug-ins or if you wish to change the look and feel of the application:\n  A demo plug-in is now included. All it does is add a new direct word to Kodachi\u0026rsquo;s vocabulary: ' Demo \u0026lsquo;. Type it, select some action, and it will display a Growl-like notification confirming your action. A very easy starting place for budding plug-in developers.\n  Kodachi\u0026rsquo;s user interface is now skinnable. Actually this goes a bit beyond a simple skin as you can change its behaviour alltogether. Note that when launching Kodachi, you will now see the new demo skin, called ' Bezel \u0026lsquo;, that I created. If you are familiar with QuickSilver, this is certainly an interface you are already used to. If you wish to work with the old interface, simply disable the \u0026lsquo;BezelInterface\u0026rsquo; plug-in.\n  The installer now checks which version of .Net is installed on your PC, if any, and offers to install the correct version if necessary.\n  Download Kodachi 0.5.1\n","permalink":"http://zteo.com/posts/kodachi-051-now-skinnable-and-more/","tags":null,"title":"Kodachi 0.5.1 now skinnable (and more)"},{"categories":null,"contents":"You can now anonymously sync. to the bleeding edge version of Kodachi\u0026rsquo;s source code at svn://nextbbs.com/kodachi\nIf you do not feel like installing svn/compiling Kodachi but are still curious about its source code, you can browse it at http://www.nextbbs.com/trac/kodachi/\nNote : if you sync. to the first check-in, you will get the version of Kodachi that is currently downloadable. If you sync. to the next one, you will get a new version with a temporary default interface. Yes, I am working on adding customizable interfaces.\n","permalink":"http://zteo.com/posts/kodachi-now-available-through-svntrac/","tags":null,"title":"Kodachi now available through SVN/Trac"},{"categories":null,"contents":"Oh, man. Jack of all trades, master of\u0026hellip;not many?\nThis week, my frustration over not finding a QuickSilver-like tool for Windows, was at an all-time high.\nDo not get me wrong: Colibri and Launchy are fine tools. They just do not have this QuickSilver-like feel that I miss so much at work.\nFortunately, I came upon Kodachi completely by chance and I really like the tool.\nUnfortunately, there was no executable available, only source code. Obviously, no installer either\u0026hellip;And the project was abandoned by its original author. I contacted the interim maintainer and created a nice installer. I also did some clean-up.\nI may or may not offer to take over the project, depending on the feedback I get.\nHere is a video of Kodachi in action:\n  And of course you can download it: thank you SourceForge.\nNote: this is an alpha release. There is no guarantee that it will even work on your machine. All I can tell you is that it will not break your PC.\n","permalink":"http://zteo.com/posts/here-comes-kodachi/","tags":null,"title":"Here Comes Kodachi!"},{"categories":null,"contents":"Well, this was much more work than I had anticipated.\nAnd now, of course, I find that my voice sounds weird, the rhythm seems off, etc. The way I\u0026rsquo;m supposed to feel about it, I guess.\nHere is the quite undecipherable version. For a better, bigger, readable one: http://www.nextbbs.com/do_topic_id_1166\nI will soon post on my newly acquired experience. If it saves you time just once -the first time you try creating your own screencast-, I will feel entitled to the warm feeling that comes from having helped somebody.\n  ","permalink":"http://zteo.com/posts/my-first-screencast/","tags":null,"title":"My First Screencast"},{"categories":null,"contents":"Yesterday, Alex and I went to the Convention Center and had a look. We had never been to any NextFest or anything with the word wired in its name -not even the Denmark wired nipples Fest- so you bet that we were pretty curious.\nCool\n\nOne of the first things we saw. Pretty cool projection on a smoke screen!\n\nModern \u0026lsquo;Tubular Bells\u0026rsquo;; use whatever limbs you feel like using, and interrupting the laser beams will play music.\n\nIt would seem that multitouch technology is about to become very popular.\nGaming\n\nThe X and Y dimensions of the holodeck: walk in any direction for as long as you wish, the ball takes care of the virtual miles for you.\n\nIngenious idea: it\u0026rsquo;s a platform game, and the background and player\u0026rsquo;s avatar are projected; however, the player created the various platforms him/herself using pieces of paper.\nRobots\nZeno. Like Aibo, only it can throw tantrums. And his brains reside in your PC. Oh, and he\u0026rsquo;s ready to save the world.\n\nSo? Which is which?\n\nThe crowds interact with an android. This one doesn\u0026rsquo;t seem ready to take on the world.\n\n20 seconds later, the android got very angry and laser beams came out of its eyes, thus disintegrating the fool who had been flashing gang signs at it.\n\n\nAn interesting concept. Industrial robots playings \u0026lsquo;DJ\u0026rsquo;. Of course, their scratching was purely mechanical and random, causing a high level of yawning among the audience.\n\nThis guy actually exclaimed: \u0026ldquo;The robot is pwning me!\u0026quot;. Turning her back to us: his sister is my guess.\nActually Useful\n\nd30 actually hardens upon impact. As a biker, I totally want one of these jackets.\n\n\nI do not know if these molecules have a phD, but they sure are tough - but, as we can see from the picture before this one, they also have a sensitive side that enjoys long walks on the beach and romanian poetry. And petting.\n\nI do not see myself spending the money on this system, but I can imagine professional sommeliers welcoming the innovation.\n\nThe user interface lives in the physical world, but the display is entirely simulated.\nGreen Future\n\nA wind tower. I wonder how much energy a tower this side can deliver.\n\nYes, the whole front of the car, including lights, turn signals and bumper are stickers.\n\nAnd the car is a two-sitter. Well, a one-sitter really. Actually I wonder if there\u0026rsquo;s any room left to seat down.\n\nThis one is hardcore green. These are solar panels. It\u0026rsquo;s a bit like the secret child of the Batmobile and a bathtub.\n\nI guess this is what they would call the \u0026lsquo;sedan\u0026rsquo; model.\n\n650 miles in one day. Triumph of human ingenuity and muscle. At least this vehicle will motivate the masses to get off their asses and exercise.\n\nAw, crud. Forget I said anything.\nWTF?\nAnd now, the exhibits that left me wondering who let these guys in.\n\nQuick! Reach for your cell phone and send a witty message to these guys and you will see it displayed in a speech bubble. Oh, my, I think I just wet myself. I cannot wait to see their business plan.\n\nThis one was kind of entertaining but, again, what\u0026rsquo;s the point? If you make a call with your cell phone, the red LEDs will blink madly.\n\nThis door was especially designed for people who have no hands AND all the time in the world. It almost works, too.\n\nTwo things -at least- very wrong with this product: I do not see the point of having a plastic ball scaling my bodyÃ‚Â at all times, and its name: BodyBug? Really? Have you thought this through?\n\nBetter than the creep who lives down your street: the surprise portable creep. He lives in your clothes! When you expect it the least, anyone can text you a \u0026lsquo;virtual hug\u0026rsquo; and the garment will do its best to choke the life out of you.\n\n\n\nI think these pictures speak for themselves: it\u0026rsquo;s your own motorized guillotine! The first picture shows the no doubt immensely accurate handlebar,Ã‚Â the second one shows the massive engine belt and the last one is here to help you imagine how kick-ass it\u0026rsquo;s going to be when you stand up - or are ejected due to jerky controls.\n\nActually, from what I\u0026rsquo;ve seen this car-boat hybrid works pretty well and hauls ass. Respect. It\u0026rsquo;s only made it in this section to celebrate the accompanying blurb: did you know that it can be used on any body of water without sustaining too much damage?\nWell, that\u0026rsquo;s it for this year.\n","permalink":"http://zteo.com/posts/la-wired-nextfest-07/","tags":null,"title":"L.A. Wired NextFest ‘07"},{"categories":null,"contents":"Do you have any idea how much disregarding basic SEO ( Search Engine Optimization ) rules can cost you? I have the answer and it\u0026rsquo;s \u0026quot; a lot \u0026ldquo;. And take my word for it: I am not an SEO consultant and have nothing to sell, here.\nUp until last year, one of my sites was wildly popular: militate.com. Note that after achieving success through word of mouth, it plateaued and never exceeded 300 simultaneous users. It even started a slow descent that would end up in its much smaller audience today.\nWhat was the horrible mistake that lead to that, then?\nSimple.\n Rule #1 of SEO: when you\u0026rsquo;re getting good Google juice through heavy pages indexing, do not , under any circumstance, turn your site into a dead links farm.\n And that\u0026rsquo;s exactly what I did: at first people could access the site under a directory labeled /forums; after its first overhaul it became /site; later on I changed the domain name. And finally I changed /site to simply /\nThis, alone, is no crime. But I never told Google where to find the pages that were being relocated.\nAs a result, a web site that had steadily grown to more than 600,000 topics suddenly stalled and withered. OK, there are more factors: the site team was losing interest in its main topic, among many. But even when this happens, you can keep a niche site likes this one through sheer popularity. You really have to be a hairless monkey to mess that up.\nSo, how do you avoid such an unfortunate situation?\nIn my case, here is what I should have done. This relies entirely on issuing a status \u0026lsquo;301\u0026rsquo;, which search engines understand to mean \u0026ldquo;This is my new home. Follow me!\u0026rdquo;\nSolution #1: use mod_rewrite Redirect\nThis is the usual answer and it works fairly well. Let\u0026rsquo;s see how we do it for our move from forums/ to site/\n1. Create a file called .htaccess at the root of your old directory ( \u0026ldquo;forums\u0026rdquo; ) and put the following inside:\nRewriteEngine on RewriteBase / RewriteRule /forums/(.*) /site/$1 [R=301,L] Oh, wait: it is now as simple as\nRedirectMatch 301 /forums/(.*) /site/$1 2. That\u0026rsquo;s it. Make sure that .htaccess has the correct access rights.\nWell, that was easy.\nNow, let\u0026rsquo;s say that you are looking for a more advanced solution ; for instance you change your CMS/Forum Software and what used to be /forums/index.php?act=topic \u0026amp;page= _ 105 \u0026amp;p=1_ now becomes _/site/index.php?act=topic \u0026amp;n= _ **1**_ \u0026amp;p=1_ because your old software\u0026rsquo;s topics started at number 105 but now that you imported them in your new software, they were renumbered and start at 1.\nHere is a simple solution, that will also work if you do not have mod_rewrite (sorry, only a php example for now; I may write a Ruby example as well if requested ):\n1. Create a file called notarealpage.php; again at the root of your old directory:\n$directory = preg_replace(\u0026#39;#^/forums/#\u0026#39;, \u0026#39;\u0026#39;, $_SERVER[\u0026#39;REDIRECT_URL\u0026#39;]); // Remove original directory $querystr = $_SERVER[\u0026#39;REDIRECT_QUERY_STRING\u0026#39;]; if(empty($querystr)) $qm = \u0026#39;\u0026#39;; else { $qm = \u0026#39;?\u0026#39;; // Renumber $querystr = preg_replace_callback( \u0026#39;#\u0026amp;id=([0-9]+)#\u0026#39;, create_function( \u0026#39;$matches\u0026#39;, \u0026#39;return \u0026#34;\u0026amp;n=\u0026#34; . ($matches[1]-104);\u0026#39;), $querystr); } $newurl = \u0026#39;/site/\u0026#39; . $directory . $qm . $querystr; print $newurl; 2. In your .htaccess file, simply put:\nErrorDocument 404 /forums/notarealpage.php Voila! Simple as that.\nA note : again, I recommend that you look at the \u0026lsquo;Plain Code\u0026rsquo; since the highlighter plug-in translates all html entities. I have to take this plug-in apart someday\u0026hellip;\n","permalink":"http://zteo.com/posts/seo-how-i-killed-a-highly-successful-message-board-with-just-one-mistake-and-how-you-can-avoid-it/","tags":null,"title":"SEO: How I killed a highly successful message board with just ONE mistake (and how you can avoid it)"},{"categories":null,"contents":"Funny coincidence: mere days after I decide to re-post my views on open-source, Daniel Robbins, of Gentoo fame, decides to post a late-night rant trying to address the shortcomings of the Gentoo Foundation.\nMore interesting than his original post, though, I enjoyed reading most comments as well as his own answers to these comments. The phrase \u0026quot; Benevolent Dictator \u0026quot; emerges fairly early on, and obviously this is what it is about. My own experience was very similar, albeit less significant to the community at large since it was with a project that, in the end, was never really jump-started. But I, too, went through the typical phases seen by Daniel: group euphoria, with our extended team posting about 100 messages per day, making all sorts of suggestions, followed by the \u0026ldquo;Let\u0026rsquo;s do it\u0026rdquo; phase, when people started mysteriously disappearing -but still wishing the project well- and finally the disillusion phase, when it became obvious to me that I was left all alone to steer the boat.\nDo not get me wrong: Gentoo-the Distro, following Daniel\u0026rsquo;s impulse, has evolved into a great product and, more importantly, a product with a great community. But Gentoo-the-Foundation is another story. If I remember correctly, Daniel left the Foundation shortly after starting it, thinking that 13 people could do the same work as one single leader. And, in my opinion, this is where he inadvertently - and ironically - created the whole problem that\u0026rsquo;s plaguing the Foundation today. An Open-Source body, without strong leadership, can only wither and die.\nI believe that the current situation could have been avoided by Daniel staying with the Foundation long enough to train its officers to make informed decisions through delegation and coaching.\nOne of the comments I read stated that management is not what makes Gentoo great. Maybe not, but lack of management is what will make it fail in the end.\nUnless..!\n","permalink":"http://zteo.com/posts/open-source-management-feeling-a-bit-vindicated/","tags":null,"title":"Open-Source Management: feeling a bit vindicated…"},{"categories":null,"contents":"A couple months ago, I made a post about my new toy: OpensIFRr , which lets you easily create awesome Flash files that you can use to render just about any font in your web pages.\nI was pleased with the feedback it got but of course a lot of readers asked about the Windows version.\nWell, it\u0026rsquo;s here now! In the process I\u0026rsquo;ve learned a thing or two about Nullsoft\u0026rsquo;s Scripting Engine :)\nHope you like it and, once again, a tip of the hat to Mike Davidson \u0026amp; al.\nGet it now, courtesy of SourceForge\nps: It appears that the version of swfmill that is currently working under OpensIFRr\u0026rsquo;s hood does not always like spaces; therefore if the program seems stuck converting a font file, try again with less characters - which is good practice anyway!\n","permalink":"http://zteo.com/posts/opensifrr-now-for-windows/","tags":null,"title":"OpensIFRr now for Windows"},{"categories":null,"contents":"The player I used in my previous post ( \u0026lsquo;nBBS Admin CP\u0026rsquo; ) is now available in the Wordpress.org\u0026rsquo;s plugin directory.\nA quick overview:\n  This plugin lets you embed a flash stream using Geoff Stearn\u0026rsquo;s player.\n  You can embed multiple movies in the same page and/or post.\n  You can embed movies in posts and comments.\n  You can specify a width and a height to override the default values of 640x480.\n  I use Geoff\u0026rsquo;s Javascript to work around Adobe\u0026rsquo;s restriction on flash content display.\n  I know it\u0026rsquo;s not the first Flash plugin for Wordpress\u0026hellip;just let me know if you have creative ideas for this little guy.\nFind it here.\n","permalink":"http://zteo.com/posts/flv-player/","tags":null,"title":"Flv Player"},{"categories":null,"contents":"Soon to be unleashed on your unsuspecting screens (well\u0026hellip;if you\u0026rsquo;re using NextBBS, that is *):\n[flvplayer http://www.nextbbs.com/D/acp2.flv]\n.\nSee Topic Here\n*: if you\u0026rsquo;re not, you really should :)\n","permalink":"http://zteo.com/posts/nextbbs-new-admin-cp-preview/","tags":null,"title":"NextBBS: New Admin CP Preview"},{"categories":null,"contents":"It\u0026rsquo;s like this message has become a feature of OS X.\nYou download a .dmg, double-click and expect that all your files should be an exact copy of the original install files. And yet, sometimes, you get stuck with this message.\nHere is a very simple fix that works 90% of the time: make sure that your post-install script can be executed!\nOpen a shell window, go to where your package is, and type:\nchmod a+x yourpackage.pkg/Content/Resources/postinstall Of course, replace \u0026lsquo;yourpackage,pkg\u0026rsquo; with the package\u0026rsquo;s actual name.\n","permalink":"http://zteo.com/posts/os-x-please-try-installing-again/","tags":null,"title":"OS X: “Please try installing again”"},{"categories":null,"contents":"Since one of the goals of this blog is to show you how we resolved some of the issues we encounter when writing modern Web applications, allow me to repost this short article that I originall posted at goodjavascript.com\nIt\u0026rsquo;s an extremely common problem: you want to retrieve all the \u0026ldquo;special\u0026rdquo; links embedded in your web page. Or all the text areas with a certain style.\nYou looked at someone else\u0026rsquo;s code and found that they use the method getElementsByClassName() profusely.\nHowever, when you tried, there was no such method.\nConfused?\nHere is the skinny on this method: it does not exist. Everybody has to code their own. And most of the time, it is poorly coded and will catch\nunrelated classes in the process.\nSo, here is my implementation, which I kept as short as possible and yet, it is reliable:\ndocument.getElementsByClassName = function(className) { var expression = new RegExp(\u0026#39;(^| )\u0026#39;+className+\u0026#39;( |$)\u0026#39;); var allelements = document.body.getElementsByTagName(\u0026#39;*\u0026#39;); var elements = []; for(var i=0; ilength; i++) { var element = allelements[i]; if(expression.test(element.className)) { elements.push(element); } } return elements; }; A quick explanation:\nvar expression = new RegExp(\u0026#39;(^| )\u0026#39;+className+\u0026#39;( |$)\u0026#39;); We create a regular expression that can find the class name we are looking for anywhere in a string. Note that the DOM class attribute can contain a blank space-separated-list of class names.\nvar allelements = document.body.getElementsByTagName(\u0026#39;*\u0026#39;); We retrieve all the elements in the current page.\nWe could replace document.body with an existing DOM element and only perform a search on a subtree of our page.\nif(expression.test(element.className)) Use the regular expression we created earlier to find whether an element uses this class name.\n","permalink":"http://zteo.com/posts/where-is-getelementsbyclassname/","tags":null,"title":"Where is getElementsByClassName()?"},{"categories":null,"contents":"They are everywhere: protopage, pageflakes, netvibes et al are free, easy to use -as long as you have a powerful browser- and moderatly eye-pleasing.\nSO?\nA couple months ago, I wondered how long it would take me to build my own \u0026lsquo;WebTop\u0026rsquo; (You can play with it here). The challenge would be to get it to a satisfactory state over a week-end.\nOf course, I decided to use existing open-source code for the applications\u0026rsquo; primary needs.\nThese needs being :\n1. Users should be able to play with the application without being logged in\n2. They need to know that if they do log in, the state of their webtop will be memorized for their next session\n3. Webtops are windows-based; webtops\u0026rsquo; dimensions are virtually unlimited and windows can be laid out anywhere in that immense space.\n4. Also, windows may need to be iconified and when they are, displaying a relevant icon would provide great visual clues.\nI decided to use these four libraries:\n Sebastien Gruhier\u0026rsquo;s Prototype Window Mohamed Ahmed\u0026rsquo;s Users Login System Michal Migursky and Matt Knapp\u0026rsquo;s Json class InputParser.php, which I extracted from my very own nextBBS\u0026rsquo; source tree  Oh, and the wonderfully simplistic red icons are the creation of P.J. Onori (thanks Sam!).\nOf course, you could obviously use any piece of technology you like; I simply picked these four because they allowed me to hit the ground running.\nHACKING AWAY\nThe one piece I heavily added to is Prototype Window.\nFor instance, I added a drop-down contextual menu to windows, activated when clicking on the new \u0026lsquo;menu\u0026rsquo; button, next to the \u0026lsquo;close\u0026rsquo;, \u0026lsquo;expand\u0026rsquo; and \u0026lsquo;iconify\u0026rsquo; buttons.\nThese three menu items let the user:\n1. Change the background color of the iconified version of the window\nLet\u0026rsquo;s say\u0026hellip;purple\nWell\u0026hellip;it is purple\n2. Change the window\u0026rsquo;s overall theme\n \n3. Reload the content of the window\nTo create these menus, I went with my usual method of creating HTML elements that I position and display on demand, instead of re-creating them every time.\n![](/images/day.gif); Icon Color ![](/images/day.gif) Window Theme ![](/images/loop.gif) Reset  I had to further modify the code of Prototype Window because it did not offer anything for iconified windows.\nWhat I am doing is hide the actual window, create a square window that is a representation of the hidden one and slap a relevant icon in the middle of it -if I manage to retrieve one-.\nAbout this icon : I simply query the server hosting the iconified application for its default favicon and download it for caching purpose - see below.\nTo implement these features, I only added a few hooks to window.js, leaving Sebastien\u0026rsquo;s code relatively untouched, and piling up my dirty code in cfr.js instead.\nBEHAVIOURS\n  I had to add a hook to catch the fact that a user is leaving the current webpage, asking them whether they really wish to do this and canceling the event if they do not.\nThis was easily implemented using Javascript\u0026rsquo;s onbeforeunload(), which happens to work in all the browsers I tested.\n$obfulstr = \u0026ldquo;onbeforeunload=\u0026quot;return \u0026lsquo;For some reason, you are about to leave this page:nIt could be your decision or an application, such as Yahoo, trying to force its way out.nMAKE SURE THAT YOU SAVED YOUR DESKTOP!';\u0026quot;\u0026quot;;\n  The login window itself is simply Mohame\u0026rsquo;s login code embedded within an iframe, which in turn I turned into a CSS window.\n\nfunction cfrNewLogin()\n{\n_loginwin = _doOpenWindow('Login', ROOTPATH+'login/', false, 340, 240);  }\n  AJAX\nAs you can imagine, Ajax is used fairly heavily. Here is how: all frontend queries are channeled through a method in cfr.js, called _talkToMe()\nThis method uses Prototype\u0026rsquo;s Ajax implementation -but you could use any other implenentation here- to contact the backend.\ncase 'minimize': var iconcolor; if(win \u0026amp;\u0026amp; win.element.getAttribute('iconcolor')) iconcolor = win.element.getAttribute('iconcolor'); else iconcolor = '-'; var myAjax = new Ajax.Request( 'backend/index.php', { method: 'get', parameters: 'action=minimize\u0026amp;id='+id+'\u0026amp;title='+prepare(message)+'\u0026amp;iconcolor='+prepare(iconcolor)+'\u0026amp;url='+prepare(url), onComplete: getMinimizeReply }); break;  The backend class BE, defined in index.php, extends BackEnd which itself implements low-level communications using Json and/or XML.\nThe backend has knowledge of the code of the various widgets requested by the frontend and has the ability to retrieve favicons from other websites. The latter is done through the very straightforward use of fopen() and file_get_contents().\n// Build path to favicon.ico preg_match(\u0026quot;/^(http://)?([^/]+)/i\u0026quot;, $url, $matches); $prepath = $matches[1].$matches[2]; $path = $prepath.'/favicon.ico'; // Does this guy exist? $bFound = false; $f = @fopen($path, 'r'); if($f) { // /favicon.ico @fclose($f); $contents .= @file_get_contents($path); axlog(\u0026quot;FOUND CONTENTS=\u0026quot;.strlen($contents)); if(strlen($contents)\u0026gt;0) $bFound = true; } if(!$bFound) { // Get page contents @fclose($f); $contents .= @file_get_contents($url); $c = preg_match(\u0026quot;//i\u0026quot;, $contents, $matches); if($c \u0026gt; 0) { $s = \u0026amp;$matches[0]; $c = preg_match(\u0026quot;/href=(.+?)(['\u0026quot;\u0026gt;])/i\u0026quot;, $s, $matches); if($c \u0026gt; 0 ) { $s = str_replace(array(\u0026quot;'\u0026quot;, \u0026quot;\u0026quot;\u0026quot;), array('', ''), $matches[1]); // Build new URL if(strpos($s, '://')===false) { if($s[0]=='/') $path = $prepath . $s; /** @todo 'else : relative path' */ axlog(\u0026quot;Found relative favicon @ $path\u0026quot;); } else { axlog(\u0026quot;Found absolute favicon @ $path\u0026quot;); $path = $s; } } else $path = 'themes/window.gif'; } else $path = 'themes/window.gif'; }  DATABASE\nSince we are using Mohamed\u0026rsquo;s login script, database connectivity comes for free.\nNote that his script uses one table: maaking_users\nWe need to add our own two tables:\nmaaking_session - each entry in this table will be a user window:\nCREATE TABLE `maaking_session` ( `id` int(11) NOT NULL auto_increment, `userid` int(11) NOT NULL default '0', `url` text, `useTop` tinyint(1) default NULL, `useLeft` tinyint(1) default NULL, `top` int(10) default NULL, `bottom` int(10) default NULL, `left` int(10) default NULL, `right` int(10) default NULL, `title` text, `width` int(10) default NULL, `height` int(10) default NULL, `hidden` tinyint(1) default NULL, `iconcolor` varchar(10) default NULL, `contents` text, `usertheme` varchar(16) default '', PRIMARY KEY (`id`), KEY `userid` (`userid`) );  and maaking_favicons :\nCREATE TABLE `maaking_favicons` ( `id` int(11) NOT NULL auto_increment, `url` varchar(255) NOT NULL default '', `icon` text, PRIMARY KEY (`id`), KEY `url` (`url`) );  This is it for now. Download the zip package, play with it, let me know what you think or if you have any questions!\n","permalink":"http://zteo.com/posts/create-your-own-webtop-in-phpjs-in-no-time/","tags":null,"title":"Create your own WebTop in php/js in no time"},{"categories":null,"contents":"![nextBBS](/images/logo_nextbbs.png)Well, after spending quite some time cleaning up the code, making sure that no 'dangerous' Admin CP operation is available in multi-boards mode, and identifying which settings need to be made immutable, we are almost there. I am currently working on the automatic setup script. Remaining to do: **mkdir** servers/SERVERID servers/SERVERID/attachments servers/SERVERID/avatars servers/SERVERID/emoticons servers/SERVERID/lang servers/SERVERID/lang/en servers/SERVERID/uploads servers/SERVERID/templates servers/SERVERID/templates/* servers/SERVERID/templates/*_c **cp** servers/SERVERID/emoticons/* servers/SERVERID/templates/*[!_c]/* Note that the only 'router' module currently ready is the one based on subdomains. But that's all Clic!Dev needs anyway. Of course, as usual with everything nextBBS, this code will be available in the software's next release. Your first chance to take a look under Clic!Dev's hood.  ","permalink":"http://zteo.com/posts/cd-v2-nextbbs-multi/","tags":null,"title":"C!D v2 = nextBBS multi"},{"categories":null,"contents":"Not much to say. It's open!  ","permalink":"http://zteo.com/posts/opening-of-this-development-blog/","tags":null,"title":"Opening of this development blog"},{"categories":null,"contents":"In this post:\n  Google+ on your Mac, using its own credentials\n  Google+ as its own desktop app, with a nice icon\n  Using a complex GreaseMonkey script in Safari or Fluid\n  I really like Google+ but I have more than one Google account so it was a pain to use because Google\u0026rsquo;s cookies are shared among all Google services and I had to constantly switch accounts.\nI decided to turn it into its own application , with its own cookies.\nI could have run it in a different browser, such as Opera, but it seemed a tad overkill.\nSo, I finally decided to send some money Todd Ditchendorf\u0026rsquo;s way and spend the \u0026ldquo;outrageous\u0026rdquo; $4.99 required for a full version of Fluid, the application that turns web pages into their own desktop application.\nI did not use Prism because it seems to be all but abandoned. I did not use Bazinga or an automator script because both share their cookies with Safari, which Fluid\u0026rsquo;s full version offers not to.\nAfter downloading and registering Fluid, I created an application that load https://plus.google.com\nI gave it a nice icon thanks to Sean McCabe\u0026rsquo;s vector set, [available for free in his blog](http://boldperspective.com/2011/free-google-plus-icon- vector/).\nI could have declared victory at that point but I wanted to perform some customization; Fluid, like Safari, understands a subset of the GreaseMonkey API so that shouldn\u0026rsquo;t be too difficult (Safari requires GreaseKit or NinjaKit)\nJerome Dane wrote a great \u0026ldquo;G+ Tweaks\u0026rdquo; script, available at userscripts.org. Unfortunately, it uses a bit too much of GreaseMonkey\u0026rsquo;s built-in power and wouldn\u0026rsquo;t work at all in Fluid.\nIssues :\n  The script tries to load external JavaScript using the require command (not available)\n  It uses GreaseMonkey functions, such as GM_setValue(), that Fluid does not understand\n  I worked around (1) the ugliest way possible: I copy/pasted the external Javascript in the script itself.\nAs it turns out, it is not as bad as you may think: GreaseMonkey does not reload \u0026lsquo;required\u0026rsquo; scripts dynamically; it merges them internally at installation time, which means that we are doing something very similar.\nAnd (2) was a simple matter of adding a few bogus functions: a user called aeosynth posted a short version of those missing functions on userscripts.org\u0026rsquo;s forums.\nAnd now, if you are feeling brave enough, you can view the whole script below. Simply click \u0026lsquo;View Code\u0026rsquo; to see it as plain-text ; you can then copy and paste it into Fluid\u0026rsquo;s scripts editor, with the pattern \u0026lsquo;plus.google.com\u0026rsquo;\n// ==UserScript== // @name Google+ Tweaks // @description Tweaks to the layout and features of Google+ // @author Jerome Dane // @website http://userscripts.org/scripts/show/106166 // @version 0.020 // // License Creative Commons Attribution 3.0 Unported License http://creativecommons.org/licenses/by/3.0/ // // Copyright (c) 2011 Jerome Dane // // Permission is hereby granted, free of charge, to any person obtaining // a copy of this software and associated documentation files (the \u0026quot;Software\u0026quot;), // to deal in the Software without restriction, including without limitation the // rights to use, copy, modify, merge, publish, distribute, sublicense, and/or // sell copies of the Software, and to permit persons to whom the Software is // furnished to do so, subject to the following conditions: // // The above copyright notice and this permission notice shall be included in all // copies or substantial portions of the Software. // // THE SOFTWARE IS PROVIDED \u0026quot;AS IS\u0026quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, // INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A // PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT // HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF // CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE // OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. // // @include http://plus.google.com/* // @include https://plus.google.com/* // // @require http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js // @require http://userscripts.org/scripts/source/106368.user.js // @require http://userscripts.org/scripts/source/106223.user.js // // @history 0.020 Added check for /h#/ image resize format for previews // @history 0.020 Imposed max height and width on preview images of window size - 40px // @history 0.019 Quick attempt to fix persistent \u0026quot;all images to preview image\u0026quot; bug // @history 0.019 Fixed preview images stretching off the window to the right // @history 0.018 Fixed broken/buggy image preview // @history 0.018 You can now choose the delay before showing image previews // @history 0.018 Avatars in \u0026quot;added you to circles\u0026quot; notifications now use image previews // @history 0.018 Profile pictures in left column of profiles now use image previews // @history 0.018 Photos in profile pages now use image previews // @history 0.018 Fixed left column width on notifications feed when using full width // @history 0.017 Improve stability of mute button // @history 0.016 Started refactoring all code to make it easier to maintain // @history 0.016 Removed hide post button options (not really used anymore) // @history 0.016 Better control of hiding/fading mute notices // @history 0.016 Ability to fix just the google bar or all navigation // @history 0.016 Attempted to fix posts out of view when using J/K key navigation // @history 0.016 Attempted to fix some fixed navigation issues // @history 0.016 Clicking on streams now auto scrolls back to top when using fixed navigation // @history 0.016 Clicking on buttons in top bar now auto scrolls back to top when using fixed navigation // @history 0.016 Added inline +1 and shares option to clean up the page // @history 0.016 Added toggle comments option // @history 0.015 Improved positioning and stability of image previews // @history 0.015 Increased max size of previews to window height - 40 pixels // @history 0.015 Fixed circles view being unusable with fixed navigation enabled // @history 0.015 Added easy mentioning [+] symbol after profile names (enabled by default) // @history 0.015 \u0026quot;Add to circles\u0026quot; and \u0026quot;in circles\u0026quot; button now fixed on profile pages for fixed nav (thanks Matt Kruse) // @history 0.015 Fixed inability to scroll profile columns when using fixed navigation and small windows (thanks Terry May) // @history 0.014 Added fast mute option to add a mute button and remove muted notice // @history 0.014 Removed post buttons option // @history 0.013 Added favicon badge to show number of new notices // @history 0.012 Added option to fix navigation elements // @history 0.011 Fixed stretching of images in previews to 400px when the original is smaller // @history 0.011 Preview images now work on hangout notice avatars // @history 0.010 Prevented execution of script within iFrames such as notifications preview popup // @history 0.010 Increased the width of rollover previews to 400 from 300 (may be a setting eventually) // @history 0.010 Image rollover preview will now reposition itself to stay within the viewable window // @history 0.010 Image rollover preview now works on avatars in posts // @history 0.010 Image rollover preview now works on avatars in vCards (little person previews) // @history 0.010 Fixed handling of preview images with sz=## in the source // @history 0.009 Added rollover previews to images in posts // @history 0.009 Added MIT license to source // @history 0.008 Display post actions as buttons instead of a dropdown menu (disabled by default) // @history 0.008 Added a \u0026quot;Hide\u0026quot; tab to the options window to allow hiding Google+ elements // @history 0.008 Added a donate button to the about tab of the options window // @history 0.007 Yellow \u0026quot;post muted\u0026quot; notices will now fade out after a few seconds // @history 0.006 Fixes to Thumbnails Only feature // @history 0.005 Images in posts can now forced to thumbnails // @history 0.004 Added options dialog with link in Google settings menu // @history 0.004 Full width feature can now be disabled // @history 0.003 Fixed header not left aligned in Google Chrome // @history 0.003 Notifications view is now full width // @history 0.003 Included jQuery UI in anticipation of next version // @history 0.003 Included Script Options in anticipation of next version // @history 0.002 Profiles are now full width as well // @history 0.001 Initial release // // ==/UserScript== // @copyright 2009, 2010 James Campos // @license cc-by-3.0; http://creativecommons.org/licenses/by/3.0/ if (typeof GM_deleteValue == 'undefined') { GM_addStyle = function(css) { var style = document.createElement('style'); style.textContent = css; document.getElementsByTagName('head')[0].appendChild(style); } GM_deleteValue = function(name) { localStorage.removeItem(name); } GM_getValue = function(name, defaultValue) { var value = localStorage.getItem(name); if (!value) return defaultValue; var type = value[0]; value = value.substring(1); switch (type) { case 'b': return value == 'true'; case 'n': return Number(value); default: return value; } } GM_log = function(message) { console.log(message); } GM_openInTab = function(url) { return window.open(url, \u0026quot;_blank\u0026quot;); } GM_registerMenuCommand = function(name, funk) { //todo } GM_setValue = function(name, value) { value = (typeof value)[0] + value; localStorage.setItem(name, value); } } /*! * jQuery JavaScript Library v1.6.2 * http://jquery.com/ * * Copyright 2011, John Resig * Dual licensed under the MIT or GPL Version 2 licenses. * http://jquery.org/license * * Includes Sizzle.js * http://sizzlejs.com/ * Copyright 2011, The Dojo Foundation * Released under the MIT, BSD, and GPL Licenses. * * Date: Thu Jun 30 14:16:56 2011 -0400 */ (function(a,b){function cv(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cs(a){if(!cg[a]){var b=c.body,d=f(\u0026quot;\u0026lt;\u0026quot;+a+\u0026quot;\u0026gt;\u0026quot;).appendTo(b),e=d.css(\u0026quot;display\u0026quot;);d.remove();if(e===\u0026quot;none\u0026quot;||e===\u0026quot;\u0026quot;){ch||(ch=c.createElement(\u0026quot;iframe\u0026quot;),ch.frameBorder=ch.width=ch.height=0),b.appendChild(ch);if(!ci||!ch.createElement)ci=(ch.contentWindow||ch.contentDocument).document,ci.write((c.compatMode===\u0026quot;CSS1Compat\u0026quot;?\u0026quot;\u0026quot;:\u0026quot;\u0026quot;)+\u0026quot;\u0026quot;),ci.close();d=ci.createElement(a),ci.body.appendChild(d),e=f.css(d,\u0026quot;display\u0026quot;),b.removeChild(ch)}cg[a]=e}return cg[a]}function cr(a,b){var c={};f.each(cm.concat.apply([],cm.slice(0,b)),function(){c[this]=a});return c}function cq(){cn=b}function cp(){setTimeout(cq,0);return cn=f.now()}function cf(){try{return new a.ActiveXObject(\u0026quot;Microsoft.XMLHTTP\u0026quot;)}catch(b){}}function ce(){try{return new a.XMLHttpRequest}catch(b){}}function b$(a,c){a.dataFilter\u0026amp;\u0026amp;(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g _0){c!==\u0026quot;border\u0026quot; \u0026amp;\u0026amp;f.each(e,function(){c||(d-=parseFloat(f.css(a,\u0026quot;padding\u0026quot;+this))||0),c===\u0026quot;margin\u0026quot;?d+=parseFloat(f.css(a,c+this))||0:d-=parseFloat(f.css(a,\u0026quot;border\u0026quot;+this+\u0026quot;Width\u0026quot;))||0});return d+\u0026quot;px\u0026quot;}d=bx(a,b,b);if(d\u0026lt;0||d==null)d=a.style[b]||0;d=parseFloat(d)||0,c\u0026amp;\u0026amp;f.each(e,function(){d+=parseFloat(f.css(a,\u0026quot;padding\u0026quot;+this))||0,c!==\u0026quot;padding\u0026quot;\u0026amp;\u0026amp;(d+=parseFloat(f.css(a,\u0026quot;border\u0026quot;+this+\u0026quot;Width\u0026quot;))||0),c===\u0026quot;margin\u0026quot;\u0026amp;\u0026amp;(d+=parseFloat(f.css(a,c+this))||0)});return d+\u0026quot;px\u0026quot;}function bm(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:\u0026quot;script\u0026quot;}):f.globalEval((b.text||b.textContent||b.innerHTML||\u0026quot;\u0026quot;).replace(be,\u0026quot;/*$0*/\u0026quot;)),b.parentNode\u0026amp;\u0026amp;b.parentNode.removeChild(b)}function bl(a){f.nodeName(a,\u0026quot;input\u0026quot;)?bk(a):\u0026quot;getElementsByTagName\u0026quot;in a\u0026amp;\u0026amp;f.grep(a.getElementsByTagName(\u0026quot;input\u0026quot;),bk)}function bk(a){if(a.type===\u0026quot;checkbox\u0026quot;||a.type===\u0026quot;radio\u0026quot;)a.defaultChecked=a.checked}function bj(a){return\u0026quot;getElementsByTagName\u0026quot;in a?a.getElementsByTagName(\u0026quot;*\u0026quot;):\u0026quot;querySelectorAll\u0026quot;in a?a.querySelectorAll(\u0026quot;*\u0026quot;):[]}function bi(a,b){var c;if(b.nodeType===1){b.clearAttributes\u0026amp;\u0026amp;b.clearAttributes(),b.mergeAttributes\u0026amp;\u0026amp;b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c===\u0026quot;object\u0026quot;)b.outerHTML=a.outerHTML;else if(c!==\u0026quot;input\u0026quot;||a.type!==\u0026quot;checkbox\u0026quot;\u0026amp;\u0026amp;a.type!==\u0026quot;radio\u0026quot;){if(c===\u0026quot;option\u0026quot;)b.selected=a.defaultSelected;else if(c===\u0026quot;input\u0026quot;||c===\u0026quot;textarea\u0026quot;)b.defaultValue=a.defaultValue}else a.checked\u0026amp;\u0026amp;(b.defaultChecked=b.checked=a.checked),b.value!==a.value\u0026amp;\u0026amp;(b.value=a.value);b.removeAttribute(f.expando)}}function bh(a,b){if(b.nodeType===1\u0026amp;\u0026amp;!!f.hasData(a)){var c=f.expando,d=f.data(a),e=f.data(b,d);if(d=d[c]){var g=d.events;e=e[c]=f.extend({},d);if(g){delete e.handle,e.events={};for(var h in g)for(var i=0,j=g[h].length;i=0===c})}function V(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function N(a,b){return(a\u0026amp;\u0026amp;a!==\u0026quot;*\u0026quot;?a+\u0026quot;.\u0026quot;:\u0026quot;\u0026quot;)+b.replace(z,\u0026quot;`\u0026quot;).replace(A,\u0026quot;\u0026amp;\u0026quot;)}function M(a){var b,c,d,e,g,h,i,j,k,l,m,n,o,p=[],q=[],r=f._data(this,\u0026quot;events\u0026quot;);if(!(a.liveFired===this||!r||!r.live||a.target.disabled||a.button\u0026amp;\u0026amp;a.type===\u0026quot;click\u0026quot;)){a.namespace\u0026amp;\u0026amp;(n=new RegExp(\u0026quot;(^|\\\\.)\u0026quot;+a.namespace.split(\u0026quot;.\u0026quot;).join(\u0026quot;\\\\.(?:.*\\\\.)?\u0026quot;)+\u0026quot;(\\\\.|$)\u0026quot;)),a.liveFired=this;var s=r.live.slice(0);for(i=0;ic)break;a.currentTarget=e.elem,a.data=e.handleObj.data,a.handleObj=e.handleObj,o=e.handleObj.origHandler.apply(e.elem,arguments);if(o===!1||a.isPropagationStopped()){c=e.level,o===!1\u0026amp;\u0026amp;(b=!1);if(a.isImmediatePropagationStopped())break}}return b}}function K(a,c,d){var e=f.extend({},d[0]);e.type=a,e.originalEvent={},e.liveFired=b,f.event.handle.call(c,e),e.isDefaultPrevented()\u0026amp;\u0026amp;d[0].preventDefault()}function E(){return!0}function D(){return!1}function m(a,c,d){var e=c+\u0026quot;defer\u0026quot;,g=c+\u0026quot;queue\u0026quot;,h=c+\u0026quot;mark\u0026quot;,i=f.data(a,e,b,!0);i\u0026amp;\u0026amp;(d===\u0026quot;queue\u0026quot;||!f.data(a,g,b,!0))\u0026amp;\u0026amp;(d===\u0026quot;mark\u0026quot;||!f.data(a,h,b,!0))\u0026amp;\u0026amp;setTimeout(function(){!f.data(a,g,b,!0)\u0026amp;\u0026amp;!f.data(a,h,b,!0)\u0026amp;\u0026amp;(f.removeData(a,e,!0),i.resolve())},0)}function l(a){for(var b in a)if(b!==\u0026quot;toJSON\u0026quot;)return!1;return!0}function k(a,c,d){if(d===b\u0026amp;\u0026amp;a.nodeType===1){var e=\u0026quot;data-\u0026quot;+c.replace(j,\u0026quot;$1-$2\u0026quot;).toLowerCase();d=a.getAttribute(e);if(typeof d==\u0026quot;string\u0026quot;){try{d=d===\u0026quot;true\u0026quot;?!0:d===\u0026quot;false\u0026quot;?!1:d===\u0026quot;null\u0026quot;?null:f.isNaN(d)?i.test(d)?f.parseJSON(d):d:parseFloat(d)}catch(g){}f.data(a,c,d)}else d=b}return d}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll(\u0026quot;left\u0026quot;)}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^\u0026lt;]*(\u0026lt;[\\w\\W]+\u0026gt;)[^\u0026gt;]*$|#([\\w\\-]*)$)/,j=/\\S/,k=/^\\s+/,l=/\\s+$/,m=/\\d/,n=/^\u0026lt;(\\w+)\\s*\\/?\u0026gt;(?:\u0026lt;\\/\\1\u0026gt;)?$/,o=/^[\\],:{}\\s]*$/,p=/\\\\(?:[\u0026quot;\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,q=/\u0026quot;[^\u0026quot;\\\\\\n\\r]*\u0026quot;|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,r=/(?:^|:|,)(?:\\s*\\[)+/g,s=/(webkit)[ \\/]([\\w.]+)/,t=/(opera)(?:.*version)?[ \\/]([\\w.]+)/,u=/(msie) ([\\w.]+)/,v=/(mozilla)(?:.*? rv:([\\w.]+))?/,w=/-([a-z])/ig,x=function(a,b){return b.toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a===\u0026quot;body\u0026quot;\u0026amp;\u0026amp;!d\u0026amp;\u0026amp;c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a==\u0026quot;string\u0026quot;){a.charAt(0)!==\u0026quot;\u0026lt;\u0026quot;||a.charAt(a.length-1)!==\u0026quot;\u0026gt;\u0026quot;||a.length\u0026lt;3?g=i.exec(a):g=[null,a,null];if(g\u0026amp;\u0026amp;(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=n.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h\u0026amp;\u0026amp;h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==b\u0026amp;\u0026amp;(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:\u0026quot;\u0026quot;,jquery:\u0026quot;1.6.2\u0026quot;,length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a\u0026lt;0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b===\u0026quot;find\u0026quot;?d.selector=this.selector+(this.selector?\u0026quot; \u0026quot;:\u0026quot;\u0026quot;)+c:b\u0026amp;\u0026amp;(d.selector=this.selector+\u0026quot;.\u0026quot;+b+\u0026quot;(\u0026quot;+c+\u0026quot;)\u0026quot;);return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.done(a);return this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),\u0026quot;slice\u0026quot;,F.call(arguments).join(\u0026quot;,\u0026quot;))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i==\u0026quot;boolean\u0026quot;\u0026amp;\u0026amp;(l=i,i=arguments[1]||{},j=2),typeof i!=\u0026quot;object\u0026quot;\u0026amp;\u0026amp;!e.isFunction(i)\u0026amp;\u0026amp;(i={}),k===j\u0026amp;\u0026amp;(i=this,--j);for(;j0)return;A.resolveWith(c,[e]),e.fn.trigger\u0026amp;\u0026amp;e(c).trigger(\u0026quot;ready\u0026quot;).unbind(\u0026quot;ready\u0026quot;)}},bindReady:function(){if(!A){A=e._Deferred();if(c.readyState===\u0026quot;complete\u0026quot;)return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener(\u0026quot;DOMContentLoaded\u0026quot;,B,!1),a.addEventListener(\u0026quot;load\u0026quot;,e.ready,!1);else if(c.attachEvent){c.attachEvent(\u0026quot;onreadystatechange\u0026quot;,B),a.attachEvent(\u0026quot;onload\u0026quot;,e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll\u0026amp;\u0026amp;b\u0026amp;\u0026amp;J()}}},isFunction:function(a){return e.type(a)===\u0026quot;function\u0026quot;},isArray:Array.isArray||function(a){return e.type(a)===\u0026quot;array\u0026quot;},isWindow:function(a){return a\u0026amp;\u0026amp;typeof a==\u0026quot;object\u0026quot;\u0026amp;\u0026amp;\u0026quot;setInterval\u0026quot;in a},isNaN:function(a){return a==null||!m.test(a)||isNaN(a)},type:function(a){return a==null?String(a):I[C.call(a)]||\u0026quot;object\u0026quot;},isPlainObject:function(a){if(!a||e.type(a)!==\u0026quot;object\u0026quot;||a.nodeType||e.isWindow(a))return!1;if(a.constructor\u0026amp;\u0026amp;!D.call(a,\u0026quot;constructor\u0026quot;)\u0026amp;\u0026amp;!D.call(a.constructor.prototype,\u0026quot;isPrototypeOf\u0026quot;))return!1;var c;for(c in a);return c===b||D.call(a,c)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a},parseJSON:function(b){if(typeof b!=\u0026quot;string\u0026quot;||!b)return null;b=e.trim(b);if(a.JSON\u0026amp;\u0026amp;a.JSON.parse)return a.JSON.parse(b);if(o.test(b.replace(p,\u0026quot;@\u0026quot;).replace(q,\u0026quot;]\u0026quot;).replace(r,\u0026quot;\u0026quot;)))return(new Function(\u0026quot;return \u0026quot;+b))();e.error(\u0026quot;Invalid JSON: \u0026quot;+b)},parseXML:function(b,c,d){a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,\u0026quot;text/xml\u0026quot;)):(c=new ActiveXObject(\u0026quot;Microsoft.XMLDOM\u0026quot;),c.async=\u0026quot;false\u0026quot;,c.loadXML(b)),d=c.documentElement,(!d||!d.nodeName||d.nodeName===\u0026quot;parsererror\u0026quot;)\u0026amp;\u0026amp;e.error(\u0026quot;Invalid XML: \u0026quot;+b);return c},noop:function(){},globalEval:function(b){b\u0026amp;\u0026amp;j.test(b)\u0026amp;\u0026amp;(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,x)},nodeName:function(a,b){return a.nodeName\u0026amp;\u0026amp;a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g0\u0026amp;\u0026amp;a[0]\u0026amp;\u0026amp;a[j-1]||j===0||e.isArray(a));if(k)for(;i _\u0026lt; 0\u0026amp;\u0026amp;v.exec(a)||[];return{browser:b[1]||\u0026quot;\u0026quot;,version:b[2]||\u0026quot;0\u0026quot;}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f\u0026amp;\u0026amp;f instanceof e\u0026amp;\u0026amp;!(f instanceof a)\u0026amp;\u0026amp;(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each(\u0026quot;Boolean Number String Function Array Date RegExp Object\u0026quot;.split(\u0026quot; \u0026quot;),function(a,b){I[\u0026quot;[object \u0026quot;+b+\u0026quot;]\u0026quot;]=b.toLowerCase()}),z=e.uaMatch(y),z.browser\u0026amp;\u0026amp;(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit\u0026amp;\u0026amp;(e.browser.safari=!0),j.test(\u0026quot; \u0026quot;)\u0026amp;\u0026amp;(k=/^[\\s\\xA0]+/,l=/[\\s\\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener(\u0026quot;DOMContentLoaded\u0026quot;,B,!1),e.ready()}:c.attachEvent\u0026amp;\u0026amp;(B=function(){c.readyState===\u0026quot;complete\u0026quot;\u0026amp;\u0026amp;(c.detachEvent(\u0026quot;onreadystatechange\u0026quot;,B),e.ready())});return e}(),g=\u0026quot;done fail isResolved isRejected promise then always pipe\u0026quot;.split(\u0026quot; \u0026quot;),h=[].slice;f.extend({_Deferred:function(){var a=[],b,c,d,e={done:function(){if(!d){var c=arguments,g,h,i,j,k;b\u0026amp;\u0026amp;(k=b,b=0);for(g=0,h=c.length;g1?h.call(arguments,0):c,--e||g.resolveWith(g,h.call(b,0))}}var b=arguments,c=0,d=b.length,e=d,g=d\u0026lt;=1\u0026amp;\u0026amp;a\u0026amp;\u0026amp;f.isFunction(a.promise)?a:f.Deferred();if(d\u0026gt;1){for(;c[a](/a)\u0026quot;,d=a.getElementsByTagName(\u0026quot;*\u0026quot;),e=a.getElementsByTagName(\u0026quot;a\u0026quot;)[0];if(!d||!d.length||!e)return{};g=c.createElement(\u0026quot;select\u0026quot;),h=g.appendChild(c.createElement(\u0026quot;option\u0026quot;)),i=a.getElementsByTagName(\u0026quot;input\u0026quot;)[0],k={leadingWhitespace:a.firstChild.nodeType===3,tbody:!a.getElementsByTagName(\u0026quot;tbody\u0026quot;).length,htmlSerialize:!!a.getElementsByTagName(\u0026quot;link\u0026quot;).length,style:/top/.test(e.getAttribute(\u0026quot;style\u0026quot;)),hrefNormalized:e.getAttribute(\u0026quot;href\u0026quot;)===\u0026quot;/a\u0026quot;,opacity:/^0.55$/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value===\u0026quot;on\u0026quot;,optSelected:h.selected,getSetAttribute:a.className!==\u0026quot;t\u0026quot;,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,k.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,k.optDisabled=!h.disabled;try{delete a.test}catch(v){k.deleteExpando=!1}!a.addEventListener\u0026amp;\u0026amp;a.attachEvent\u0026amp;\u0026amp;a.fireEvent\u0026amp;\u0026amp;(a.attachEvent(\u0026quot;onclick\u0026quot;,function(){k.noCloneEvent=!1}),a.cloneNode(!0).fireEvent(\u0026quot;onclick\u0026quot;)),i=c.createElement(\u0026quot;input\u0026quot;),i.value=\u0026quot;t\u0026quot;,i.setAttribute(\u0026quot;type\u0026quot;,\u0026quot;radio\u0026quot;),k.radioValue=i.value===\u0026quot;t\u0026quot;,i.setAttribute(\u0026quot;checked\u0026quot;,\u0026quot;checked\u0026quot;),a.appendChild(i),l=c.createDocumentFragment(),l.appendChild(a.firstChild),k.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,a.innerHTML=\u0026quot;\u0026quot;,a.style.width=a.style.paddingLeft=\u0026quot;1px\u0026quot;,m=c.getElementsByTagName(\u0026quot;body\u0026quot;)[0],o=c.createElement(m?\u0026quot;div\u0026quot;:\u0026quot;body\u0026quot;),p={visibility:\u0026quot;hidden\u0026quot;,width:0,height:0,border:0,margin:0},m\u0026amp;\u0026amp;f.extend(p,{position:\u0026quot;absolute\u0026quot;,left:-1e3,top:-1e3});for(t in p)o.style[t]=p[t];o.appendChild(a),n=m||b,n.insertBefore(o,n.firstChild),k.appendChecked=i.checked,k.boxModel=a.offsetWidth===2,\u0026quot;zoom\u0026quot;in a.style\u0026amp;\u0026amp;(a.style.display=\u0026quot;inline\u0026quot;,a.style.zoom=1,k.inlineBlockNeedsLayout=a.offsetWidth===2,a.style.display=\u0026quot;\u0026quot;,a.innerHTML=\u0026quot; \u0026quot;,k.shrinkWrapBlocks=a.offsetWidth!==2),a.innerHTML=\u0026quot;| t ---|--- \u0026quot;,q=a.getElementsByTagName(\u0026quot;td\u0026quot;),u=q[0].offsetHeight===0,q[0].style.display=\u0026quot;\u0026quot;,q[1].style.display=\u0026quot;none\u0026quot;,k.reliableHiddenOffsets=u\u0026amp;\u0026amp;q[0].offsetHeight===0,a.innerHTML=\u0026quot;\u0026quot;,c.defaultView\u0026amp;\u0026amp;c.defaultView.getComputedStyle\u0026amp;\u0026amp;(j=c.createElement(\u0026quot;div\u0026quot;),j.style.width=\u0026quot;0\u0026quot;,j.style.marginRight=\u0026quot;0\u0026quot;,a.appendChild(j),k.reliableMarginRight=(parseInt((c.defaultView.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0),o.innerHTML=\u0026quot;\u0026quot;,n.removeChild(o);if(a.attachEvent)for(t in{submit:1,change:1,focusin:1})s=\u0026quot;on\u0026quot;+t,u=s in a,u||(a.setAttribute(s,\u0026quot;return;\u0026quot;),u=typeof a[s]==\u0026quot;function\u0026quot;),k[t+\u0026quot;Bubbles\u0026quot;]=u;o=l=g=h=m=j=a=i=null;return k}(),f.boxModel=f.support.boxModel;var i=/^(?:\\{.*\\}|\\[.*\\])$/,j=/([a-z])([A-Z])/g;f.extend({cache:{},uuid:0,expando:\u0026quot;jQuery\u0026quot;+(f.fn.jquery+Math.random()).replace(/\\D/g,\u0026quot;\u0026quot;),noData:{embed:!0,object:\u0026quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\u0026quot;,applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a\u0026amp;\u0026amp;!l(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g=f.expando,h=typeof c==\u0026quot;string\u0026quot;,i,j=a.nodeType,k=j?f.cache:a,l=j?a[f.expando]:a[f.expando]\u0026amp;\u0026amp;f.expandoif((!l||e\u0026amp;\u0026amp;l\u0026amp;\u0026amp;!k[l][g])\u0026amp;\u0026amp;h\u0026amp;\u0026amp;d===b)return;l||(j?a[f.expando]=l=++f.uuid:l=f.expando),k[l]||(k[l]={},j||(k[l].toJSON=f.noop));if(typeof c==\u0026quot;object\u0026quot;||typeof c==\u0026quot;function\u0026quot;)e?k[l][g]=f.extend(k[l][g],c):k[l]=f.extend(k[l],c);i=k[l],e\u0026amp;\u0026amp;(i[g]||(i[g]={}),i=i[g]),d!==b\u0026amp;\u0026amp;(i[f.camelCase(c)]=d);if(c===\u0026quot;events\u0026quot;\u0026amp;\u0026amp;!i[c])return i[g]\u0026amp;\u0026amp;i[g].events;return h?i[f.camelCase(c)]||i[c]:i}},removeData:function(b,c,d){if(!!f.acceptData(b)){var e=f.expando,g=b.nodeType,h=g?f.cache:b,i=g?b[f.expando]:f.expando;if(!h[i])return;if(c){var j=d?h[i][e]:h[i];if(j){delete j[c];if(!l(j))return}}if(d){delete h[i][e];if(!l(h[i]))return}var k=h[i][e];f.support.deleteExpando||h!=a?delete h[i]:h[i]=null,k?(h[i]={},g||(h[i].toJSON=f.noop),h[i][e]=k):g\u0026amp;\u0026amp;(f.support.deleteExpando?delete b[f.expando]:b.removeAttribute?b.removeAttribute(f.expando):b[f.expando]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0\u0026amp;\u0026amp;a.getAttribute(\u0026quot;classid\u0026quot;)===b}return!0}}),f.fn.extend({data:function(a,c){var d=null;if(typeof a==\u0026quot;undefined\u0026quot;){if(this.length){d=f.data(this[0]);if(this[0].nodeType===1){var e=this[0].attributes,g;for(var h=0,i=e.length;h _ _-1)return!0;return!1},val:function(a){var c,d,e=this[0];if(!arguments.length){if(e){c=f.valHooks[e.nodeName.toLowerCase()]||f.valHooks[e.type];if(c \u0026amp;\u0026amp;\u0026quot;get\u0026quot;in c\u0026amp;\u0026amp;(d=c.get(e,\u0026quot;value\u0026quot;))!==b)return d;d=e.value;return typeof d==\u0026quot;string\u0026quot;?d.replace(p,\u0026quot;\u0026quot;):d==null?\u0026quot;\u0026quot;:d}return b}var g=f.isFunction(a);return this.each(function(d){var e=f(this),h;if(this.nodeType===1){g?h=a.call(this,d,e.val()):h=a,h==null?h=\u0026quot;\u0026quot;:typeof h==\u0026quot;number\u0026quot;?h+=\u0026quot;\u0026quot;:f.isArray(h)\u0026amp;\u0026amp;(h=f.map(h,function(a){return a==null?\u0026quot;\u0026quot;:a+\u0026quot;\u0026quot;})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!(\u0026quot;set\u0026quot;in c)||c.set(this,h,\u0026quot;value\u0026quot;)===b)this.value=h}})}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c=a.selectedIndex,d=[],e=a.options,g=a.type===\u0026quot;select-one\u0026quot;;if(c\u0026lt;0)return null;for(var h=g?c:0,i=g?c+1:e.length;h _=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attrFix:{tabindex:\u0026quot;tabIndex\u0026quot;},attr:function(a,c,d,e){var g=a.nodeType;if(!a||g===3||g===8||g===2)return b;if(e \u0026amp;\u0026amp;c in f.attrFn)return f(a)[c](d);if(!(\u0026quot;getAttribute\u0026quot;in a))return f.prop(a,c,d);var h,i,j=g!==1||!f.isXMLDoc(a);j\u0026amp;\u0026amp;(c=f.attrFix[c]||c,i=f.attrHooks[c],i||(t.test(c)?i=w:v\u0026amp;\u0026amp;c!==\u0026quot;className\u0026quot;\u0026amp;\u0026amp;(f.nodeName(a,\u0026quot;form\u0026quot;)||u.test(c))\u0026amp;\u0026amp;(i=v)));if(d!==b){if(d===null){f.removeAttr(a,c);return b}if(i\u0026amp;\u0026amp;\u0026quot;set\u0026quot;in i\u0026amp;\u0026amp;j\u0026amp;\u0026amp;(h=i.set(a,d,c))!==b)return h;a.setAttribute(c,\u0026quot;\u0026quot;+d);return d}if(i\u0026amp;\u0026amp;\u0026quot;get\u0026quot;in i\u0026amp;\u0026amp;j\u0026amp;\u0026amp;(h=i.get(a,c))!==null)return h;h=a.getAttribute(c);return h===null?b:h},removeAttr:function(a,b){var c;a.nodeType===1\u0026amp;\u0026amp;(b=f.attrFix[b]||b,f.support.getSetAttribute?a.removeAttribute(b):(f.attr(a,b,\u0026quot;\u0026quot;),a.removeAttributeNode(a.getAttributeNode(b))),t.test(b)\u0026amp;\u0026amp;(c=f.propFix[b]||b)in a\u0026amp;\u0026amp;(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(q.test(a.nodeName)\u0026amp;\u0026amp;a.parentNode)f.error(\u0026quot;type property can't be changed\u0026quot;);else if(!f.support.radioValue\u0026amp;\u0026amp;b===\u0026quot;radio\u0026quot;\u0026amp;\u0026amp;f.nodeName(a,\u0026quot;input\u0026quot;)){var c=a.value;a.setAttribute(\u0026quot;type\u0026quot;,b),c\u0026amp;\u0026amp;(a.value=c);return b}}},tabIndex:{get:function(a){var c=a.getAttributeNode(\u0026quot;tabIndex\u0026quot;);return c\u0026amp;\u0026amp;c.specified?parseInt(c.value,10):r.test(a.nodeName)||s.test(a.nodeName)\u0026amp;\u0026amp;a.href?0:b}},value:{get:function(a,b){if(v\u0026amp;\u0026amp;f.nodeName(a,\u0026quot;button\u0026quot;))return v.get(a,b);return b in a?a.value:null},set:function(a,b,c){if(v\u0026amp;\u0026amp;f.nodeName(a,\u0026quot;button\u0026quot;))return v.set(a,b,c);a.value=b}}},propFix:{tabindex:\u0026quot;tabIndex\u0026quot;,readonly:\u0026quot;readOnly\u0026quot;,\u0026quot;for\u0026quot;:\u0026quot;htmlFor\u0026quot;,\u0026quot;class\u0026quot;:\u0026quot;className\u0026quot;,maxlength:\u0026quot;maxLength\u0026quot;,cellspacing:\u0026quot;cellSpacing\u0026quot;,cellpadding:\u0026quot;cellPadding\u0026quot;,rowspan:\u0026quot;rowSpan\u0026quot;,colspan:\u0026quot;colSpan\u0026quot;,usemap:\u0026quot;useMap\u0026quot;,frameborder:\u0026quot;frameBorder\u0026quot;,contenteditable:\u0026quot;contentEditable\u0026quot;},prop:function(a,c,d){var e=a.nodeType;if(!a||e===3||e===8||e===2)return b;var g,h,i=e!==1||!f.isXMLDoc(a);i\u0026amp;\u0026amp;(c=f.propFix[c]||c,h=f.propHooks[c]);return d!==b?h\u0026amp;\u0026amp;\u0026quot;set\u0026quot;in h\u0026amp;\u0026amp;(g=h.set(a,d,c))!==b?g:a[c]=d:h\u0026amp;\u0026amp;\u0026quot;get\u0026quot;in h\u0026amp;\u0026amp;(g=h.get(a,c))!==b?g:a[c]},propHooks:{}}),w={get:function(a,c){return f.prop(a,c)?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a\u0026amp;\u0026amp;(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},f.support.getSetAttribute||(f.attrFix=f.propFix,v=f.attrHooks.name=f.attrHooks.title=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d\u0026amp;\u0026amp;d.nodeValue!==\u0026quot;\u0026quot;?d.nodeValue:b},set:function(a,b,c){var d=a.getAttributeNode(c);if(d){d.nodeValue=b;return b}}},f.each([\u0026quot;width\u0026quot;,\u0026quot;height\u0026quot;],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===\u0026quot;\u0026quot;){a.setAttribute(b,\u0026quot;auto\u0026quot;);return c}}})})),f.support.hrefNormalized||f.each([\u0026quot;href\u0026quot;,\u0026quot;src\u0026quot;,\u0026quot;width\u0026quot;,\u0026quot;height\u0026quot;],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=\u0026quot;\u0026quot;+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b\u0026amp;\u0026amp;(b.selectedIndex,b.parentNode\u0026amp;\u0026amp;b.parentNode.selectedIndex)}})),f.support.checkOn||f.each([\u0026quot;radio\u0026quot;,\u0026quot;checkbox\u0026quot;],function(){f.valHooks[this]={get:function(a){return a.getAttribute(\u0026quot;value\u0026quot;)===null?\u0026quot;on\u0026quot;:a.value}}}),f.each([\u0026quot;radio\u0026quot;,\u0026quot;checkbox\u0026quot;],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)\u0026gt;=0}})});var x=/\\.(.*)$/,y=/^(?:textarea|input|select)$/i,z=/\\./g,A=/ /g,B=/[^\\w\\s.|`]/g,C=function(a){return a.replace(B,\u0026quot;\\\\$\u0026amp;\u0026quot;)};f.event={add:function(a,c,d,e){if(a.nodeType!==3\u0026amp;\u0026amp;a.nodeType!==8){if(d===!1)d=D;else if(!d)return;var g,h;d.handler\u0026amp;\u0026amp;(g=d,d=g.handler),d.guid||(d.guid=f.guid++);var i=f._data(a);if(!i)return;var j=i.events,k=i.handle;j||(i.events=j={}),k||(i.handle=k=function(a){return typeof f!=\u0026quot;undefined\u0026quot;\u0026amp;\u0026amp;(!a||f.event.triggered!==a.type)?f.event.handle.apply(k.elem,arguments):b}),k.elem=a,c=c.split(\u0026quot; \u0026quot;);var l,m=0,n;while(l=c[m++]){h=g?f.extend({},g):{handler:d,data:e},l.indexOf(\u0026quot;.\u0026quot;)\u0026gt;-1?(n=l.split(\u0026quot;.\u0026quot;),l=n.shift(),h.namespace=n.slice(0).sort().join(\u0026quot;.\u0026quot;)):(n=[],h.namespace=\u0026quot;\u0026quot;),h.type=l,h.guid||(h.guid=d.guid);var o=j[l],p=f.event.special[l]||{};if(!o){o=j[l]=[];if(!p.setup||p.setup.call(a,e,n,k)===!1)a.addEventListener?a.addEventListener(l,k,!1):a.attachEvent\u0026amp;\u0026amp;a.attachEvent(\u0026quot;on\u0026quot;+l,k)}p.add\u0026amp;\u0026amp;(p.add.call(a,h),h.handler.guid||(h.handler.guid=d.guid)),o.push(h),f.event.global[l]=!0}a=null}},global:{},remove:function(a,c,d,e){if(a.nodeType!==3\u0026amp;\u0026amp;a.nodeType!==8){d===!1\u0026amp;\u0026amp;(d=D);var g,h,i,j,k=0,l,m,n,o,p,q,r,s=f.hasData(a)\u0026amp;\u0026amp;f._data(a),t=s\u0026amp;\u0026amp;s.eventsif(!s||!t)return;c\u0026amp;\u0026amp;c.type\u0026amp;\u0026amp;(d=c.handler,c=c.type);if(!c||typeof c==\u0026quot;string\u0026quot;\u0026amp;\u0026amp;c.charAt(0)===\u0026quot;.\u0026quot;){c=c||\u0026quot;\u0026quot;;for(h in t)f.event.remove(a,h+c);return}c=c.split(\u0026quot; \u0026quot;);while(h=c[k++]){r=h,q=null,l=h.indexOf(\u0026quot;.\u0026quot;)\u0026lt;0,m=[],l||(m=h.split(\u0026quot;.\u0026quot;),h=m.shift(),n=new RegExp(\u0026quot;(^|\\\\.)\u0026quot;+f.map(m.slice(0).sort(),C).join(\u0026quot;\\\\.(?:.*\\\\.)?\u0026quot;)+\u0026quot;(\\\\.|$)\u0026quot;)),p=t[h];if(!p)continue;if(!d){for(j=0;j=0\u0026amp;\u0026amp;(h=h.slice(0,-1),j=!0),h.indexOf(\u0026quot;.\u0026quot;)\u0026gt;=0\u0026amp;\u0026amp;(i=h.split(\u0026quot;.\u0026quot;),h=i. shift(),i.sort());if(!!e\u0026amp;\u0026amp;!f.event.customEvent[h]||!!f.event.global[h]){c=typeof c==\u0026quot;object\u0026quot;?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.exclusive=j,c.namespace=i.join(\u0026quot;.\u0026quot;),c.namespace_re=new RegExp(\u0026quot;(^|\\\\.)\u0026quot;+i.join(\u0026quot;\\\\.(?:.*\\\\.)?\u0026quot;)+\u0026quot;(\\\\.|$)\u0026quot;);if(g||!e)c.preventDefault(),c.stopPropagation();if(!e){f.each(f.cache,function(){var a=f.expando,b=this[a];b\u0026amp;\u0026amp;b.events\u0026amp;\u0026amp;b.events[h]\u0026amp;\u0026amp;f.event.trigger(c,d,b.handle.elem)});return}if(e.nodeType===3||e.nodeType===8)return;c.result=b,c.target=e,d=d!=null?f.makeArray(d):[],d.unshift(c);var k=e,l=h.indexOf(\u0026quot;:\u0026quot;)\u0026lt;0?\u0026quot;on\u0026quot;+h:\u0026quot;\u0026quot;;do{var m=f._data(k,\u0026quot;handle\u0026quot;);c.currentTarget=k,m\u0026amp;\u0026amp;m.apply(k,d),l\u0026amp;\u0026amp;f.acceptData(k)\u0026amp;\u0026amp;k[l]\u0026amp;\u0026amp;k[l].apply(k,d)===!1\u0026amp;\u0026amp;(c.result=!1,c.preventDefault()),k=k.parentNode||k.ownerDocument||k===c.target.ownerDocument\u0026amp;\u0026amp;a}while(k\u0026amp;\u0026amp;!c.isPropagationStopped());if(!c.isDefaultPrevented()){var n,o=f.event.special[h]||{};if((!o._default||o._default.call(e.ownerDocument,c)===!1)\u0026amp;\u0026amp;(h!==\u0026quot;click\u0026quot;||!f.nodeName(e,\u0026quot;a\u0026quot;))\u0026amp;\u0026amp;f.acceptData(e)){try{l\u0026amp;\u0026amp;e[h]\u0026amp;\u0026amp;(n=e[l],n\u0026amp;\u0026amp;(e[l]=null),f.event.triggered=h,e[h]())}catch(p){}n\u0026amp;\u0026amp;(e[l]=n),f.event.triggered=b}}return c.result}},handle:function(c){c=f.event.fix(c||a.event);var d=((f._data(this,\u0026quot;events\u0026quot;)||{})[c.type]||[]).slice(0),e=!c.exclusive\u0026amp;\u0026amp;!c.namespace,g=Array.prototype.slice.call(arguments,0);g[0]=c,c.currentTarget=this;for(var h=0,i=d.length;h _-1?f.map(a.options,function(a){return a.selected}).join(\u0026quot;-\u0026quot;):\u0026quot;\u0026quot;:f.nodeName(a,\u0026quot;select\u0026quot;) \u0026amp;\u0026amp;(c=a.selectedIndex);return c},J=function(c){var d=c.target,e,g;if(!!y.test(d.nodeName)\u0026amp;\u0026amp;!d.readOnly){e=f._data(d,\u0026quot;_change_data\u0026quot;),g=I(d),(c.type!==\u0026quot;focusout\u0026quot;||d.type!==\u0026quot;radio\u0026quot;)\u0026amp;\u0026amp;f._data(d,\u0026quot;_change_data\u0026quot;,g);if(e===b||g===e)return;if(e!=null||g)c.type=\u0026quot;change\u0026quot;,c.liveFired=b,f.event.trigger(c,arguments[1],d)}};f.event.special.change={filters:{focusout:J,beforedeactivate:J,click:function(a){var b=a.target,c=f.nodeName(b,\u0026quot;input\u0026quot;)?b.type:\u0026quot;\u0026quot;;(c===\u0026quot;radio\u0026quot;||c===\u0026quot;checkbox\u0026quot;||f.nodeName(b,\u0026quot;select\u0026quot;))\u0026amp;\u0026amp;J.call(this,a)},keydown:function(a){var b=a.target,c=f.nodeName(b,\u0026quot;input\u0026quot;)?b.type:\u0026quot;\u0026quot;;(a.keyCode===13\u0026amp;\u0026amp;!f.nodeName(b,\u0026quot;textarea\u0026quot;)||a.keyCode===32\u0026amp;\u0026amp;(c===\u0026quot;checkbox\u0026quot;||c===\u0026quot;radio\u0026quot;)||c===\u0026quot;select-multiple\u0026quot;)\u0026amp;\u0026amp;J.call(this,a)},beforeactivate:function(a){var b=a.target;f._data(b,\u0026quot;_change_data\u0026quot;,I(b))}},setup:function(a,b){if(this.type===\u0026quot;file\u0026quot;)return!1;for(var c in H)f.event.add(this,c+\u0026quot;.specialChange\u0026quot;,H[c]);return y.test(this.nodeName)},teardown:function(a){f.event.remove(this,\u0026quot;.specialChange\u0026quot;);return y.test(this.nodeName)}},H=f.event.special.change.filters,H.focus=H.beforeactivate}f.support.focusinBubbles||f.each({focus:\u0026quot;focusin\u0026quot;,blur:\u0026quot;focusout\u0026quot;},function(a,b){function e(a){var c=f.event.fix(a);c.type=b,c.originalEvent={},f.event.trigger(c,null,c.target),c.isDefaultPrevented()\u0026amp;\u0026amp;a.preventDefault()}var d=0;f.event.special[b]={setup:function(){d++===0\u0026amp;\u0026amp;c.addEventListener(a,e,!0)},teardown:function(){--d===0\u0026amp;\u0026amp;c.removeEventListener(a,e,!0)}}}),f.each([\u0026quot;bind\u0026quot;,\u0026quot;one\u0026quot;],function(a,c){f.fn[c]=function(a,d,e){var g;if(typeof a==\u0026quot;object\u0026quot;){for(var h in a)this[c](h,d,a[h],e);return this}if(arguments.length===2||d===!1)e=d,d=b;c===\u0026quot;one\u0026quot;?(g=function(a){f(this).unbind(a,g);return e.apply(this,arguments)},g.guid=e.guid||f.guid++):g=e;if(a===\u0026quot;unload\u0026quot;\u0026amp;\u0026amp;c!==\u0026quot;one\u0026quot;)this.one(a,d,e);else for(var i=0,j=this.length;i\u0026quot;0?this.bind(b,a,c):this.trigger(b)},f.attrFn\u0026amp;\u0026amp;(f.attrFn[b]=!0)}),function(){function u(a,b,c,d,e,f){for(var g=0,h=d.length;g0){j=i;break}}i=i[a]}d[g]=j}}}function t(a,b,c,d,e,f){for(var g=0,h=d.length;g+~,(\\[\\\\]+)+|[\u0026gt;+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g,d=0,e=Object.prototype.toString,g=!1,h=!0,i=/\\\\/g,j=/\\W/;[0,0].sort(function(){h=!1;return 0});var k=function(b,d,f,g){f=f||[],d=d||c;var h=d;if(d.nodeType!==1\u0026amp;\u0026amp;d.nodeType!==9)return[];if(!b||typeof b!=\u0026quot;string\u0026quot;)return f;var i,j,n,o,q,r,s,t,u=!0,w=k.isXML(d),x=[],y=b;do{a.exec(\u0026quot;\u0026quot;),i=a.exec(y);if(i){y=i[3],x.push(i[1]);if(i[2]){o=i[3];break}}}while(i);if(x.length\u0026gt;1\u0026amp;\u0026amp;m.exec(b))if(x.length===2\u0026amp;\u0026amp;l.relative[x[0]])j=v(x[0]+x[1],d);else{j=l.relative[x[0]]?[d]:k(x.shift(),d);while(x.length)b=x.shift(),l.relative[b]\u0026amp;\u0026amp;(b+=x.shift()),j=v(b,j)}else{!g\u0026amp;\u0026amp;x.length\u0026gt;1\u0026amp;\u0026amp;d.nodeType===9\u0026amp;\u0026amp;!w\u0026amp;\u0026amp;l.match.ID.test(x[0])\u0026amp;\u0026amp;!l.match.ID.test(x[x.length-1])\u0026amp;\u0026amp;(q=k.find(x.shift(),d,w),d=q.expr?k.filter(q.expr,q.set)[0]:q.set[0]);if(d){q=g?{expr:x.pop(),set:p(g)}:k.find(x.pop(),x.length===1\u0026amp;\u0026amp;(x[0]===\u0026quot;~\u0026quot;||x[0]===\u0026quot;+\u0026quot;)\u0026amp;\u0026amp;d.parentNode?d.parentNode:d,w),j=q.expr?k.filter(q.expr,q.set):q.set,x.length\u0026gt;0?n=p(j):u=!1;while(x.length)r=x.pop(),s=r,l.relative[r]?s=x.pop():r=\u0026quot;\u0026quot;,s==null\u0026amp;\u0026amp;(s=d),l.relative[r](n,s,w)}else n=x=[]}n||(n=j),n||k.error(r||b);if(e.call(n)===\u0026quot;[object Array]\u0026quot;)if(!u)f.push.apply(f,n);else if(d\u0026amp;\u0026amp;d.nodeType===1)for(t=0;n[t]!=null;t++)n[t]\u0026amp;\u0026amp;(n[t]===!0||n[t].nodeType===1\u0026amp;\u0026amp;k.contains(d,n[t]))\u0026amp;\u0026amp;f.push(j[t]);else for(t=0;n[t]!=null;t++)n[t]\u0026amp;\u0026amp;n[t].nodeType===1\u0026amp;\u0026amp;f.push(j[t]);else p(n,f);o\u0026amp;\u0026amp;(k(o,h,f,g),k.uniqueSort(f));return f};k.uniqueSort=function(a){if(r){g=h,a.sort(r);if(g)for(var b=1;b0},k.find=function(a,b,c){var d;if(!a)return[];for(var e=0,f=l.order.length;e\u0026quot;:function(a,b){var c,d=typeof b==\u0026quot;string\u0026quot;,e=0,f=a.length;if(d\u0026amp;\u0026amp;!j.test(b)){b=b.toLowerCase();for(;e=0)?c||d.push(h):c\u0026amp;\u0026amp;(b[g]=!1));return!1},ID:function(a){return a[1].replace(i,\u0026quot;\u0026quot;)},TAG:function(a,b){return a[1].replace(i,\u0026quot;\u0026quot;).toLowerCase()},CHILD:function(a){if(a[1]===\u0026quot;nth\u0026quot;){a[2]||k.error(a[0]),a[2]=a[2].replace(/^\\+|\\s*/g,\u0026quot;\u0026quot;);var b=/(-?)(\\d*)(?:n([+\\-]?\\d*))?/.exec(a[2]===\u0026quot;even\u0026quot;\u0026amp;\u0026amp;\u0026quot;2n\u0026quot;||a[2]===\u0026quot;odd\u0026quot;\u0026amp;\u0026amp;\u0026quot;2n+1\u0026quot;||!/\\D/.test(a[2])\u0026amp;\u0026amp;\u0026quot;0n+\u0026quot;+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]\u0026amp;\u0026amp;k.error(a[0]);a[0]=d++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(i,\u0026quot;\u0026quot;);!f\u0026amp;\u0026amp;l.attrMap[g]\u0026amp;\u0026amp;(a[1]=l.attrMap[g]),a[4]=(a[4]||a[5]||\u0026quot;\u0026quot;).replace(i,\u0026quot;\u0026quot;),a[2]===\u0026quot;~=\u0026quot;\u0026amp;\u0026amp;(a[4]=\u0026quot; \u0026quot;+a[4]+\u0026quot; \u0026quot;);return a},PSEUDO:function(b,c,d,e,f){if(b[1]===\u0026quot;not\u0026quot;)if((a.exec(b[3])||\u0026quot;\u0026quot;).length\u0026gt;1||/^\\w/.test(b[3]))b[3]=k(b[3],null,null,c);else{var g=k.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(l.match.POS.test(b[0])||l.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1\u0026amp;\u0026amp;a.type!==\u0026quot;hidden\u0026quot;},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode\u0026amp;\u0026amp;a.parentNode.selectedIndexreturn a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!k(c[3],a).length},header:function(a){return/h\\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute(\u0026quot;type\u0026quot;),c=a.type;return a.nodeName.toLowerCase()===\u0026quot;input\u0026quot;\u0026amp;\u0026amp;\u0026quot;text\u0026quot;===c\u0026amp;\u0026amp;(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()===\u0026quot;input\u0026quot;\u0026amp;\u0026amp;\u0026quot;radio\u0026quot;===a.type},checkbox:function(a){return a.nodeName.toLowerCase()===\u0026quot;input\u0026quot;\u0026amp;\u0026amp;\u0026quot;checkbox\u0026quot;===a.type},file:function(a){return a.nodeName.toLowerCase()===\u0026quot;input\u0026quot;\u0026amp;\u0026amp;\u0026quot;file\u0026quot;===a.type},password:function(a){return a.nodeName.toLowerCase()===\u0026quot;input\u0026quot;\u0026amp;\u0026amp;\u0026quot;password\u0026quot;===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b===\u0026quot;input\u0026quot;||b===\u0026quot;button\u0026quot;)\u0026amp;\u0026amp;\u0026quot;submit\u0026quot;===a.type},image:function(a){return a.nodeName.toLowerCase()===\u0026quot;input\u0026quot;\u0026amp;\u0026amp;\u0026quot;image\u0026quot;===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b===\u0026quot;input\u0026quot;||b===\u0026quot;button\u0026quot;)\u0026amp;\u0026amp;\u0026quot;reset\u0026quot;===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b===\u0026quot;input\u0026quot;\u0026amp;\u0026amp;\u0026quot;button\u0026quot;===a.type||b===\u0026quot;button\u0026quot;},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return bc[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=l.filters[e];if(f)return f(a,c,b,d);if(e===\u0026quot;contains\u0026quot;)return(a.textContent||a.innerText||k.getText([a])||\u0026quot;\u0026quot;).indexOf(b[3])\u0026gt;=0;if(e===\u0026quot;not\u0026quot;){var g=b[3];for(var h=0,i=g.length;h _=0}},ID:function(a,b){return a.nodeType===1 \u0026amp;\u0026amp;a.getAttribute(\u0026quot;id\u0026quot;)===b},TAG:function(a,b){return b===\u0026quot;*\u0026quot;\u0026amp;\u0026amp;a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(\u0026quot; \u0026quot;+(a.className||a.getAttribute(\u0026quot;class\u0026quot;))+\u0026quot; \u0026quot;).indexOf(b)\u0026gt;-1},ATTR:function(a,b){var c=b[1],d=l.attrHandle[c]?l.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+\u0026quot;\u0026quot;,f=b[2],g=b[4];return d==null?f===\u0026quot;!=\u0026quot;:f===\u0026quot;=\u0026quot;?e===g:f===\u0026quot;*=\u0026quot;?e.indexOf(g)\u0026gt;=0:f===\u0026quot;~=\u0026quot;?(\u0026quot; \u0026quot;+e+\u0026quot; \u0026quot;).indexOf(g)\u0026gt;=0:g?f===\u0026quot;!=\u0026quot;?e!==g:f===\u0026quot;^=\u0026quot;?e.indexOf(g)===0:f===\u0026quot;$=\u0026quot;?e.substr(e.length-g.length)===g:f===\u0026quot;|=\u0026quot;?e===g||e.substr(0,g.length+1)===g+\u0026quot;-\u0026quot;:!1:e\u0026amp;\u0026amp;d!==!1},POS:function(a,b,c,d){var e=b[2],f=l.setFilters[e];if(f)return f(a,c,b,d)}}},m=l.match.POS,n=function(a,b){return\u0026quot;\\\\\u0026quot;+(b-0+1)};for(var o in l.match)l.match[o]=new RegExp(l.match[o].source+/(?![^\\[]*\\])(?![^\\(]*\\))/.source),l.leftMatch[o]=new RegExp(/(^(?:.|\\r|\\n)*?)/.source+l.match[o].source.replace(/\\\\(\\d+)/g,n));var p=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(q){p=function(a,b){var c=0,d=b||[];if(e.call(a)===\u0026quot;[object Array]\u0026quot;)Array.prototype.push.apply(d,a);else if(typeof a.length==\u0026quot;number\u0026quot;)for(var f=a.length;c\u0026quot;,e.insertBefore(a,e.firstChild),c.getElementById(d)\u0026amp;\u0026amp;(l.find.ID=function(a,c,d){if(typeof c.getElementById!=\u0026quot;undefined\u0026quot;\u0026amp;\u0026amp;!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!=\u0026quot;undefined\u0026quot;\u0026amp;\u0026amp;e.getAttributeNode(\u0026quot;id\u0026quot;).nodeValue===a[1]?[e]:b:[]}},l.filter.ID=function(a,b){var c=typeof a.getAttributeNode!=\u0026quot;undefined\u0026quot;\u0026amp;\u0026amp;a.getAttributeNode(\u0026quot;id\u0026quot;);return a.nodeType===1\u0026amp;\u0026amp;c\u0026amp;\u0026amp;c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement(\u0026quot;div\u0026quot;);a.appendChild(c.createComment(\u0026quot;\u0026quot;)),a.getElementsByTagName(\u0026quot;*\u0026quot;).length\u0026gt;0\u0026amp;\u0026amp;(l.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]===\u0026quot;*\u0026quot;){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1\u0026amp;\u0026amp;d.push(c[e]);c=d}return c}),a.innerHTML=\u0026quot;\u0026quot;,a.firstChild\u0026amp;\u0026amp;typeof a.firstChild.getAttribute!=\u0026quot;undefined\u0026quot;\u0026amp;\u0026amp;a.firstChild.getAttribute(\u0026quot;href\u0026quot;)!==\u0026quot;#\u0026quot;\u0026amp;\u0026amp;(l.attrHandle.href=function(a){return a.getAttribute(\u0026quot;href\u0026quot;,2)}),a=null}(),c.querySelectorAll\u0026amp;\u0026amp;function(){var a=k,b=c.createElement(\u0026quot;div\u0026quot;),d=\u0026quot;__sizzle__\u0026quot;;b.innerHTML=\u0026quot; \u0026quot;;if(!b.querySelectorAll||b.querySelectorAll(\u0026quot;.TEST\u0026quot;).length!==0){k=function(b,e,f,g){e=e||c;if(!g\u0026amp;\u0026amp;!k.isXML(e)){var h=/^(\\w+$)|^\\.([\\w\\-]+$)|^#([\\w\\-]+$)/.exec(b);if(h\u0026amp;\u0026amp;(e.nodeType===1||e.nodeType===9)){if(h[1])return p(e.getElementsByTagName(b),f);if(h[2]\u0026amp;\u0026amp;l.find.CLASS\u0026amp;\u0026amp;e.getElementsByClassName)return p(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b===\u0026quot;body\u0026quot;\u0026amp;\u0026amp;e.body)return p([e.body],f);if(h\u0026amp;\u0026amp;h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return p([],f);if(i.id===h[3])return p([i],f)}try{return p(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1\u0026amp;\u0026amp;e.nodeName.toLowerCase()!==\u0026quot;object\u0026quot;){var m=e,n=e.getAttribute(\u0026quot;id\u0026quot;),o=n||d,q=e.parentNode,r=/^\\s*[+~]/.test(b);n?o=o.replace(/'/g,\u0026quot;\\\\$\u0026amp;\u0026quot;):e.setAttribute(\u0026quot;id\u0026quot;,o),r\u0026amp;\u0026amp;q\u0026amp;\u0026amp;(e=e.parentNode);try{if(!r||q)return p(e.querySelectorAll(\u0026quot;[id='\u0026quot;+o+\u0026quot;'] \u0026quot;+b),f)}catch(s){}finally{n||m.removeAttribute(\u0026quot;id\u0026quot;)}}}return a(b,e,f,g)};for(var e in a)k[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement(\u0026quot;div\u0026quot;),\u0026quot;div\u0026quot;),e=!1;try{b.call(c.documentElement,\u0026quot;[test!='']:sizzle\u0026quot;)}catch(f){e=!0}k.matchesSelector=function(a,c){c=c.replace(/\\=\\s*([^'\u0026quot;\\]]*)\\s*\\]/g,\u0026quot;='$1']\u0026quot;);if(!k.isXML(a))try{if(e||!l.match.PSEUDO.test(c)\u0026amp;\u0026amp;!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document\u0026amp;\u0026amp;a.document.nodeType!==11)return f}}catch(g){}return k(c,null,null,[a]).length\u0026gt;0}}}(),function(){var a=c.createElement(\u0026quot;div\u0026quot;);a.innerHTML=\u0026quot;\u0026quot;;if(!!a.getElementsByClassName\u0026amp;\u0026amp;a.getElementsByClassName(\u0026quot;e\u0026quot;).length!==0){a.lastChild.className=\u0026quot;e\u0026quot;;if(a.getElementsByClassName(\u0026quot;e\u0026quot;).length===1)return;l.order.splice(1,0,\u0026quot;CLASS\u0026quot;),l.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!=\u0026quot;undefined\u0026quot;\u0026amp;\u0026amp;!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?k.contains=function(a,b){return a!==b\u0026amp;\u0026amp;(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?k.contains=function(a,b){return!!(a.compareDocumentPosition(b)\u0026amp;16)}:k.contains=function(){return!1},k.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!==\u0026quot;HTML\u0026quot;:!1};var v=function(a,b){var c,d=[],e=\u0026quot;\u0026quot;,f=b.nodeType?[b]:b;while(c=l.match.PSEUDO.exec(a))e+=c[0],a=a.replace(l.match.PSEUDO,\u0026quot;\u0026quot;);a=l.relative[a]?a+\u0026quot;*\u0026quot;:a;for(var g=0,h=f.length;g0)for(h=g;h0:this.filter(a).length\u0026gt;0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h,i,j={},k=1;if(g\u0026amp;\u0026amp;a.length){for(d=0,e=a.length;d-1:f(g).is(h))\u0026amp;\u0026amp;c.push({selector:i,elem:g,level:k});g=g.parentNode,k++}}return c}var l=T.test(a)||typeof a!=\u0026quot;string\u0026quot;?f(a,b||this.context):0;for(d=0,e=this.length;d-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}c=c.length\u0026gt;1?f.unique(c):c;return this.pushStack(c,\u0026quot;closest\u0026quot;,a)},index:function(a){if(!a||typeof a==\u0026quot;string\u0026quot;)return f.inArray(this[0],a?f(a):this.parent().children());return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a==\u0026quot;string\u0026quot;?f(a,b):f.makeArray(a\u0026amp;\u0026amp;a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(V(c[0])||V(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b\u0026amp;\u0026amp;b.nodeType!==11?b:null},parents:function(a){return f.dir(a,\u0026quot;parentNode\u0026quot;)},parentsUntil:function(a,b,c){return f.dir(a,\u0026quot;parentNode\u0026quot;,c)},next:function(a){return f.nth(a,2,\u0026quot;nextSibling\u0026quot;)},prev:function(a){return f.nth(a,2,\u0026quot;previousSibling\u0026quot;)},nextAll:function(a){return f.dir(a,\u0026quot;nextSibling\u0026quot;)},prevAll:function(a){return f.dir(a,\u0026quot;previousSibling\u0026quot;)},nextUntil:function(a,b,c){return f.dir(a,\u0026quot;nextSibling\u0026quot;,c)},prevUntil:function(a,b,c){return f.dir(a,\u0026quot;previousSibling\u0026quot;,c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,\u0026quot;iframe\u0026quot;)?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c),g=S.call(arguments);O.test(a)||(d=c),d\u0026amp;\u0026amp;typeof d==\u0026quot;string\u0026quot;\u0026amp;\u0026amp;(e=f.filter(d,e)),e=this.length\u0026gt;1\u0026amp;\u0026amp;!U[a]?f.unique(e):e,(this.length\u0026gt;1||Q.test(d))\u0026amp;\u0026amp;P.test(a)\u0026amp;\u0026amp;(e=e.reverse());return this.pushStack(e,a,g.join(\u0026quot;,\u0026quot;))}}),f.extend({filter:function(a,b,c){c\u0026amp;\u0026amp;(a=\u0026quot;:not(\u0026quot;+a+\u0026quot;)\u0026quot;);return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g\u0026amp;\u0026amp;g.nodeType!==9\u0026amp;\u0026amp;(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1\u0026amp;\u0026amp;e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1\u0026amp;\u0026amp;++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1\u0026amp;\u0026amp;a!==b\u0026amp;\u0026amp;c.push(a);return c}});var X=/ jQuery\\d+=\u0026quot;(?:\\d+|null)\u0026quot;/g,Y=/^\\s+/,Z=/\u0026lt;(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^\u0026gt;]*)\\/\u0026gt;/ig,$=/\u0026lt;([\\w:]+)/,_=/i,ba=\u0026lt;|\u0026amp;#?\\w+;/,bb=/\u0026lt;(?:script|object|embed|option|style)/i,bc=/checked\\s*(?:[^=]|=\\s*.checked.)/i,bd=/\\/(java|ecma)script/i,be=/^\\s*\u0026lt;!(?:\\[CDATA\\[|\\-\\-)/,bf={option:[1,\u0026quot;\u0026quot;,\u0026quot;\u0026quot;],legend:[1,\u0026quot;\u0026quot;,\u0026quot;\u0026quot;],thead:[1,\u0026quot;\u0026quot;,\u0026quot;\u0026quot;],tr:[2,\u0026quot;\u0026quot;,\u0026quot;\u0026quot;],td:[3,\u0026quot;\u0026quot;,\u0026quot; \u0026quot;],col:[2,\u0026quot;\u0026quot;,\u0026quot;\u0026quot;],area:[1,\u0026quot;\u0026quot;,\u0026quot;\u0026quot;],_default:[0,\u0026quot;\u0026quot;,\u0026quot;\u0026quot;]};bf.optgroup=bf.option,bf.tbody=bf.tfoot=bf.colgroup=bf.caption=bf.thead,bf.th=bf.td,f.support.htmlSerialize||(bf._default=[1,\u0026quot;div\u0026quot;,\u0026quot;\u0026quot;]),f.fn.extend({text:function(a){if(f.isFunction(a))return this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))});if(typeof a!=\u0026quot;object\u0026quot;\u0026amp;\u0026amp;a!==b)return this.empty().append((this[0]\u0026amp;\u0026amp;this[0].ownerDocument||c).createTextNode(a));return f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode\u0026amp;\u0026amp;b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild\u0026amp;\u0026amp;a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){f(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,\u0026quot;body\u0026quot;)||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1\u0026amp;\u0026amp;this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1\u0026amp;\u0026amp;this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]\u0026amp;\u0026amp;this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,\u0026quot;before\u0026quot;,arguments)}},after:function(){if(this[0]\u0026amp;\u0026amp;this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,\u0026quot;after\u0026quot;,arguments);a.push.apply(a,f(arguments[0]).toArray());return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b\u0026amp;\u0026amp;d.nodeType===1\u0026amp;\u0026amp;(f.cleanData(d.getElementsByTagName(\u0026quot;*\u0026quot;)),f.cleanData([d])),d.parentNode\u0026amp;\u0026amp;d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1\u0026amp;\u0026amp;f.cleanData(b.getElementsByTagName(\u0026quot;*\u0026quot;));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]\u0026amp;\u0026amp;this[0].nodeType===1?this[0].innerHTML.replace(X,\u0026quot;\u0026quot;):null;if(typeof a==\u0026quot;string\u0026quot;\u0026amp;\u0026amp;!bb.test(a)\u0026amp;\u0026amp;(f.support.leadingWhitespace||!Y.test(a))\u0026amp;\u0026amp;!bf[($.exec(a)||[\u0026quot;\u0026quot;,\u0026quot;\u0026quot;])[1].toLowerCase()]){a=a.replace(Z,\u0026quot;\u0026lt;$1\u0026gt;\u0026quot;);try{for(var c=0,d=this.length;c1\u0026amp;\u0026amp;l\u0026lt;512\u0026amp;\u0026amp;i===c\u0026amp;\u0026amp;a[0].charAt(0)===\u0026quot;\u0026lt;\u0026quot;\u0026amp;\u0026amp;!bb.test(a[0])\u0026amp;\u0026amp;(f.support.checkClone||!bc.test(a[0]))\u0026amp;\u0026amp;(g=!0,h=f.fragments[a[0]],h\u0026amp;\u0026amp;h!==1\u0026amp;\u0026amp;(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g\u0026amp;\u0026amp;(f.fragments[a[0]]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:\u0026quot;append\u0026quot;,prependTo:\u0026quot;prepend\u0026quot;,insertBefore:\u0026quot;before\u0026quot;,insertAfter:\u0026quot;after\u0026quot;,replaceAll:\u0026quot;replaceWith\u0026quot;},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1\u0026amp;\u0026amp;this[0].parentNode;if(g\u0026amp;\u0026amp;g.nodeType===11\u0026amp;\u0026amp;g.childNodes.length===1\u0026amp;\u0026amp;e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h _0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j )}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d=a.cloneNode(!0),e,g,h;if((!f.support.noCloneEvent||!f.support.noCloneChecked)\u0026amp;\u0026amp;(a.nodeType===1||a.nodeType===11)\u0026amp;\u0026amp;!f.isXMLDoc(a)){bi(a,d),e=bj(a),g=bj(d);for(h=0;e[h];++h)bi(e[h],g[h])}if(b){bh(a,d);if(c){e=bj(a),g=bj(d);for(h=0;e[h];++h)bh(e[h],g[h])}}e=g=null;return d},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement==\u0026quot;undefined\u0026quot;\u0026amp;\u0026amp;(b=b.ownerDocument||b[0]\u0026amp;\u0026amp;b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k==\u0026quot;number\u0026quot;\u0026amp;\u0026amp;(k+=\u0026quot;\u0026quot;);if(!k)continue;if(typeof k==\u0026quot;string\u0026quot;)if(!ba.test(k))k=b.createTextNode(k);else{k=k.replace(Z,\u0026quot;\u0026lt;$1\u0026gt;\u0026quot;);var l=($.exec(k)||[\u0026quot;\u0026quot;,\u0026quot;\u0026quot;])[1].toLowerCase(),m=bf[l]||bf._default,n=m[0],o=b.createElement(\u0026quot;div\u0026quot;);o.innerHTML=m[1]+k+m[2];while(n--)o=o.lastChild;if(!f.support.tbody){var p=_.test(k),q=l===\u0026quot;table\u0026quot;\u0026amp;\u0026amp;!p?o.firstChild\u0026amp;\u0026amp;o.firstChild.childNodes:m[1]===\u0026quot;\u0026quot;\u0026amp;\u0026amp;!p?o.childNodes:[];for(i=q.length-1;i\u0026gt;=0;--i)f.nodeName(q[i],\u0026quot;tbody\u0026quot;)\u0026amp;\u0026amp;!q[i].childNodes.length\u0026amp;\u0026amp;q[i].parentNode.removeChild(q[i])}!f.support.leadingWhitespace\u0026amp;\u0026amp;Y.test(k)\u0026amp;\u0026amp;o.insertBefore(b.createTextNode(Y.exec(k)[0]),o.firstChild),k=o.childNodes}var r;if(!f.support.appendChecked)if(k[0]\u0026amp;\u0026amp;typeof (r=k.length)==\u0026quot;number\u0026quot;)for(i=0;i=0)return b+\u0026quot;px\u0026quot;}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return bo.test((b\u0026amp;\u0026amp;a.currentStyle?a.currentStyle.filter:a.style.filter)||\u0026quot;\u0026quot;)?parseFloat(RegExp.$1)/100+\u0026quot;\u0026quot;:b?\u0026quot;1\u0026quot;:\u0026quot;\u0026quot;},set:function(a,b){var c=a.style,d=a.currentStyle;c.zoom=1;var e=f.isNaN(b)?\u0026quot;\u0026quot;:\u0026quot;alpha(opacity=\u0026quot;+b*100+\u0026quot;)\u0026quot;,g=d\u0026amp;\u0026amp;d.filter||c.filter||\u0026quot;\u0026quot;;c.filter=bn.test(g)?g.replace(bn,e):g+\u0026quot; \u0026quot;+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;f.swap(a,{display:\u0026quot;inline-block\u0026quot;},function(){b?c=bx(a,\u0026quot;margin-right\u0026quot;,\u0026quot;marginRight\u0026quot;):c=a.style.marginRight});return c}})}),c.defaultView\u0026amp;\u0026amp;c.defaultView.getComputedStyle\u0026amp;\u0026amp;(by=function(a,c){var d,e,g;c=c.replace(bp,\u0026quot;-$1\u0026quot;).toLowerCase();if(!(e=a.ownerDocument.defaultView))return b;if(g=e.getComputedStyle(a,null))d=g.getPropertyValue(c),d===\u0026quot;\u0026quot;\u0026amp;\u0026amp;!f.contains(a.ownerDocument.documentElement,a)\u0026amp;\u0026amp;(d=f.style(a,c));return d}),c.documentElement.currentStyle\u0026amp;\u0026amp;(bz=function(a,b){var c,d=a.currentStyle\u0026amp;\u0026amp;a.currentStyle[b],e=a.runtimeStyle\u0026amp;\u0026amp;a.runtimeStyle[b],f=a.style;!bq.test(d)\u0026amp;\u0026amp;br.test(d)\u0026amp;\u0026amp;(c=f.left,e\u0026amp;\u0026amp;(a.runtimeStyle.left=a.currentStyle.left),f.left=b===\u0026quot;fontSize\u0026quot;?\u0026quot;1em\u0026quot;:d||0,d=f.pixelLeft+\u0026quot;px\u0026quot;,f.left=c,e\u0026amp;\u0026amp;(a.runtimeStyle.left=e));return d===\u0026quot;\u0026quot;?\u0026quot;auto\u0026quot;:d}),bx=by||bz,f.expr\u0026amp;\u0026amp;f.expr.filters\u0026amp;\u0026amp;(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0\u0026amp;\u0026amp;c===0||!f.support.reliableHiddenOffsets\u0026amp;\u0026amp;(a.style.display||f.css(a,\u0026quot;display\u0026quot;))===\u0026quot;none\u0026quot;},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var bB=/%20/g,bC=/\\[\\]$/,bD=/\\r?\\n/g,bE=/#.*$/,bF=/^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/mg,bG=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bH=/^(?:about|app|app\\-storage|.+\\-extension|file|widget):$/,bI=/^(?:GET|HEAD)$/,bJ=/^\\/\\//,bK=/\\?/,bL=/\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp; --- \u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;\u0026amp;  ","permalink":"http://zteo.com/posts/google-again/","tags":null,"title":"Google+ (again)"},{"categories":null,"contents":"Well, the title pretty much says it all: v1.3 is now officially out.\nIt is not a revolutionary new release, it simply fixes some bugs\n","permalink":"http://zteo.com/posts/twitterified-v13-is-out-fixes-improvements-presently-support/","tags":null,"title":"Twitterified v1.3 is out: fixes, improvements, Present.ly support"},{"categories":null,"contents":"This file exists solely to respond to /search URL with the related search layout template.\nNo content shown here is rendered, all content is based in the template layouts/page/search.html\nSetting a very low sitemap priority will tell search engines this is not important content.\nThis implementation uses Fusejs, jquery and mark.js\nInitial setup Search depends on additional output content type of JSON in config.toml ``` [outputs] home = [\u0026ldquo;HTML\u0026rdquo;, \u0026ldquo;JSON\u0026rdquo;] ```\nSearching additional fileds To search additional fields defined in front matter, you must add it in 2 places.\nEdit layouts/_default/index.JSON This exposes the values in /index.json i.e. add category ``` \u0026hellip; \u0026ldquo;contents\u0026rdquo;:{{ .Content | plainify | jsonify }} {{ if .Params.tags }}, \u0026ldquo;tags\u0026rdquo;:{{ .Params.tags | jsonify }}{{end}}, \u0026ldquo;categories\u0026rdquo; : {{ .Params.categories | jsonify }}, \u0026hellip; ```\nEdit fuse.js options to Search static/js/search.js ``` keys: [ \u0026ldquo;title\u0026rdquo;, \u0026ldquo;contents\u0026rdquo;, \u0026ldquo;tags\u0026rdquo;, \u0026ldquo;categories\u0026rdquo; ] ```\n","permalink":"http://zteo.com/search/","tags":null,"title":"Search Results"}]