
<!DOCTYPE html>
<html lang="en-us">

<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta property="og:title" content=" Wordpress Toolbar Plugin and Wordpress Prefixes: A Fix &middot;  The Nexus" />
    <meta property="og:site_name" content="The Nexus" />
    <meta property="og:url" content="http://nexus.zteo.com/posts/wordpress-toolbar-plugin-and-wordpress-prefixes-a-fix/" />

    
    <meta property="og:type" content="article" />
    <meta property="og:article:published_time" content="2009-02-17T03:23:45Z" />
    

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta name="twitter:title" content="Wordpress Toolbar Plugin and Wordpress Prefixes: A Fix" />
    
    <meta name="twitter:description" content="First of all, that&rsquo;s an awesome plugin that will allow your visitors to have a look at external links while retaining the ability to comment locally on your blog. Get it!
Unfortunately, if you have modified your Wordpress database prefix, for instance because you are using Wordpress MU or the Virtual Module, the toolbar will fail to display.
Here is my very modest fix that will make it work.
1. Open wordpress-toolbar/toolbar." />
    <meta name="twitter:url" content="http://nexus.zteo.com/posts/wordpress-toolbar-plugin-and-wordpress-prefixes-a-fix/" />
    

    <title> Wordpress Toolbar Plugin and Wordpress Prefixes: A Fix &middot;  The Nexus</title>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="preload" href="http://nexus.zteo.com//js/main.js" as="script" />
    <link rel="preload" href="http://nexus.zteo.com//css/main.css" as="style" />
    
    <link rel="preload" href="http://nexus.zteo.com//css/cfr.css" as="style" />
    <link rel="stylesheet" href="http://nexus.zteo.com//css/main.css">
    <link rel="stylesheet" href="http://nexus.zteo.com//css/cfr.css">
    <link rel="stylesheet" href="http://nexus.zteo.com//css/syntax.css">
    
    
    


    
    <meta name="description" content="Wordpress Toolbar Plugin and Wordpress Prefixes: A Fix" />
    

    
    <meta name="p:domain_verify" content=""/>
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    
    

    
    <link href="http://nexus.zteo.com/index.xml" rel="alternate" type="application/rss+xml" title="The Nexus" />
    

    
    <link rel="canonical" href="http://nexus.zteo.com/posts/wordpress-toolbar-plugin-and-wordpress-prefixes-a-fix/" />

    
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "http://nexus.zteo.com/posts/wordpress-toolbar-plugin-and-wordpress-prefixes-a-fix/"
        },
        "headline": "Wordpress Toolbar Plugin and Wordpress Prefixes: A Fix",
        "description": "Wordpress Toolbar Plugin and Wordpress Prefixes: A Fix",
        "author": {
            "@type": "Person",
            "name": " ",
            "url": "http://profiles.google.com/?rel=author",
            "image": {
              "@type": "ImageObject",
              "url": "https:",
              "height": 80,
              "width": 80
            }
        },
        "publisher": {
          "@type": "Organization",
          "@id": "http://nexus.zteo.com/",
          "name": "The Nexus",
          "url": "http://nexus.zteo.com/",
          "logo": {
            "@type": "ImageObject",
            "url": "https:",
            "height": 80,
            "width": 80
          }
        },
        
        "image": {
          "@type": "ImageObject",
          "url": "",
          "height": 80,
          "width": 80
        },
        "datePublished": "2009-02-17",
        "dateModified": "2009-02-17",
        "wordCount": 105,
        
    }
    </script>
    

    
    <script type="text/javascript">
        
        
    </script>
    

    <script type="text/javascript">
        var config = {
            baseUrl: "http:\/\/nexus.zteo.com\/"
        };
    </script>

</head>
<body class="home-template">
<div id="loader-wrapper">
    <div id="loader"></div>
</div>
<section id="wrapper" style="display: none;">
    <div id="ajax-container">
        <nav id="nav" class="nav">
            <div class="nav-logo">
                <a href="http://nexus.zteo.com/">
                    
                    The Nexus
                    
                </a>
            </div>
            <div id="main-menu" class="nav-menu">
                
                
                <a id="search-button" onclick="$('#search-form').toggle();" title="Search"><i class="fa fa-search"></i></a>
                <form id="search-form" method="get" role="search" action="https://google.com/search">
                    <input type="hidden" name="as_sitesearch" value="http://nexus.zteo.com/">
                    <input type="text" name="q" maxlength="255" placeholder="Search..." class="form-control">
                    <input type="submit" value="Search">
                </form>
                
                
                
                
            </div>
        </nav>


<main class="content" role="main">
    <article class="post post-with-bg">
        <div class="inner">

            <div id="push">

                <header class="post-header">
                
                    <span class="post-meta">
                        <span class="post-date">17 Feb 2009</span> <span class="reading-time">| <span class="estimated-reading-time">1 min.</span> (<span class="word-count">105</span> words)</span></span>
                    </span>
                <div class="clear"></div>
                
                <h1 class="post-title">Wordpress Toolbar Plugin and Wordpress Prefixes: A Fix</h1>
              </header>

              <section class="post-content">
                
                  <p><a href="http://www.flickr.com/photos/96878569@N00/1350963678/"><img src="http://farm2.static.flickr.com/1276/1350963678_6a230ad476_s.jpg" alt="Bandaid" /></a>First of all, that&rsquo;s an awesome plugin that will allow your visitors
to have a look at external links while retaining the ability to comment
locally on your blog. <a href="http://abhinavsingh.com/blog/2009/02/wordpress-toolbar-plugin/">Get it</a>!</p>

<p>Unfortunately, if you have modified your Wordpress database prefix, for
instance because you are using Wordpress MU or the <a href="http://nexus.zteo.com/2009/02/13/fixing-permissions-after-a-wordpress-prefix-change/">Virtual Module</a>, the toolbar will fail to display.</p>

<p>Here is my very modest fix that will make it work.</p>

<p>1. Open wordpress-toolbar/toolbar.php</p>

<p>2. Find, near the top of the file:</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php">$resultset = $wpdb-&gt;get_results(&#34;SELECT * FROM wp_options where option_name in (&#39;wordpress_toolbar_social&#39;,&#39;wordpress_toolbar_excludedomains&#39;,&#39;wordpress_toolbar_skin&#39;,&#39;wordpress_toolbar_custom&#39;)&#34;);  </code></pre></div>
<p>Replace with:</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php">$resultset = $wpdb-&gt;get_results(&#34;SELECT * FROM {$wpdb-&gt;options} where option_name in (&#39;wordpress_toolbar_social&#39;,&#39;wordpress_toolbar_excludedomains&#39;,&#39;wordpress_toolbar_skin&#39;,&#39;wordpress_toolbar_custom&#39;)&#34;);  </code></pre></div>
<p>3. That&rsquo;s it!</p>

              </section>

              <footer class="post-footer">
                  <div class="post-tags">
            
                  </div>
                
              </footer>

            
                <aside class="post-comments">
    
    
    
</aside>

            
            </div>

            <nav class="post-nav">
                
                    <a class="post-nav-item post-nav-next" href="http://nexus.zteo.com/posts/php-classes-and-javascript-s2ajax-says-hi/">
                        <section class="post-nav-teaser">
                            <span class="post-nav-icon"><i class="fa fa-chevron-left"></i></span>
                            <span class="post-nav-info">
                                <h4 class="post-nav-title">PHP classes and Javascript: S2ajax says &#34;hi()&#34;</h4>
                            </span>
                        </section>
                    </a>
                
                
                    <a class="post-nav-item post-nav-prev" href="http://nexus.zteo.com/posts/fixing-permissions-after-a-wordpress-prefix-change/">
                        <section class="post-nav-teaser">
                            <span class="post-nav-icon"><i class="fa fa-chevron-right"></i></span>
                            <span class="post-nav-info">
                                <h4 class="post-nav-title">Fixing permissions after a Wordpress prefix change</h4>
                            </span>
                        </section>
                    </a>
                
                <div class="clear"></div>
            </nav>

        </div>
    </article>
</main>

                <div id="body-class" style="display: none;"></div>
                <footer id="footer">
                    <section class="credits">
                        <span class="credits-license"><i class="fa fa-copyright"></i>2018 The Nexus
                    </span>
                    </section>
                </footer>
                

                

                
                <div class="overlay"></div>
            </div>
        </section>

<video autoplay loop id="video-background" muted plays-inline>
<source src="http://nexus.zteo.com/static/vid/hd0198.mp4" type="video/mp4">
</video>



    <script async src="http://nexus.zteo.com//js/main.js"></script>



  <noscript><link rel="stylesheet" href="http://nexus.zteo.com//css/main.css"></noscript>
</body>
</html>

