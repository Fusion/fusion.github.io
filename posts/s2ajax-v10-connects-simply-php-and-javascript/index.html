
<!DOCTYPE html>
<html lang="en-us">

<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta property="og:title" content=" S2ajax v1.0 connects simply PHP and JavaScript &middot;  The Nexus" />
    <meta property="og:site_name" content="The Nexus" />
    <meta property="og:url" content="http://zteo.com/posts/s2ajax-v10-connects-simply-php-and-javascript/" />

    
    <meta property="og:type" content="article" />
    <meta property="og:article:published_time" content="2009-10-07T08:18:49Z" />
    

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta name="twitter:title" content="S2ajax v1.0 connects simply PHP and JavaScript" />
    
    <meta name="twitter:image" content="http://zteo.com/images/33b3049c-7751-42bd-afec-f00aef8afed6.png" />
    
    <meta name="twitter:description" content="Here comes S2ajax v1.0!And it was long overdue. Six months already since I posted S2ajax says &ldquo;hi()&rdquo; I can hardly believe it." />
    <meta name="twitter:url" content="http://zteo.com/posts/s2ajax-v10-connects-simply-php-and-javascript/" />
    

    <title> S2ajax v1.0 connects simply PHP and JavaScript &middot;  The Nexus</title>

    <link rel="preload" href="http://zteo.com//css/fontawesome-all.min.css" as="style" />
    <link rel="preload" href="http://zteo.com//js/main.js" as="script" />
    <link rel="preload" href="http://zteo.com//css/main.css" as="style" />
    
    <link href="/mermaid/mermaid.cfr.css?1604186290" type="text/css" rel="stylesheet" />
    
    
    <link rel="webmention" href="https://webmention.io/zteo.com/webmention" />
    <link rel="pingback" href="https://webmention.io/zteo.com/xmlrpc" />
    
    
    <link rel="preload" href="http://zteo.com//css/cfr.css" as="style" />
    <link rel="stylesheet" href="http://zteo.com//css/main.css">
    <link rel="stylesheet" href="http://zteo.com//css/pure-min.css">
    <link rel="preload" href="http://zteo.com//js/basicLightbox.min.js" as="script" />
    <link rel="stylesheet" href="http://zteo.com//css/basicLightbox.min.css">
    <link rel="stylesheet" href="http://zteo.com//css/fontawesome-all.min.css" />
    <link rel="stylesheet" href="http://zteo.com//css/cfr.css">
    <link rel="stylesheet" href="http://zteo.com//css/syntax.css">
    
    
    


    
    <meta name="description" content="S2ajax v1.0 connects simply PHP and JavaScript" />
    

    
    <meta name="p:domain_verify" content=""/>
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    
    

    
    <link href="http://zteo.com/index.xml" rel="alternate" type="application/rss+xml" title="The Nexus" />
    

    
    <link rel="canonical" href="http://zteo.com/posts/s2ajax-v10-connects-simply-php-and-javascript/" />

    
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "http:\/\/zteo.com\/posts\/s2ajax-v10-connects-simply-php-and-javascript\/"
        },
        "headline": "S2ajax v1.0 connects simply PHP and JavaScript",
        "description": "S2ajax v1.0 connects simply PHP and JavaScript",
        "author": {
            "@type": "Person",
            "name": " ",
            "url": "http://profiles.google.com/?rel=author",
            "image": {
              "@type": "ImageObject",
              "url": "https:",
              "height": 80,
              "width": 80
            }
        },
        "publisher": {
          "@type": "Organization",
          "@id": "http:\/\/zteo.com\/",
          "name": "The Nexus",
          "url": "http:\/\/zteo.com\/",
          "logo": {
            "@type": "ImageObject",
            "url": "https:",
            "height": 80,
            "width": 80
          }
        },
        "image": {
          "@type": "ImageObject",
          "url": "http:\/\/zteo.com\/33b3049c-7751-42bd-afec-f00aef8afed6.png",
          "height": 133,
          "width": 200
        },
        "datePublished": "2009-10-07",
        "dateModified": "2009-10-07",
        "wordCount":  429 ,
        
    }
    </script>
    

    
    <script type="text/javascript">
        
        
    </script>
    

    <script type="text/javascript">
        var config = {
            baseUrl: "http:\/\/zteo.com\/"
        };
    </script>

</head>
<body class="home-template">
<div id="loader-wrapper">
    <div id="loader"></div>
</div>
<section id="wrapper" style="display: none;">
    <div id="ajax-container">
        <nav id="nav" class="nav">
            <div class="nav-logo">
                <a href="http://zteo.com/">
                    
                    The Nexus
                    
                </a>
            </div>

            <nav id="nav2" role="navigation">
                <a href="#nav" title="Show navigation">Show navigation</a>
                <a href="#" title="Hide navigation">Hide navigation</a>
                <ul class="clearfix">
                    <li><a href="http://zteo.com/">BLOG</a></li>
                    <li>
                        <a href="http://zteo.com/meta/about" aria-haspopup="true"><span>ABOUT</span></a>
                        <ul>
                            <li><a href="http://zteo.com/meta/egosurfing">Ego Surfing</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="http://zteo.com/projects/projects-list" aria-haspopup="true"><span>PROJECTS</span></a>
                        <ul>
                            <li><a href="http://zteo.com/projects/n2">n2</a></li>
                            <li><a href="http://zteo.com/projects/s2ajax">S2ajax</a></li>
                            <li><a href="http://zteo.com/projects/condo">Condo</a></li>
                            <li><a href="http://zteo.com/projects/ezedit">ezEdit</a></li>
                            <li><a href="http://zteo.com/projects/freeblog">FreeBlog - Air</a></li>
                            <li><a href="http://zteo.com/projects/tooredo-alpha">Tooredo Alpha</a></li>
                            <li><a href="http://zteo.com/projects/tools">Tools</a></li>
                            <li><a href="http://zteo.com/projects/journler-again">Journlr, Again!</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>


            <div id="main-menu" class="nav-menu">
                
                
                <a id="search-button" onclick="$('#search-form').toggle();" title="Search"><i class="fa fa-search"></i></a>
                <form id="search-form" method="get" role="search" action="https://google.com/search">
                    <input type="hidden" name="as_sitesearch" value="http://zteo.com/">
                    <input type="text" name="q" maxlength="255" placeholder="Search..." class="form-control">
                    <input type="submit" value="Search">
                </form>
                
                
                
                
            </div>
        </nav>


<style>
@media(min-width:1024px) {
	main {
		display: grid;
		grid-template-columns: 100% 100%;
	}
}

</style>

<main class="content" role="main">
    <article class="post post-with-bg">
        <div class="inner">

            <div id="push">

                <header class="post-header">
                
                    <span class="post-meta">
                        <span class="post-date">7 Oct 2009</span> <span class="reading-time">| <span class="estimated-reading-time">3 min.</span> (<span class="word-count">429</span> words)</span></span>
                    </span>
                <div class="clear"></div>
                
                <h1 class="post-title">S2ajax v1.0 connects simply PHP and JavaScript</h1>
              </header>

              <section class="post-content">
                

                
                
                


                
                    <main>
                        <div class="content blog-content">
                        <p><img src="/images/S2ajax2.png" alt="S2ajax"  />
Here comes S2ajax v1.0!<br>
And it was long overdue. Six months already since I posted <a href="/2009/03/02/php-classes-and-javascript-s2ajax-says-hi/"><em>S2ajax says &ldquo;hi()&quot;</em></a> I can hardly
believe it.</p>
<p>What I think of as v1.0&rsquo;s main feature is that it is now possible to simply
<strong>export classes</strong> in PHP and these classes can be instantiated in JavaScript.
Whenever these instances are modified through asynchronous method calls, these
modifications are transparently <strong>persisted</strong> server-side.</p>
<h1 id="the-concept">The concept</h1>
<p>Is it a PHP class? Is it a JavaScript class? Why, it&rsquo;s both! The class is
defined in PHP on the server. Instances of the class are created on demand
using JavaScript on the client. Whatever modifications are made to an instance
are serialized on the server.<br>
You can create a complex application using as many classes and instances as
you need.</p>
<p><img src="/images/100.png" alt="100"  />
</p>
<h1 id="under-the-hood">Under the hood</h1>
<p>The PHP class is exported; the proxy JavaScript code is generated.<br>
Whenever the client needs to access one of the class&rsquo; properties/methods, the
proxy <strong>transparently</strong> talks to the class; the class lives server-side.</p>
<p><img src="/images/99.png" alt="99"  />
</p>
<h1 id="the-clients-point-of-view">The Client&rsquo;s point of view</h1>
<p>An arbitrary number of <strong>instances</strong> of the class can be created in
JavaScript.<br>
The only hint that you are using a client-server architecture is the fact that
when invoking a method, its return value is obtained through a callback. This
mechanism allows your client interface to remain responsive while the server
is preparing a response.</p>
<p><img src="/images/101.png" alt="101"  />
</p>
<h1 id="the-servers-point-of-view">The server&rsquo;s point of view</h1>
<p>S2ajax automatically persists your instances&rsquo; <strong>state</strong> and <strong>data</strong> between
consecutive asynchronous calls. You still get the benefits of the &ldquo;shared
nothing&rdquo; approach of PHP but complex objects can be manipulated through an
unlimited number of clients requests.</p>
<p><img src="/images/102.png" alt="102"  />
</p>
<h1 id="a-code-sample">A code sample</h1>
<h4 id="server-side">Server-side</h4>
<p>Let&rsquo;s create a class that will increment an instance variable every time a
method is invoked. Let&rsquo;s keep it as simple as possible:</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php">class CounterTester  
{  
    private $counter;

    function __construct() {  
        $this-&gt;counter = 0;  
    }

    public function increment_counter() {  
        $this-&gt;counter++;  
        return $this-&gt;counter;  
    }  
}  
</code></pre></div><p>Clearly, every time <strong>increment_counter()</strong> is invoked, <em>$counter</em> will be
incremented and its new value returned.</p>
<h4 id="client-side">Client-Side</h4>
<p>First, an instance of our class is created. Then, when a user click on the
button labeled &lsquo;Increment counter&rsquo;, the instance&rsquo;s <strong>increment_counter()</strong>
method will be invoked and the new <em>$counter</em> value returned to our callback
and displayed.</p>
<p>Increment counter</p>
<p>Note that we could create as many instances of our class as we wish and
provided we display the matching buttons, we could independently increment
multiple counters.</p>
<h1 id="get-it-now">Get it now!</h1>
<p>Click our valiant friend &ldquo;Octocat&rdquo;, artistically represented below, to go to
S2ajax&rsquo;s Github page. If you just wish to use the library, look for the
[Download] button:</p>
<p><a href="http://github.com/Fusion/s2ajax"><img src="https://avatars2.githubusercontent.com/u/6265563?s=460&amp;v=4" alt="Git!"  />
</a></p>
<p>Git!</p>

                        </div>
                        <aside class="lg:block tableOfContentContainer border-indigo-200" id="tableOfContentContainer">
                        <h3>Contents</h3>
                        <nav id="TableOfContents">
  <ul>
    <li><a href="#the-concept">The concept</a></li>
    <li><a href="#under-the-hood">Under the hood</a></li>
    <li><a href="#the-clients-point-of-view">The Client&rsquo;s point of view</a></li>
    <li><a href="#the-servers-point-of-view">The server&rsquo;s point of view</a></li>
    <li><a href="#a-code-sample">A code sample</a>
      <ul>
        <li>
          <ul>
            <li>
              <ul>
                <li><a href="#server-side">Server-side</a></li>
                <li><a href="#client-side">Client-Side</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#get-it-now">Get it now!</a></li>
  </ul>
</nav>
                        </aside>
                    </main>
                
              </section>

              
              <script>talkyardServerUrl='https:\/\/comments-for-nexus-zteo-com.talkyard.net';</script>
              <script async defer src="https://c1.ty-cdn.net/-/talkyard-comments.min.js"></script>
              
              <div class="talkyard-comments" data-discussion-id="" style="margin-top: 45px;">
                  <noscript>Please enable Javascript to view comments.</noscript>
                  <p style="margin-top: 25px; opacity: 0.9; font-size: 96%">Comments powered by
                  <a href="https://www.talkyard.io">Talkyard</a>.</p>
              </div>
              

              <footer class="post-footer">
                  <div class="post-tags">
            
                  </div>
                
              </footer>

            
                <aside class="post-comments">
    
    
    
</aside>

            
            </div>

            <nav class="post-nav">
                
                    <a class="post-nav-item post-nav-next" href="http://zteo.com/posts/clicdev-display-last-24-hours-visitors/">
                        <section class="post-nav-teaser">
                            <span class="post-nav-icon"><i class="fa fa-chevron-left"></i></span>
                            <span class="post-nav-info">
                                <h4 class="post-nav-title">ClicDev: display last 24 hours visitors</h4>
                            </span>
                        </section>
                    </a>
                
                
                    <a class="post-nav-item post-nav-prev" href="http://zteo.com/posts/php-pdo-class-and-xamppexotic-mysql-configurations/">
                        <section class="post-nav-teaser">
                            <span class="post-nav-icon"><i class="fa fa-chevron-right"></i></span>
                            <span class="post-nav-info">
                                <h4 class="post-nav-title">PHP PDO class and XAMPP/&#34;exotic&#34; MySQL configurations</h4>
                            </span>
                        </section>
                    </a>
                
                <div class="clear"></div>
            </nav>

        </div>
    </article>
</main>
<script>
window.addEventListener('DOMContentLoaded', () => {
    const observerForTableOfContentActiveState = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            const id = entry.target.getAttribute('id');

            if (entry.intersectionRatio > 0) {
                clearActiveStatesInTableOfContents();
                document.querySelector(`aside nav li a[href="#${id}"]`).parentElement.classList.add('active');
            }
        });
    });

    document.querySelectorAll('h1[id],h2[id],h3[id],h4[id]').forEach((section) => {
        observerForTableOfContentActiveState.observe(section);
    });
});

function clearActiveStatesInTableOfContents() {
    document.querySelectorAll('aside nav li').forEach((section) => {
        section.classList.remove('active');
    });
}
</script>

                <div id="body-class" style="display: none;"></div>
                <footer id="footer">
                    <section class="credits">
                        <span class="credits-license"><i class="fa fa-copyright"></i>2020 The Nexus
                    </span>
                    </section>
                </footer>
                

                

                
                <div class="overlay"></div>
            </div>
        </section>

<video autoplay loop id="video-background" muted plays-inline>
<source src="http://zteo.com/images/hd0198.mp4" type="video/mp4">
</video>

<script src="/mermaid/mermaid.js?1604186290"></script>
<script async src="http://zteo.com//js/main.js"></script>
<script async src="http://zteo.com//js/basicLightbox.min.js"></script>

<script>


function defer(method) {
    if (window.jQuery) {
        method();
    } else {
        setTimeout(function() { defer(method) }, 50);
    }
}
defer(function() {
    jQuery.fn.doubleTapToGo = function( params ) {
        if( !( 'ontouchstart' in window ) &&
            !navigator.msMaxTouchPoints &&
            !navigator.userAgent.toLowerCase().match( /windows phone os 7/i ) ) return false;

        this.each( function()
        {
            var curItem = false;

            jQuery( this ).on( 'click', function( e )
            {
                var item = jQuery( this );
                if( item[ 0 ] != curItem[ 0 ] )
                {
                    e.preventDefault();
                    curItem = item;
                }
            });

            jQuery( document ).on( 'click touchstart MSPointerDown', function( e )
            {
                var resetItem = true,
                    parents	  = jQuery( e.target ).parents();

                for( var i = 0; i < parents.length; i++ )
                    if( parents[ i ] == curItem[ 0 ] )
                        resetItem = false;

                if( resetItem )
                    curItem = false;
            });
        });
        return this;
    };
    jQuery( '#nav li:has(ul)' ).doubleTapToGo();
});
</script>

<script>
    mermaid.initialize({ startOnLoad: true });
</script>




  <noscript><link rel="stylesheet" href="http://zteo.com//css/main.css"></noscript>
</body>
</html>

