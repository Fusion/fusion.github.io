
<!DOCTYPE html>
<html lang="en-us">

<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta property="og:title" content=" SuggestEditText: Android auto-suggest component &middot;  The Nexus" />
    <meta property="og:site_name" content="The Nexus" />
    <meta property="og:url" content="https://zteo.com/posts/suggestedittext-android-auto-suggest-component/" />

    
    <meta property="og:type" content="article" />
    <meta property="og:article:published_time" content="2010-09-21T06:52:06Z" />
    

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta name="twitter:title" content="SuggestEditText: Android auto-suggest component" />
    
    <meta name="twitter:image" content="https://zteo.com/images/dbd04734-a4b3-45d1-a7e4-beca8d44c7a2.png" />
    
    <meta name="twitter:description" content="My first Android application, SplitAndTip, makes splitting a restaurant check with your friends very easy.One of its key features is that I wanted the user to be able to change any parameter without feeling like the program gets in their way. For instance, you can open the ‘Tax &amp; Tip’ drawer and quickly change these values.However, like many, I live and work at the edge of a couple counties and the county tax goes from 8.25% to a whopping 9.75% (L.A. County of course!)It is a tedious proposition to re-enter the same two percentages every time I cross the “border.”On a desktop computer, this is usually addressed through the use of a drop-down list. However the Android UI does not have room for a full-size selection component, unless you add more steps by popping one up every time you wish to adjust a value. This is no friendly user interface.The solution I found is a text field that will provide suggestions based on past values, while remaining in the text field itself." />
    <meta name="twitter:url" content="https://zteo.com/posts/suggestedittext-android-auto-suggest-component/" />
    

    <title> SuggestEditText: Android auto-suggest component &middot;  The Nexus</title>

    <link rel="preload" href="https://zteo.com//css/fontawesome-all.min.css" as="style" />
    <link rel="preload" href="https://zteo.com//js/main.js" as="script" />
    <link rel="preload" href="https://zteo.com//css/main.css" as="style" />
    
    <link href="/mermaid/mermaid.cfr.css?1630106372" type="text/css" rel="stylesheet" />
    
    
    <link rel="webmention" href="https://webmention.io/zteo.com/webmention" />
    <link rel="pingback" href="https://webmention.io/zteo.com/xmlrpc" />
    
    
    <link rel="preload" href="https://zteo.com//css/cfr.css" as="style" />
    <link rel="stylesheet" href="https://zteo.com//css/main.css">
    <link rel="stylesheet" href="https://zteo.com//css/pure-min.css">
    <link rel="preload" href="https://zteo.com//js/basicLightbox.min.js" as="script" />
    <link rel="stylesheet" href="https://zteo.com//css/basicLightbox.min.css">
    <link rel="stylesheet" href="https://zteo.com//css/fontawesome-all.min.css" />
    <link rel="stylesheet" href="https://zteo.com//css/cfr.css">
    <link rel="stylesheet" href="https://zteo.com//css/syntax.css">
    
    
    


    
    <meta name="description" content="SuggestEditText: Android auto-suggest component" />
    

    
    <meta name="p:domain_verify" content=""/>
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    
    

    
    <link href="https://zteo.com/index.xml" rel="alternate" type="application/rss+xml" title="The Nexus" />
    

    
    <link rel="canonical" href="https://zteo.com/posts/suggestedittext-android-auto-suggest-component/" />

    
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https:\/\/zteo.com\/posts\/suggestedittext-android-auto-suggest-component\/"
        },
        "headline": "SuggestEditText: Android auto-suggest component",
        "description": "SuggestEditText: Android auto-suggest component",
        "author": {
            "@type": "Person",
            "name": " ",
            "url": "http://profiles.google.com/?rel=author",
            "image": {
              "@type": "ImageObject",
              "url": "https:",
              "height": 80,
              "width": 80
            }
        },
        "publisher": {
          "@type": "Organization",
          "@id": "https:\/\/zteo.com\/",
          "name": "The Nexus",
          "url": "https:\/\/zteo.com\/",
          "logo": {
            "@type": "ImageObject",
            "url": "https:",
            "height": 80,
            "width": 80
          }
        },
        "image": {
          "@type": "ImageObject",
          "url": "https:\/\/zteo.com\/dbd04734-a4b3-45d1-a7e4-beca8d44c7a2.png",
          "height": 133,
          "width": 200
        },
        "datePublished": "2010-09-21",
        "dateModified": "2010-09-21",
        "wordCount":  1019 ,
        
    }
    </script>
    

    
    <script type="text/javascript">
        
        
    </script>
    

    <script type="text/javascript">
        var config = {
            baseUrl: "https:\/\/zteo.com\/"
        };
    </script>

</head>
<body class="home-template">
<div id="loader-wrapper">
    <div id="loader"></div>
</div>
<section id="wrapper" style="display: none;">
    <div id="ajax-container">
        <nav id="nav" class="nav">
            <div class="nav-logo">
                <a href="https://zteo.com/">
                    
                    The Nexus
                    
                </a>
            </div>

            <nav id="nav2" role="navigation">
                <a href="#nav" title="Show navigation">Show navigation</a>
                <a href="#" title="Hide navigation">Hide navigation</a>
                <ul class="clearfix">
                    <li><a href="https://zteo.com/">BLOG</a></li>
                    <li>
                        <a href="https://zteo.com/meta/about" aria-haspopup="true"><span>ABOUT</span></a>
                        <ul>
                            <li><a href="https://zteo.com/meta/egosurfing">Ego Surfing</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="https://zteo.com/projects/projects-list" aria-haspopup="true"><span>PROJECTS</span></a>
                        <ul>
                            <li><a href="https://zteo.com/projects/n2">n2</a></li>
                            <li><a href="https://zteo.com/projects/s2ajax">S2ajax</a></li>
                            <li><a href="https://zteo.com/projects/condo">Condo</a></li>
                            <li><a href="https://zteo.com/projects/ezedit">ezEdit</a></li>
                            <li><a href="https://zteo.com/projects/freeblog">FreeBlog - Air</a></li>
                            <li><a href="https://zteo.com/projects/tooredo-alpha">Tooredo Alpha</a></li>
                            <li><a href="https://zteo.com/projects/tools">Tools</a></li>
                            <li><a href="https://zteo.com/projects/journler-again">Journlr, Again!</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>


            <div id="main-menu" class="nav-menu">
                
                
                <a id="search-button" onclick="$('#search-form').toggle();" title="Search"><i class="fa fa-search"></i></a>
                <form id="search-form" method="get" role="search" action="https://google.com/search">
                    <input type="hidden" name="as_sitesearch" value="https://zteo.com/">
                    <input type="text" name="q" maxlength="255" placeholder="Search..." class="form-control">
                    <input type="submit" value="Search">
                </form>
                
                
                
                
            </div>
        </nav>


<style>
@media(min-width:1024px) {
	main {
		display: grid;
		grid-template-columns: 100% 100%;
	}
}

</style>

<main class="content" role="main">
    <article class="post post-with-bg">
        <div class="inner">

            <div id="push">

                <header class="post-header">
                
                    <span class="post-meta">
                        <span class="post-date">21 Sep 2010</span> <span class="reading-time">| <span class="estimated-reading-time">5 min.</span> (<span class="word-count">1019</span> words)</span></span>
                    </span>
                <div class="clear"></div>
                
                <h1 class="post-title">SuggestEditText: Android auto-suggest component</h1>
              </header>

              <section class="post-content">
                

                
                
                


                
                    <main>
                        <div class="content blog-content">
                        <p><a href="/admin/blog/blogpost/133/"><img src="/images/qrcode_splitandtip.png" alt=""  />
</a>My
first Android application, <strong>SplitAndTip</strong> , makes splitting a restaurant
check with your friends very easy.<br>
One of its key features is that I wanted the user to be able to change any
parameter without feeling like the program gets in their way. For instance,
you can open the &lsquo;Tax &amp; Tip&rsquo; drawer and quickly change these values.<br>
However, like many, I live and work at the edge of a couple counties and the
county tax goes from <strong>8.25%</strong> to a whopping <strong>9.75%</strong> (L.A. County of
course!)<br>
<img src="/images/splitntip-168x300.jpg" alt=""  />
 It is a tedious
proposition to re-enter the same two percentages every time I cross the
&ldquo;border.&rdquo;<br>
On a desktop computer, this is usually addressed through the use of a <strong>drop-
down list</strong>. However the Android UI does not have <strong>room</strong> for a full-size
selection component, unless you add more steps by popping one up every time
you wish to adjust a value. This is no friendly user interface.<br>
The solution I found is a text field that will provide <strong>suggestions</strong> based
on past values, while remaining in the text field itself.</p>
<h2 id="implementation">Implementation</h2>
<p>I have created a new visual component that can be used in my XML layout file.
This new component is unimaginatively called <em>SuggestEditText</em></p>
<p><em>EditText</em> , the usual Android input component, is a thin layer on top of
<em>TextView</em> , which contains everything we need to edit, clear and validate a
text field.<br>
All we need to do is subclass <em>EditText</em> , which already has edit controls
enabled, and make it listen for update events.</p>
<p>Our component will also implement the <em>TextWatcher</em> interface: we will write a
version of <em>afterTextChanged(Editable s)</em> that performs the completion work
itself.</p>
<p>We need to <strong>load</strong> an existing completion set, if any, and <strong>update it</strong> when
necessary. I have decided to use a <em>HashSet</em> as it will transparently accept
already existing strings and not <strong>duplicate</strong> them, and it provides an API
for future improvements.</p>
<p>You can see, in this file, many calls to <em>DataStore.instance()</em>. It&rsquo;s a piece
you will need to replace with <strong>your own controller</strong>. Of course, ideally,
said controller would be injected in our constructor.</p>
<p>In res/values/attrs.xml we define an extra attribute for our new component:
<strong><em>key</em></strong><br>
This attribute will be used as a unique identified for our list of completion
strings:</p>
<p>We can then use this attribute every time we include a <em>SuggestEditText</em>
component in our XML layout:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml">xmlns:voilaweb=&#34;http://schemas.android.com/apk/res/com.voilaweb.mobile.splitandtiplite&#34;
</code></pre></div><p>[&hellip;]</p>
<p>We also accept a dedicated <strong>listener</strong> type, <em>TextChangedListener</em> , that
will be used when <strong>notifying a controller</strong> that its model needs to be
updated with the new version of our completion set.</p>
<p>Back to our <em>TextWatcher</em> interface; let&rsquo;s have a look at <em>afterTextChanged&rsquo;s</em>
implementation:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="cm">/**  
</span><span class="cm">  * Note: This callback will temporarily unregister from the listeners list  
</span><span class="cm">  * This is the cleanest way to make sure we do not go into an infinite loop;  
</span><span class="cm">  * however this is not the most efficient one.  
</span><span class="cm">  */</span>  
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">afterTextChanged</span><span class="o">(</span><span class="n">Editable</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>  
    <span class="n">String</span> <span class="n">curText</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>  
    <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">hasFocus</span><span class="o">()){</span>  
        <span class="k">if</span><span class="o">(</span><span class="n">prevText</span><span class="o">.</span><span class="na">length</span><span class="o">()</span>  <span class="o">&lt;</span> <span class="n">curText</span><span class="o">.</span><span class="na">length</span><span class="o">())</span> <span class="o">{</span>  
            <span class="kt">int</span> <span class="n">longestMatch</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span>  
            <span class="n">String</span> <span class="n">matchedValue</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>  
            <span class="n">Iterator</span> <span class="n">it</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">completions</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>  
            <span class="k">while</span><span class="o">(</span><span class="n">it</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>  
                <span class="n">String</span> <span class="n">value</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>  
                <span class="k">if</span><span class="o">(</span><span class="n">value</span><span class="o">.</span><span class="na">startsWith</span><span class="o">(</span><span class="n">curText</span><span class="o">))</span> <span class="o">{</span>  
                    <span class="kt">int</span> <span class="n">valueLen</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>  
                    <span class="k">if</span><span class="o">(</span><span class="n">valueLen</span> <span class="o">&gt;</span> <span class="n">longestMatch</span><span class="o">)</span> <span class="o">{</span>  
                        <span class="n">longestMatch</span> <span class="o">=</span> <span class="n">valueLen</span><span class="o">;</span>  
                        <span class="n">matchedValue</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>  
                    <span class="o">}</span>  
                <span class="o">}</span>  
            <span class="o">}</span>  
            <span class="k">if</span><span class="o">(</span><span class="kc">null</span> <span class="o">!=</span> <span class="n">matchedValue</span><span class="o">)</span> <span class="o">{</span>  
                <span class="kt">int</span> <span class="n">savedPos</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">getSelectionStart</span><span class="o">();</span>  
                <span class="n">unRegisterListener</span><span class="o">();</span>  
                <span class="k">this</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">matchedValue</span><span class="o">);</span>  
                <span class="n">registerListener</span><span class="o">();</span>  
                <span class="k">if</span><span class="o">(-</span><span class="n">1</span> <span class="o">!=</span> <span class="n">savedPos</span><span class="o">)</span> <span class="o">{</span>  
                    <span class="k">if</span><span class="o">(</span><span class="n">savedPos</span> <span class="o">&gt;</span> <span class="n">longestMatch</span><span class="o">)</span> <span class="o">{</span>  
                        <span class="n">savedPos</span> <span class="o">=</span> <span class="n">longestMatch</span><span class="o">;</span>  
                    <span class="o">}</span>  
                    <span class="k">this</span><span class="o">.</span><span class="na">setSelection</span><span class="o">(</span><span class="n">savedPos</span><span class="o">,</span> <span class="n">longestMatch</span><span class="o">);</span>  
                <span class="o">}</span>					  
            <span class="o">}</span>  
        <span class="o">}</span>			  
    <span class="o">}</span>  
    <span class="n">prevText</span> <span class="o">=</span> <span class="n">curText</span><span class="o">;</span>  
<span class="o">}</span>
</code></pre></div><p>We do <strong>two things</strong> in this method:</p>
<p>1. We look for an existing completion string that would match the text we
just entered; if we find one, we do not consider our search complete as, for
this component to work correctly, we need to provide the completion string
that <strong>matches</strong> our current text <strong>most closely</strong>. We retain the completion
that provides a match on the greater number of characters.</p>
<p>2. We <strong>replace</strong> our field&rsquo;s text with the matched completion string;
however, this behavior would amount to a nuisance more than anything else, if
we stopped here. After all, the user needs an easy way to tell our component
that it is mistaken. To achieve this, we simply <strong>select</strong> the section of text
that was added to what was already entered. A simple keystroke is enough to
get rid of this suggested completion.</p>
<p>Note that we only provide completion suggestions when &ldquo;moving forward&rdquo; i.e.
this method does not do anything if the user is in the process of <strong>deleting</strong>
characters. We do this by checking our new string length versus our previous
measured length.</p>
<p>Also, this field&rsquo;s text can be updated programmatically, for instance when the
field is instantiated with an existing value. To avoid our code messing with
these updates, we check that the field is currently <strong>focused</strong> before doing
anything.</p>
<p>If you are curious regarding how our completion strings are <strong>persisted</strong> ,
here is how we do this in the controller:</p>
<p>Our completion strings are, as seen before, stored as a <em>HashSet</em><br>
We store and retrieve each such set as a string. The &ldquo;Stringification&rdquo; is done
through these two methods:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">static</span> <span class="kd">public</span> <span class="n">String</span> <span class="nf">objectToString</span><span class="o">(</span><span class="n">Serializable</span> <span class="n">object</span><span class="o">)</span> <span class="o">{</span>  
    <span class="n">String</span> <span class="n">str</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">();</span>  
    <span class="k">try</span> <span class="o">{</span>  
        <span class="n">str</span> <span class="o">=</span> <span class="n">Base64</span><span class="o">.</span><span class="na">encodeObject</span><span class="o">(</span><span class="n">object</span><span class="o">);</span>  
    <span class="o">}</span>  
    <span class="k">catch</span><span class="o">(</span><span class="n">IOException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>  
<span class="c1">// here, I handle the exception  
</span><span class="c1"></span>    <span class="o">}</span>  
    <span class="k">return</span> <span class="n">str</span><span class="o">;</span>  
<span class="o">}</span>  
    
<span class="kd">static</span> <span class="kd">public</span> <span class="n">Serializable</span> <span class="nf">objectFromString</span><span class="o">(</span><span class="n">String</span> <span class="n">str</span><span class="o">)</span> <span class="o">{</span>  
    <span class="n">Serializable</span> <span class="n">ser</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>  
    <span class="k">try</span> <span class="o">{</span>  
        <span class="n">ser</span> <span class="o">=</span> <span class="o">(</span><span class="n">Serializable</span><span class="o">)</span><span class="n">Base64</span><span class="o">.</span><span class="na">decodeToObject</span><span class="o">(</span><span class="n">str</span><span class="o">);</span>  
    <span class="o">}</span>  
    <span class="k">catch</span><span class="o">(</span><span class="n">IOException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>  
<span class="c1">// here, I handle the exception  
</span><span class="c1"></span>    <span class="o">}</span>  
    <span class="k">catch</span><span class="o">(</span><span class="n">ClassNotFoundException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>  
<span class="c1">// here, I handle the exception  
</span><span class="c1"></span>    <span class="o">}</span>  
    <span class="k">return</span> <span class="n">ser</span><span class="o">;</span>  
<span class="o">}</span>
</code></pre></div><p>The conversion to- and from <strong>base 64</strong> is performed using Robert Harder &rsquo;s
class found at <a href="http://iharder.net/base64">http://iharder.net/base64</a></p>
<p>These strings are stored in a simple <strong>key-value pairs</strong> database.</p>
<p><strong>Note</strong> : If you are a new Android developer, then please do not get in the
habit of serializing everything this way. There are <strong>better APIs</strong> available,
for instance for storing your instance states when your activity is frozen or
restarted by the system:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSaveInstanceState</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>  
    <span class="n">savedInstanceState</span><span class="o">.</span><span class="na">putSerializable</span><span class="o">(</span><span class="s">&#34;item_info_list&#34;</span><span class="o">,</span> <span class="k">this</span><span class="o">.</span><span class="na">itemInfoList</span><span class="o">);</span>  
    <span class="kd">super</span><span class="o">.</span><span class="na">onSaveInstanceState</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>    	  
<span class="o">}</span>	
</code></pre></div><p>Just make sure that your object <em>this.instanceObject</em> implements
<em>Serializable</em>.</p>
<p>You can download the .java file below. Its license is CC Attribution Share-
Alike. This license does not contaminate the rest of your code.<br>
[download id=&ldquo;3&rdquo;]</p>

                        </div>
                        <aside class="lg:block tableOfContentContainer border-indigo-200" id="tableOfContentContainer">
                        <h3>Contents</h3>
                        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#implementation">Implementation</a></li>
      </ul>
    </li>
  </ul>
</nav>
                        </aside>
                    </main>
                
              </section>

              
              <script>talkyardServerUrl='https:\/\/comments-for-nexus-zteo-com.talkyard.net';</script>
              <script async defer src="https://c1.ty-cdn.net/-/talkyard-comments.min.js"></script>
              
              <div class="talkyard-comments" data-discussion-id="" style="margin-top: 45px;">
                  <noscript>Please enable Javascript to view comments.</noscript>
                  <p style="margin-top: 25px; opacity: 0.9; font-size: 96%">Comments powered by
                  <a href="https://www.talkyard.io">Talkyard</a>.</p>
              </div>
              

              <footer class="post-footer">
                  <div class="post-tags">
            
                  </div>
                
              </footer>

            
                <aside class="post-comments">
    
    
    
</aside>

            
            </div>

            <nav class="post-nav">
                
                    <a class="post-nav-item post-nav-next" href="https://zteo.com/posts/update-your-xampp-php-and-keep-mediawiki-drupal-happy/">
                        <section class="post-nav-teaser">
                            <span class="post-nav-icon"><i class="fa fa-chevron-left"></i></span>
                            <span class="post-nav-info">
                                <h4 class="post-nav-title">Update your XAMPP PHP and keep Mediawiki &amp; Drupal happy</h4>
                            </span>
                        </section>
                    </a>
                
                
                    <a class="post-nav-item post-nav-prev" href="https://zteo.com/posts/jailbroken-iphones-now-safer/">
                        <section class="post-nav-teaser">
                            <span class="post-nav-icon"><i class="fa fa-chevron-right"></i></span>
                            <span class="post-nav-info">
                                <h4 class="post-nav-title">Jailbroken iPhones now safer?</h4>
                            </span>
                        </section>
                    </a>
                
                <div class="clear"></div>
            </nav>

        </div>
    </article>
</main>
<script>
window.addEventListener('DOMContentLoaded', () => {
    const observerForTableOfContentActiveState = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            const id = entry.target.getAttribute('id');

            if (entry.intersectionRatio > 0) {
                clearActiveStatesInTableOfContents();
                document.querySelector(`aside nav li a[href="#${id}"]`).parentElement.classList.add('active');
            }
        });
    });

    document.querySelectorAll('h1[id],h2[id],h3[id],h4[id]').forEach((section) => {
        observerForTableOfContentActiveState.observe(section);
    });
});

function clearActiveStatesInTableOfContents() {
    document.querySelectorAll('aside nav li').forEach((section) => {
        section.classList.remove('active');
    });
}
</script>

                <div id="body-class" style="display: none;"></div>
                <footer id="footer">
                    <section class="credits">
                        <span class="credits-license"><i class="fa fa-copyright"></i>2021 The Nexus
                    </span>
                    </section>
                </footer>
                

                

                
                <div class="overlay"></div>
            </div>
        </section>

<video autoplay loop id="video-background" muted plays-inline>
<source src="https://zteo.com/images/hd0198.mp4" type="video/mp4">
</video>

<script src="/mermaid/mermaid.js?1630106372"></script>
<script async src="https://zteo.com//js/main.js"></script>
<script async src="https://zteo.com//js/basicLightbox.min.js"></script>

<script>


function defer(method) {
    if (window.jQuery) {
        method();
    } else {
        setTimeout(function() { defer(method) }, 50);
    }
}
defer(function() {
    jQuery.fn.doubleTapToGo = function( params ) {
        if( !( 'ontouchstart' in window ) &&
            !navigator.msMaxTouchPoints &&
            !navigator.userAgent.toLowerCase().match( /windows phone os 7/i ) ) return false;

        this.each( function()
        {
            var curItem = false;

            jQuery( this ).on( 'click', function( e )
            {
                var item = jQuery( this );
                if( item[ 0 ] != curItem[ 0 ] )
                {
                    e.preventDefault();
                    curItem = item;
                }
            });

            jQuery( document ).on( 'click touchstart MSPointerDown', function( e )
            {
                var resetItem = true,
                    parents	  = jQuery( e.target ).parents();

                for( var i = 0; i < parents.length; i++ )
                    if( parents[ i ] == curItem[ 0 ] )
                        resetItem = false;

                if( resetItem )
                    curItem = false;
            });
        });
        return this;
    };
    jQuery( '#nav li:has(ul)' ).doubleTapToGo();
});
</script>

<script>
    mermaid.initialize({ startOnLoad: true });
</script>




  <noscript><link rel="stylesheet" href="https://zteo.com//css/main.css"></noscript>
</body>
</html>

