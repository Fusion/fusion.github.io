
<!DOCTYPE html>
<html lang="en-us">

<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta property="og:title" content=" Notes on enabling multisites in WP3.0 &middot;  The Nexus" />
    <meta property="og:site_name" content="The Nexus" />
    <meta property="og:url" content="http://zteo.com/posts/notes-on-enabling-multisites-in-wp30/" />

    
    <meta property="og:type" content="article" />
    <meta property="og:article:published_time" content="2010-05-29T08:17:48Z" />
    

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta name="twitter:title" content="Notes on enabling multisites in WP3.0" />
    
    <meta name="twitter:image" content="http://zteo.com/images/1011f9d9-6c21-4a1c-8984-5903d7feb58b.jpg" />
    
    <meta name="twitter:description" content="This is not a real article per se. It is more intended to be a conversation because Twitter would make this a tad difficult, with its 140 characters limit.
Two notes on moving to multisites:
1. Wordpress 3.0 final has not been released yet; I have no idea whether a safe upgrade can be guaranteed after enabling multisites
2. Multisites based on subdomains are possible; if you blog is not recent, you will not be offered directory-based sites" />
    <meta name="twitter:url" content="http://zteo.com/posts/notes-on-enabling-multisites-in-wp30/" />
    

    <title> Notes on enabling multisites in WP3.0 &middot;  The Nexus</title>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="preload" href="http://zteo.com//js/main.js" as="script" />
    <link rel="preload" href="http://zteo.com//css/main.css" as="style" />
    
    <link href="/mermaid/mermaid.cfr.css?1550962144" type="text/css" rel="stylesheet" />
    
    
    <link rel="preload" href="http://zteo.com//css/cfr.css" as="style" />
    <link rel="stylesheet" href="http://zteo.com//css/main.css">
    <link rel="stylesheet" href="http://zteo.com//css/cfr.css">
    <link rel="stylesheet" href="http://zteo.com//css/syntax.css">
    
    
    


    
    <meta name="description" content="Notes on enabling multisites in WP3.0" />
    

    
    <meta name="p:domain_verify" content=""/>
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    
    

    
    <link href="http://zteo.com/index.xml" rel="alternate" type="application/rss+xml" title="The Nexus" />
    

    
    <link rel="canonical" href="http://zteo.com/posts/notes-on-enabling-multisites-in-wp30/" />

    
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "http://zteo.com/posts/notes-on-enabling-multisites-in-wp30/"
        },
        "headline": "Notes on enabling multisites in WP3.0",
        "description": "Notes on enabling multisites in WP3.0",
        "author": {
            "@type": "Person",
            "name": " ",
            "url": "http://profiles.google.com/?rel=author",
            "image": {
              "@type": "ImageObject",
              "url": "https:",
              "height": 80,
              "width": 80
            }
        },
        "publisher": {
          "@type": "Organization",
          "@id": "http://zteo.com/",
          "name": "The Nexus",
          "url": "http://zteo.com/",
          "logo": {
            "@type": "ImageObject",
            "url": "https:",
            "height": 80,
            "width": 80
          }
        },
        "image": {
          "@type": "ImageObject",
          "url": "http://zteo.com/1011f9d9-6c21-4a1c-8984-5903d7feb58b.jpg",
          "height": 133,
          "width": 200
        },
        "datePublished": "2010-05-29",
        "dateModified": "2010-05-29",
        "wordCount": 468,
        
    }
    </script>
    

    
    <script type="text/javascript">
        
        
    </script>
    

    <script type="text/javascript">
        var config = {
            baseUrl: "http:\/\/zteo.com\/"
        };
    </script>

</head>
<body class="home-template">
<div id="loader-wrapper">
    <div id="loader"></div>
</div>
<section id="wrapper" style="display: none;">
    <div id="ajax-container">
        <nav id="nav" class="nav">
            <div class="nav-logo">
                <a href="http://zteo.com/">
                    
                    The Nexus
                    
                </a>
            </div>

            <nav id="nav2" role="navigation">
                <a href="#nav" title="Show navigation">Show navigation</a>
                <a href="#" title="Hide navigation">Hide navigation</a>
                <ul class="clearfix">
                    <li><a href="http://zteo.com/">BLOG</a></li>
                    <li>
                        <a href="http://zteo.com/meta/about" aria-haspopup="true"><span>ABOUT</span></a>
                        <ul>
                            <li><a href="http://zteo.com/meta/egosurfing">Ego Surfing</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="http://zteo.com/projects/projects-list" aria-haspopup="true"><span>PROJECTS</span></a>
                        <ul>
                            <li><a href="http://zteo.com/projects/n2">n2</a></li>
                            <li><a href="http://zteo.com/projects/s2ajax">S2ajax</a></li>
                            <li><a href="http://zteo.com/projects/condo">Condo</a></li>
                            <li><a href="http://zteo.com/projects/ezedit">ezEdit</a></li>
                            <li><a href="http://zteo.com/projects/freeblog">FreeBlog - Air</a></li>
                            <li><a href="http://zteo.com/projects/tooredo-alpha">Tooredo Alpha</a></li>
                            <li><a href="http://zteo.com/projects/tools">Tools</a></li>
                            <li><a href="http://zteo.com/projects/journler-again">Journlr, Again!</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>


            <div id="main-menu" class="nav-menu">
                
                
                <a id="search-button" onclick="$('#search-form').toggle();" title="Search"><i class="fa fa-search"></i></a>
                <form id="search-form" method="get" role="search" action="https://google.com/search">
                    <input type="hidden" name="as_sitesearch" value="http://zteo.com/">
                    <input type="text" name="q" maxlength="255" placeholder="Search..." class="form-control">
                    <input type="submit" value="Search">
                </form>
                
                
                
                
            </div>
        </nav>


<main class="content" role="main">
    <article class="post post-with-bg">
        <div class="inner">

            <div id="push">

                <header class="post-header">
                
                    <span class="post-meta">
                        <span class="post-date">29 May 2010</span> <span class="reading-time">| <span class="estimated-reading-time">3 min.</span> (<span class="word-count">468</span> words)</span></span>
                    </span>
                <div class="clear"></div>
                
                <h1 class="post-title">Notes on enabling multisites in WP3.0</h1>
              </header>

              <section class="post-content">
                

                
                
                

                

<p><a href="http://www.sxc.hu/photo/182229/"><img src="/images/182229_7006-225x300.jpg" alt="\(c\) Davide Guglielmo" /></a>
<em>This is not a real article per se. It is more intended to be a conversation
because Twitter would make this a tad difficult, with its 140 characters
limit.</em></p>

<p>Two notes on moving to multisites:</p>

<p>1. Wordpress 3.0 final has not been released yet; I have no idea whether a
safe upgrade can be guaranteed after enabling multisites</p>

<p>2. Multisites based on subdomains are possible; if you blog is not recent,
you will <strong>not</strong> be offered directory-based sites</p>

<p>First, edit wp-config.php, add towards the top:</p>
<div class="highlight"><pre class="chroma"><code class="language-php" data-lang="php">define(&#39;WP_ALLOW_MULTISITE&#39;, true);</code></pre></div>
<p>In the ACP, go to Tools &gt; Network</p>

<p>This page shows how to modify your default wp-config.php and your .htaccess
(for SEO links)<br />
Do not worry if some of the text looks similar to what you already have in
your existing wp-config.php; it is, in fact, different and necessary.</p>

<p>When this is done, your current blog should work as before; you may see some
things that needs fixing if using some new features such as &ldquo;make thumbnail.&rdquo;
See below.</p>

<p>Your last step in the ACP, whether you are migrating from Wordpress or
Wordpress MU, is to go to Super Admin &gt; Update and let Wordpress update all
your blogs.</p>

<p><strong>Update</strong> : Do not forget to also create, under wp-content/, a directory
called <em>blogs.dir</em> and make it writable by your web server.<br />
Next, you may, for historical reasons, have some loose files lying around,
e.g. images, which will not be displayed correctly anymore; for instance,
Thumbnails.<br />
If this happens, using the command-line again, go to where these files are
located (typically <em>/files/</em> or <em>/wp-content/uploads/</em> ) and type:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">cp -R * ../wp-content/blogs.dir/1/files/</code></pre></div>
<p>Now, let&rsquo;s say your site can be found at <a href="http://example.com">http://example.com</a><br />
Your subdomains/blogs should be created at <a href="http://blog1.example.com">http://blog1.example.com</a>
<a href="http://anotherblog.example.com">http://anotherblog.example.com</a> etc.<br />
You can either place a wildcard record in your DNS configuration, e.g.:</p>
<div class="highlight"><pre class="chroma"><code class="language-conf" data-lang="conf">*       14400        IN A  1.1.1.1</code></pre></div>
<p>where 1.1.1.1 is your IP address;<br />
Or you can create a new DNS entry for each subdomain.</p>

<p>You will also need to tell your web server that subdomains are enabled. The
way to do this varies based on your web server and control panel. Or
configuration files if you are more of the command-line creed.</p>

<p>If you wish to use different domains altogether, this is still untested but I
will give it a try eventually; there are plug-ins, in the <em>extend</em> database,
that map domains to sub-domains.</p>

<h2 id="what-about-seo">What about SEO?</h2>

<p>I know. You&rsquo;ve noticed that even your main blog now has slightly different
URLs: where it used to be something like &lsquo;www.example.com/2009/11/26/&hellip;&rsquo; it
now is &lsquo;www.example.com/ <strong>blog/</strong> 2009/11/26/&hellip;&rsquo;<br />
Fear not! Wordpress is nice enough to keep these old links ready for any
visitor following a link from elsewhere. The old address simply returns a &lsquo;301
- Moved permanently&rsquo; header which will tell search engines that your content
has not disappeared but simply relocated, and where.</p>

              </section>

              <footer class="post-footer">
                  <div class="post-tags">
            
                  </div>
                
              </footer>

            
                <aside class="post-comments">
    
    
    
</aside>

            
            </div>

            <nav class="post-nav">
                
                    <a class="post-nav-item post-nav-next" href="http://zteo.com/posts/wordpress-plugin-page-themethemes-your-pages/">
                        <section class="post-nav-teaser">
                            <span class="post-nav-icon"><i class="fa fa-chevron-left"></i></span>
                            <span class="post-nav-info">
                                <h4 class="post-nav-title">Wordpress Plugin: Page-Theme...themes your pages!</h4>
                            </span>
                        </section>
                    </a>
                
                
                    <a class="post-nav-item post-nav-prev" href="http://zteo.com/posts/clean-up-wordpress-and-upgrade-to-30/">
                        <section class="post-nav-teaser">
                            <span class="post-nav-icon"><i class="fa fa-chevron-right"></i></span>
                            <span class="post-nav-info">
                                <h4 class="post-nav-title">Clean-up Wordpress and upgrade to 3.0</h4>
                            </span>
                        </section>
                    </a>
                
                <div class="clear"></div>
            </nav>

        </div>
    </article>
</main>

                <div id="body-class" style="display: none;"></div>
                <footer id="footer">
                    <section class="credits">
                        <span class="credits-license"><i class="fa fa-copyright"></i>2019 The Nexus
                    </span>
                    </section>
                </footer>
                

                

                
                <div class="overlay"></div>
            </div>
        </section>

<video autoplay loop id="video-background" muted plays-inline>
<source src="http://zteo.com/images/hd0198.mp4" type="video/mp4">
</video>

<script src="/mermaid/mermaid.js?1550962144"></script>
<script async src="http://zteo.com//js/main.js"></script>

<script>


function defer(method) {
    if (window.jQuery) {
        method();
    } else {
        setTimeout(function() { defer(method) }, 50);
    }
}
defer(function() {
    jQuery.fn.doubleTapToGo = function( params ) {
        if( !( 'ontouchstart' in window ) &&
            !navigator.msMaxTouchPoints &&
            !navigator.userAgent.toLowerCase().match( /windows phone os 7/i ) ) return false;

        this.each( function()
        {
            var curItem = false;

            jQuery( this ).on( 'click', function( e )
            {
                var item = jQuery( this );
                if( item[ 0 ] != curItem[ 0 ] )
                {
                    e.preventDefault();
                    curItem = item;
                }
            });

            jQuery( document ).on( 'click touchstart MSPointerDown', function( e )
            {
                var resetItem = true,
                    parents	  = jQuery( e.target ).parents();

                for( var i = 0; i < parents.length; i++ )
                    if( parents[ i ] == curItem[ 0 ] )
                        resetItem = false;

                if( resetItem )
                    curItem = false;
            });
        });
        return this;
    };
    jQuery( '#nav li:has(ul)' ).doubleTapToGo();
});
</script>

<script>
    mermaid.initialize({ startOnLoad: true });
</script>




  <noscript><link rel="stylesheet" href="http://zteo.com//css/main.css"></noscript>
</body>
</html>

