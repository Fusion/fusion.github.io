
<!DOCTYPE html>
<html lang="en-us">

<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta property="og:title" content=" Android StatusBar Height, the cautious way &middot;  The Nexus" />
    <meta property="og:site_name" content="The Nexus" />
    <meta property="og:url" content="http://nexus.zteo.com/posts/android-statusbar-height-the-cautious-way/" />

    
    <meta property="og:type" content="article" />
    <meta property="og:article:published_time" content="2011-11-08T08:47:28Z" />
    

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta name="twitter:title" content="Android StatusBar Height, the cautious way" />
    
    <meta name="twitter:image" content="http://nexus.zteo.com/images/064c4b6d-1ea6-4a6f-af82-0a30099fc33e.jpg" />
    
    <meta name="twitter:description" content="A lot of applications expect the status bar to be at the top of your device&rsquo;s screen. It&rsquo;s true in most cases so their developers are somewhat justified in making this assumption.
However, with more and more tablets on the market, this is becoming an increasingly dangerous assumption.
Also somewhat dangerous: the notion that your status bar&rsquo;s height will be (your visible area&rsquo;s height - zero). Google never made any commitment that the status bar will always start at pixel zero." />
    <meta name="twitter:url" content="http://nexus.zteo.com/posts/android-statusbar-height-the-cautious-way/" />
    

    <title> Android StatusBar Height, the cautious way &middot;  The Nexus</title>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="preload" href="http://nexus.zteo.com//js/main.js" as="script" />
    <link rel="preload" href="http://nexus.zteo.com//css/main.css" as="style" />
    
    <link rel="preload" href="http://nexus.zteo.com//css/cfr.css" as="style" />
    <link rel="stylesheet" href="http://nexus.zteo.com//css/main.css">
    <link rel="stylesheet" href="http://nexus.zteo.com//css/cfr.css">
    <link rel="stylesheet" href="http://nexus.zteo.com//css/syntax.css">
    
    
    


    
    <meta name="description" content="Android StatusBar Height, the cautious way" />
    

    
    <meta name="p:domain_verify" content=""/>
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    
    

    
    <link href="http://nexus.zteo.com/index.xml" rel="alternate" type="application/rss+xml" title="The Nexus" />
    

    
    <link rel="canonical" href="http://nexus.zteo.com/posts/android-statusbar-height-the-cautious-way/" />

    
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "http://nexus.zteo.com/posts/android-statusbar-height-the-cautious-way/"
        },
        "headline": "Android StatusBar Height, the cautious way",
        "description": "Android StatusBar Height, the cautious way",
        "author": {
            "@type": "Person",
            "name": " ",
            "url": "http://profiles.google.com/?rel=author",
            "image": {
              "@type": "ImageObject",
              "url": "https:",
              "height": 80,
              "width": 80
            }
        },
        "publisher": {
          "@type": "Organization",
          "@id": "http://nexus.zteo.com/",
          "name": "The Nexus",
          "url": "http://nexus.zteo.com/",
          "logo": {
            "@type": "ImageObject",
            "url": "https:",
            "height": 80,
            "width": 80
          }
        },
        "image": {
          "@type": "ImageObject",
          "url": "http://nexus.zteo.com/064c4b6d-1ea6-4a6f-af82-0a30099fc33e.jpg",
          "height": 133,
          "width": 200
        },
        "datePublished": "2011-11-08",
        "dateModified": "2011-11-08",
        "wordCount": 129,
        
    }
    </script>
    

    
    <script type="text/javascript">
        
        
    </script>
    

    <script type="text/javascript">
        var config = {
            baseUrl: "http:\/\/nexus.zteo.com\/"
        };
    </script>

</head>
<body class="home-template">
<div id="loader-wrapper">
    <div id="loader"></div>
</div>
<section id="wrapper" style="display: none;">
    <div id="ajax-container">
        <nav id="nav" class="nav">
            <div class="nav-logo">
                <a href="http://nexus.zteo.com/">
                    
                    The Nexus
                    
                </a>
            </div>
            <div id="main-menu" class="nav-menu">
                
                
                <a id="search-button" onclick="$('#search-form').toggle();" title="Search"><i class="fa fa-search"></i></a>
                <form id="search-form" method="get" role="search" action="https://google.com/search">
                    <input type="hidden" name="as_sitesearch" value="http://nexus.zteo.com/">
                    <input type="text" name="q" maxlength="255" placeholder="Search..." class="form-control">
                    <input type="submit" value="Search">
                </form>
                
                
                
                
            </div>
        </nav>


<main class="content" role="main">
    <article class="post post-with-bg">
        <div class="inner">

            <div id="push">

                <header class="post-header">
                
                    <span class="post-meta">
                        <span class="post-date">8 Nov 2011</span> <span class="reading-time">| <span class="estimated-reading-time">1 min.</span> (<span class="word-count">129</span> words)</span></span>
                    </span>
                <div class="clear"></div>
                
                <h1 class="post-title">Android StatusBar Height, the cautious way</h1>
              </header>

              <section class="post-content">
                
                  <p><a href="http://www.flickr.com/photos/asirap/5587611705/sizes/z/in/photostream/"><img src="/images/5587611705_2aa6dfbe31_z-300x200.jpg" alt="" /></a>A
lot of applications expect the status bar to be at the top of your device&rsquo;s
screen. It&rsquo;s true in most cases so their developers are somewhat justified in
making this assumption.<br />
However, with more and more tablets on the market, this is becoming an
increasingly dangerous assumption.</p>

<p>Also somewhat dangerous: the notion that your status bar&rsquo;s height will be
(your visible area&rsquo;s height - zero). Google never made any commitment that the
status bar will always start at pixel zero.</p>

<p>So, here is how I do it:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Rect</span> <span class="n">outerRect</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Rect</span><span class="o">();</span>
<span class="n">Rect</span> <span class="n">usableRect</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Rect</span><span class="o">();</span>
<span class="n">Window</span> <span class="n">window</span><span class="o">=</span> <span class="n">Home</span><span class="o">.</span><span class="na">getInstance</span><span class="o">().</span><span class="na">getWindow</span><span class="o">();</span>
<span class="n">window</span><span class="o">.</span><span class="na">getDecorView</span><span class="o">().</span><span class="na">getGlobalVisibleRect</span><span class="o">(</span><span class="n">outerRect</span><span class="o">);</span>
<span class="n">window</span><span class="o">.</span><span class="na">getDecorView</span><span class="o">().</span><span class="na">getWindowVisibleDisplayFrame</span><span class="o">(</span><span class="n">usableRect</span><span class="o">);</span>
<span class="n">statusBarHeight</span> <span class="o">=</span> <span class="n">usableRect</span><span class="o">.</span><span class="na">top</span> <span class="o">-</span> <span class="n">outerRect</span><span class="o">.</span><span class="na">top</span><span class="o">;</span>
<span class="c1">// Sometimes, status bar is at bottom...
</span><span class="c1"></span><span class="kt">int</span> <span class="n">bottomGap</span> <span class="o">=</span> <span class="n">outerRect</span><span class="o">.</span><span class="na">bottom</span> <span class="o">-</span> <span class="n">usableRect</span><span class="o">.</span><span class="na">bottom</span><span class="o">;</span>
<span class="k">if</span><span class="o">(</span><span class="n">bottomGap</span> <span class="o">&gt;</span> <span class="n">statusBarHeight</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">statusBarHeight</span> <span class="o">=</span> <span class="n">bottomGap</span><span class="o">;</span>
<span class="o">}</span></code></pre></div>
              </section>

              <footer class="post-footer">
                  <div class="post-tags">
            
                  </div>
                
              </footer>

            
                <aside class="post-comments">
    
    
    
</aside>

            
            </div>

            <nav class="post-nav">
                
                    <a class="post-nav-item post-nav-next" href="http://nexus.zteo.com/posts/roottools-15-nativetools-10/">
                        <section class="post-nav-teaser">
                            <span class="post-nav-icon"><i class="fa fa-chevron-left"></i></span>
                            <span class="post-nav-info">
                                <h4 class="post-nav-title">RootTools 1.5, NativeTools 1.0</h4>
                            </span>
                        </section>
                    </a>
                
                
                    <a class="post-nav-item post-nav-prev" href="http://nexus.zteo.com/posts/a-fast-low-memory-growable-array-for-android/">
                        <section class="post-nav-teaser">
                            <span class="post-nav-icon"><i class="fa fa-chevron-right"></i></span>
                            <span class="post-nav-info">
                                <h4 class="post-nav-title">A fast, low-memory growable array for Android</h4>
                            </span>
                        </section>
                    </a>
                
                <div class="clear"></div>
            </nav>

        </div>
    </article>
</main>

                <div id="body-class" style="display: none;"></div>
                <footer id="footer">
                    <section class="credits">
                        <span class="credits-license"><i class="fa fa-copyright"></i>2018 The Nexus
                    </span>
                    </section>
                </footer>
                

                

                
                <div class="overlay"></div>
            </div>
        </section>

<video autoplay loop id="video-background" muted plays-inline>
<source src="http://nexus.zteo.com/static/vid/hd0198.mp4" type="video/mp4">
</video>



    <script async src="http://nexus.zteo.com//js/main.js"></script>



  <noscript><link rel="stylesheet" href="http://nexus.zteo.com//css/main.css"></noscript>
</body>
</html>

